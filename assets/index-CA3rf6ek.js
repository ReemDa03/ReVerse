(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function ub(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mp={exports:{}},jl={},Fp={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function cb(){if(r_)return Qe;r_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function P(z,J,pe){this.props=z,this.context=J,this.refs=R,this.updater=pe||S}P.prototype.isReactComponent={},P.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},P.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=P.prototype;function x(z,J,pe){this.props=z,this.context=J,this.refs=R,this.updater=pe||S}var O=x.prototype=new j;O.constructor=x,I(O,P.prototype),O.isPureReactComponent=!0;var M=Array.isArray,B=Object.prototype.hasOwnProperty,Q={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function b(z,J,pe){var Pe,Ne={},$e=null,Xe=null;if(J!=null)for(Pe in J.ref!==void 0&&(Xe=J.ref),J.key!==void 0&&($e=""+J.key),J)B.call(J,Pe)&&!D.hasOwnProperty(Pe)&&(Ne[Pe]=J[Pe]);var Ke=arguments.length-2;if(Ke===1)Ne.children=pe;else if(1<Ke){for(var ot=Array(Ke),mt=0;mt<Ke;mt++)ot[mt]=arguments[mt+2];Ne.children=ot}if(z&&z.defaultProps)for(Pe in Ke=z.defaultProps,Ke)Ne[Pe]===void 0&&(Ne[Pe]=Ke[Pe]);return{$$typeof:n,type:z,key:$e,ref:Xe,props:Ne,_owner:Q.current}}function k(z,J){return{$$typeof:n,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function F(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return J[pe]})}var $=/\/+/g;function V(z,J){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):J.toString(36)}function ge(z,J,pe,Pe,Ne){var $e=typeof z;($e==="undefined"||$e==="boolean")&&(z=null);var Xe=!1;if(z===null)Xe=!0;else switch($e){case"string":case"number":Xe=!0;break;case"object":switch(z.$$typeof){case n:case e:Xe=!0}}if(Xe)return Xe=z,Ne=Ne(Xe),z=Pe===""?"."+V(Xe,0):Pe,M(Ne)?(pe="",z!=null&&(pe=z.replace($,"$&/")+"/"),ge(Ne,J,pe,"",function(mt){return mt})):Ne!=null&&(L(Ne)&&(Ne=k(Ne,pe+(!Ne.key||Xe&&Xe.key===Ne.key?"":(""+Ne.key).replace($,"$&/")+"/")+z)),J.push(Ne)),1;if(Xe=0,Pe=Pe===""?".":Pe+":",M(z))for(var Ke=0;Ke<z.length;Ke++){$e=z[Ke];var ot=Pe+V($e,Ke);Xe+=ge($e,J,pe,ot,Ne)}else if(ot=v(z),typeof ot=="function")for(z=ot.call(z),Ke=0;!($e=z.next()).done;)$e=$e.value,ot=Pe+V($e,Ke++),Xe+=ge($e,J,pe,ot,Ne);else if($e==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Xe}function ke(z,J,pe){if(z==null)return z;var Pe=[],Ne=0;return ge(z,Pe,"","",function($e){return J.call(pe,$e,Ne++)}),Pe}function ye(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var Ie={current:null},te={transition:null},fe={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:te,ReactCurrentOwner:Q};function re(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:ke,forEach:function(z,J,pe){ke(z,function(){J.apply(this,arguments)},pe)},count:function(z){var J=0;return ke(z,function(){J++}),J},toArray:function(z){return ke(z,function(J){return J})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Qe.Component=P,Qe.Fragment=t,Qe.Profiler=i,Qe.PureComponent=x,Qe.StrictMode=r,Qe.Suspense=d,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Qe.act=re,Qe.cloneElement=function(z,J,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Pe=I({},z.props),Ne=z.key,$e=z.ref,Xe=z._owner;if(J!=null){if(J.ref!==void 0&&($e=J.ref,Xe=Q.current),J.key!==void 0&&(Ne=""+J.key),z.type&&z.type.defaultProps)var Ke=z.type.defaultProps;for(ot in J)B.call(J,ot)&&!D.hasOwnProperty(ot)&&(Pe[ot]=J[ot]===void 0&&Ke!==void 0?Ke[ot]:J[ot])}var ot=arguments.length-2;if(ot===1)Pe.children=pe;else if(1<ot){Ke=Array(ot);for(var mt=0;mt<ot;mt++)Ke[mt]=arguments[mt+2];Pe.children=Ke}return{$$typeof:n,type:z.type,key:Ne,ref:$e,props:Pe,_owner:Xe}},Qe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Qe.createElement=b,Qe.createFactory=function(z){var J=b.bind(null,z);return J.type=z,J},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(z){return{$$typeof:c,render:z}},Qe.isValidElement=L,Qe.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:ye}},Qe.memo=function(z,J){return{$$typeof:f,type:z,compare:J===void 0?null:J}},Qe.startTransition=function(z){var J=te.transition;te.transition={};try{z()}finally{te.transition=J}},Qe.unstable_act=re,Qe.useCallback=function(z,J){return Ie.current.useCallback(z,J)},Qe.useContext=function(z){return Ie.current.useContext(z)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(z){return Ie.current.useDeferredValue(z)},Qe.useEffect=function(z,J){return Ie.current.useEffect(z,J)},Qe.useId=function(){return Ie.current.useId()},Qe.useImperativeHandle=function(z,J,pe){return Ie.current.useImperativeHandle(z,J,pe)},Qe.useInsertionEffect=function(z,J){return Ie.current.useInsertionEffect(z,J)},Qe.useLayoutEffect=function(z,J){return Ie.current.useLayoutEffect(z,J)},Qe.useMemo=function(z,J){return Ie.current.useMemo(z,J)},Qe.useReducer=function(z,J,pe){return Ie.current.useReducer(z,J,pe)},Qe.useRef=function(z){return Ie.current.useRef(z)},Qe.useState=function(z){return Ie.current.useState(z)},Qe.useSyncExternalStore=function(z,J,pe){return Ie.current.useSyncExternalStore(z,J,pe)},Qe.useTransition=function(){return Ie.current.useTransition()},Qe.version="18.3.1",Qe}var i_;function Ih(){return i_||(i_=1,Fp.exports=cb()),Fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function db(){if(s_)return jl;s_=1;var n=Ih(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,y={},v=null,S=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:v,ref:S,props:y,_owner:i.current}}return jl.Fragment=t,jl.jsx=l,jl.jsxs=l,jl}var o_;function hb(){return o_||(o_=1,Mp.exports=db()),Mp.exports}var E=hb(),cd={},Up={exports:{}},jn={},Bp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function fb(){return a_||(a_=1,function(n){function e(te,fe){var re=te.length;te.push(fe);e:for(;0<re;){var z=re-1>>>1,J=te[z];if(0<i(J,fe))te[z]=fe,te[re]=J,re=z;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var fe=te[0],re=te.pop();if(re!==fe){te[0]=re;e:for(var z=0,J=te.length,pe=J>>>1;z<pe;){var Pe=2*(z+1)-1,Ne=te[Pe],$e=Pe+1,Xe=te[$e];if(0>i(Ne,re))$e<J&&0>i(Xe,Ne)?(te[z]=Xe,te[$e]=re,z=$e):(te[z]=Ne,te[Pe]=re,z=Pe);else if($e<J&&0>i(Xe,re))te[z]=Xe,te[$e]=re,z=$e;else break e}}return fe}function i(te,fe){var re=te.sortIndex-fe.sortIndex;return re!==0?re:te.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,y=null,v=3,S=!1,I=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(te){for(var fe=t(f);fe!==null;){if(fe.callback===null)r(f);else if(fe.startTime<=te)r(f),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(f)}}function M(te){if(R=!1,O(te),!I)if(t(d)!==null)I=!0,ye(B);else{var fe=t(f);fe!==null&&Ie(M,fe.startTime-te)}}function B(te,fe){I=!1,R&&(R=!1,j(b),b=-1),S=!0;var re=v;try{for(O(fe),y=t(d);y!==null&&(!(y.expirationTime>fe)||te&&!F());){var z=y.callback;if(typeof z=="function"){y.callback=null,v=y.priorityLevel;var J=z(y.expirationTime<=fe);fe=n.unstable_now(),typeof J=="function"?y.callback=J:y===t(d)&&r(d),O(fe)}else r(d);y=t(d)}if(y!==null)var pe=!0;else{var Pe=t(f);Pe!==null&&Ie(M,Pe.startTime-fe),pe=!1}return pe}finally{y=null,v=re,S=!1}}var Q=!1,D=null,b=-1,k=5,L=-1;function F(){return!(n.unstable_now()-L<k)}function $(){if(D!==null){var te=n.unstable_now();L=te;var fe=!0;try{fe=D(!0,te)}finally{fe?V():(Q=!1,D=null)}}else Q=!1}var V;if(typeof x=="function")V=function(){x($)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ke=ge.port2;ge.port1.onmessage=$,V=function(){ke.postMessage(null)}}else V=function(){P($,0)};function ye(te){D=te,Q||(Q=!0,V())}function Ie(te,fe){b=P(function(){te(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){I||S||(I=!0,ye(B))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(te){switch(v){case 1:case 2:case 3:var fe=3;break;default:fe=v}var re=v;v=fe;try{return te()}finally{v=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var re=v;v=te;try{return fe()}finally{v=re}},n.unstable_scheduleCallback=function(te,fe,re){var z=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?z+re:z):re=z,te){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,te={id:m++,callback:fe,priorityLevel:te,startTime:re,expirationTime:J,sortIndex:-1},re>z?(te.sortIndex=re,e(f,te),t(d)===null&&te===t(f)&&(R?(j(b),b=-1):R=!0,Ie(M,re-z))):(te.sortIndex=J,e(d,te),I||S||(I=!0,ye(B))),te},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(te){var fe=v;return function(){var re=v;v=fe;try{return te.apply(this,arguments)}finally{v=re}}}}($p)),$p}var l_;function pb(){return l_||(l_=1,Bp.exports=fb()),Bp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function mb(){if(u_)return jn;u_=1;var n=Ih(),e=pb();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(s){return d.call(y,s)?!0:d.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function S(s,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,o,u,p){if(o===null||typeof o>"u"||S(s,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(s,o,u,p,g,w,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=C}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];P[o]=new R(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function x(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(j,x);P[o]=new R(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(j,x);P[o]=new R(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(j,x);P[o]=new R(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,o,u,p){var g=P.hasOwnProperty(o)?P[o]:null;(g!==null?g.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,u,g,p)&&(u=null),p||g===null?v(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,p=g.attributeNamespace,u===null?s.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,p?s.setAttributeNS(p,o,u):s.setAttribute(o,u))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),Q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),te=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,z;function J(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var pe=!1;function Pe(s,o){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var p=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){p=X}s.call(o.prototype)}else{try{throw Error()}catch(X){p=X}s()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),w=p.stack.split(`
`),C=g.length-1,U=w.length-1;1<=C&&0<=U&&g[C]!==w[U];)U--;for(;1<=C&&0<=U;C--,U--)if(g[C]!==w[U]){if(C!==1||U!==1)do if(C--,U--,0>U||g[C]!==w[U]){var H=`
`+g[C].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=C&&0<=U);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?J(s):""}function Ne(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=Pe(s.type,!1),s;case 11:return s=Pe(s.type.render,!1),s;case 1:return s=Pe(s.type,!0),s;default:return""}}function $e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Q:return"Portal";case k:return"Profiler";case b:return"StrictMode";case V:return"Suspense";case ge:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case $:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return o=s.displayName||null,o!==null?o:$e(s.type)||"Memo";case ye:o=s._payload,s=s._init;try{return $e(s(o))}catch{}}return null}function Xe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ot(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function mt(s){var o=ot(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(C){p=""+C,w.call(this,C)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function gt(s){s._valueTracker||(s._valueTracker=mt(s))}function Ht(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=ot(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function Pt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ai(s,o){var u=o.checked;return re({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function li(s,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Ke(o.value!=null?o.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Li(s,o){o=o.checked,o!=null&&O(s,"checked",o,!1)}function js(s,o){Li(s,o);var u=Ke(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ji(s,o.type,u):o.hasOwnProperty("defaultValue")&&ji(s,o.type,Ke(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ui(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ji(s,o,u){(o!=="number"||Pt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Jn=Array.isArray;function Un(s,o,u,p){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Ke(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Fr(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ur(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Jn(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ke(u)}}function Mi(s,o){var u=Ke(o.value),p=Ke(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function ae(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function q(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?q(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ce,ze=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,g){MSApp.execUnsafeLocalFunction(function(){return s(o,u,p,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ce=ce||document.createElement("div"),ce.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ce.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ue(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ee=["Webkit","ms","Moz","O"];Object.keys(Ye).forEach(function(s){ee.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ye[o]=Ye[s]})});function ne(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ye.hasOwnProperty(s)&&Ye[s]?(""+o).trim():o+"px"}function xe(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,g=ne(u,o[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,g):s[u]=g}}var Ee=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(s,o){if(o){if(Ee[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function qe(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ut=null;function dt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var at=null,ht=null,ct=null;function At(s){if(s=Tl(s)){if(typeof at!="function")throw Error(t(280));var o=s.stateNode;o&&(o=xc(o),at(s.stateNode,s.type,o))}}function nn(s){ht?ct?ct.push(s):ct=[s]:ht=s}function Bn(){if(ht){var s=ht,o=ct;if(ct=ht=null,At(s),o)for(s=0;s<o.length;s++)At(o[s])}}function Zn(s,o){return s(o)}function Fi(){}var er=!1;function tl(s,o,u){if(er)return s(o,u);er=!0;try{return Zn(s,o,u)}finally{er=!1,(ht!==null||ct!==null)&&(Fi(),Bn())}}function Lt(s,o){var u=s.stateNode;if(u===null)return null;var p=xc(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Ao=!1;if(c)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Ao=!1}function Ms(s,o,u,p,g,w,C,U,H){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(ue){this.onError(ue)}}var Fs=!1,Ro=null,mr=!1,nl=null,hf={onError:function(s){Fs=!0,Ro=s}};function ko(s,o,u,p,g,w,C,U,H){Fs=!1,Ro=null,Ms.apply(hf,arguments)}function Yu(s,o,u,p,g,w,C,U,H){if(ko.apply(this,arguments),Fs){if(Fs){var X=Ro;Fs=!1,Ro=null}else throw Error(t(198));mr||(mr=!0,nl=X)}}function gr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Us(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function yr(s){if(gr(s)!==s)throw Error(t(188))}function Xu(s){var o=s.alternate;if(!o){if(o=gr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,p=o;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(p=g.return,p!==null){u=p;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return yr(g),s;if(w===p)return yr(g),o;w=w.sibling}throw Error(t(188))}if(u.return!==p.return)u=g,p=w;else{for(var C=!1,U=g.child;U;){if(U===u){C=!0,u=g,p=w;break}if(U===p){C=!0,p=g,u=w;break}U=U.sibling}if(!C){for(U=w.child;U;){if(U===u){C=!0,u=w,p=g;break}if(U===p){C=!0,p=w,u=g;break}U=U.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function rl(s){return s=Xu(s),s!==null?No(s):null}function No(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=No(s);if(o!==null)return o;s=s.sibling}return null}var Oo=e.unstable_scheduleCallback,il=e.unstable_cancelCallback,Ju=e.unstable_shouldYield,ff=e.unstable_requestPaint,_t=e.unstable_now,Zu=e.unstable_getCurrentPriorityLevel,Bs=e.unstable_ImmediatePriority,Ui=e.unstable_UserBlockingPriority,tr=e.unstable_NormalPriority,sl=e.unstable_LowPriority,ec=e.unstable_IdlePriority,$s=null,$n=null;function tc(s){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot($s,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:rc,ol=Math.log,nc=Math.LN2;function rc(s){return s>>>=0,s===0?32:31-(ol(s)/nc|0)|0}var Do=64,Vo=4194304;function Bi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function zs(s,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,w=s.pingedLanes,C=u&268435455;if(C!==0){var U=C&~g;U!==0?p=Bi(U):(w&=C,w!==0&&(p=Bi(w)))}else C=u&~g,C!==0?p=Bi(C):w!==0&&(p=Bi(w));if(p===0)return 0;if(o!==0&&o!==p&&(o&g)===0&&(g=p&-p,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)u=31-En(o),g=1<<u,p|=s[u],o&=~g;return p}function pf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ci(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var C=31-En(w),U=1<<C,H=g[C];H===-1?((U&u)===0||(U&p)!==0)&&(g[C]=pf(U,o)):H<=o&&(s.expiredLanes|=U),w&=~U}}function zn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Hs(){var s=Do;return Do<<=1,(Do&4194240)===0&&(Do=64),s}function $i(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function zi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-En(o),s[o]=u}function yt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-En(u),w=1<<g;o[g]=0,p[g]=-1,s[g]=-1,u&=~w}}function Hi(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-En(u),g=1<<p;g&o|s[p]&o&&(s[p]|=o),u&=~g}}var et=0;function Wi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ic,Lo,sc,oc,ac,al=!1,Br=[],rn=null,vr=null,_r=null,qi=new Map,nr=new Map,$r=[],mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(s,o){switch(s){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":qi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(o.pointerId)}}function Rn(s,o,u,p,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[g]},o!==null&&(o=Tl(o),o!==null&&Lo(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function gf(s,o,u,p,g){switch(o){case"focusin":return rn=Rn(rn,s,o,u,p,g),!0;case"dragenter":return vr=Rn(vr,s,o,u,p,g),!0;case"mouseover":return _r=Rn(_r,s,o,u,p,g),!0;case"pointerover":var w=g.pointerId;return qi.set(w,Rn(qi.get(w)||null,s,o,u,p,g)),!0;case"gotpointercapture":return w=g.pointerId,nr.set(w,Rn(nr.get(w)||null,s,o,u,p,g)),!0}return!1}function uc(s){var o=Qs(s.target);if(o!==null){var u=gr(o);if(u!==null){if(o=u.tag,o===13){if(o=Us(u),o!==null){s.blockedOn=o,ac(s.priority,function(){sc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function di(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=jo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);ut=p,u.target.dispatchEvent(p),ut=null}else return o=Tl(u),o!==null&&Lo(o),s.blockedOn=u,!1;o.shift()}return!0}function Ws(s,o,u){di(s)&&u.delete(o)}function cc(){al=!1,rn!==null&&di(rn)&&(rn=null),vr!==null&&di(vr)&&(vr=null),_r!==null&&di(_r)&&(_r=null),qi.forEach(Ws),nr.forEach(Ws)}function wr(s,o){s.blockedOn===o&&(s.blockedOn=null,al||(al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cc)))}function Er(s){function o(g){return wr(g,s)}if(0<Br.length){wr(Br[0],s);for(var u=1;u<Br.length;u++){var p=Br[u];p.blockedOn===s&&(p.blockedOn=null)}}for(rn!==null&&wr(rn,s),vr!==null&&wr(vr,s),_r!==null&&wr(_r,s),qi.forEach(o),nr.forEach(o),u=0;u<$r.length;u++)p=$r[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<$r.length&&(u=$r[0],u.blockedOn===null);)uc(u),u.blockedOn===null&&$r.shift()}var hi=M.ReactCurrentBatchConfig,Ki=!0;function xt(s,o,u,p){var g=et,w=hi.transition;hi.transition=null;try{et=1,ll(s,o,u,p)}finally{et=g,hi.transition=w}}function yf(s,o,u,p){var g=et,w=hi.transition;hi.transition=null;try{et=4,ll(s,o,u,p)}finally{et=g,hi.transition=w}}function ll(s,o,u,p){if(Ki){var g=jo(s,o,u,p);if(g===null)Pf(s,o,p,qs,u),lc(s,p);else if(gf(g,s,o,u,p))p.stopPropagation();else if(lc(s,p),o&4&&-1<mf.indexOf(s)){for(;g!==null;){var w=Tl(g);if(w!==null&&ic(w),w=jo(s,o,u,p),w===null&&Pf(s,o,p,qs,u),w===g)break;g=w}g!==null&&p.stopPropagation()}else Pf(s,o,p,null,u)}}var qs=null;function jo(s,o,u,p){if(qs=null,s=dt(p),s=Qs(s),s!==null)if(o=gr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Us(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return qs=s,null}function ul(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zu()){case Bs:return 1;case Ui:return 4;case tr:case sl:return 16;case ec:return 536870912;default:return 16}default:return 16}}var Hn=null,Mo=null,kn=null;function cl(){if(kn)return kn;var s,o=Mo,u=o.length,p,g="value"in Hn?Hn.value:Hn.textContent,w=g.length;for(s=0;s<u&&o[s]===g[s];s++);var C=u-s;for(p=1;p<=C&&o[u-p]===g[w-p];p++);return kn=g.slice(s,1<p?1-p:void 0)}function Fo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function zr(){return!0}function dl(){return!1}function sn(s){function o(u,p,g,w,C){this._reactName=u,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(u=s[U],this[U]=u?u(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?zr:dl,this.isPropagationStopped=dl,this}return re(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),o}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=sn(Tr),Hr=re({},Tr,{view:0,detail:0}),vf=sn(Hr),Bo,fi,Gi,Ks=re({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gi&&(Gi&&s.type==="mousemove"?(Bo=s.screenX-Gi.screenX,fi=s.screenY-Gi.screenY):fi=Bo=0,Gi=s),Bo)},movementY:function(s){return"movementY"in s?s.movementY:fi}}),$o=sn(Ks),hl=re({},Ks,{dataTransfer:0}),dc=sn(hl),zo=re({},Hr,{relatedTarget:0}),Ho=sn(zo),hc=re({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),pi=sn(hc),fc=re({},Tr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),pc=sn(fc),mc=re({},Tr,{data:0}),fl=sn(mc),Wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=gc[s])?!!o[s]:!1}function Wr(){return yc}var h=re({},Hr,{key:function(s){if(s.key){var o=Wo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Fo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(s){return s.type==="keypress"?Fo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=sn(h),T=re({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=sn(T),K=re({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Z=sn(K),me=re({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=sn(me),Wt=re({},Ks,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=sn(Wt),Xt=[9,13,27,32],Ft=c&&"CompositionEvent"in window,rr=null;c&&"documentMode"in document&&(rr=document.documentMode);var Wn=c&&"TextEvent"in window&&!rr,Gs=c&&(!Ft||rr&&8<rr&&11>=rr),qo=" ",Xy=!1;function Jy(s,o){switch(s){case"keyup":return Xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ko=!1;function oC(s,o){switch(s){case"compositionend":return Zy(o);case"keypress":return o.which!==32?null:(Xy=!0,qo);case"textInput":return s=o.data,s===qo&&Xy?null:s;default:return null}}function aC(s,o){if(Ko)return s==="compositionend"||!Ft&&Jy(s,o)?(s=cl(),kn=Mo=Hn=null,Ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Gs&&o.locale!=="ko"?null:o.data;default:return null}}var lC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!lC[s.type]:o==="textarea"}function tv(s,o,u,p){nn(p),o=Tc(o,"onChange"),0<o.length&&(u=new Uo("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var pl=null,ml=null;function uC(s){_v(s,0)}function vc(s){var o=Jo(s);if(Ht(o))return s}function cC(s,o){if(s==="change")return o}var nv=!1;if(c){var _f;if(c){var wf="oninput"in document;if(!wf){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),wf=typeof rv.oninput=="function"}_f=wf}else _f=!1;nv=_f&&(!document.documentMode||9<document.documentMode)}function iv(){pl&&(pl.detachEvent("onpropertychange",sv),ml=pl=null)}function sv(s){if(s.propertyName==="value"&&vc(ml)){var o=[];tv(o,ml,s,dt(s)),tl(uC,o)}}function dC(s,o,u){s==="focusin"?(iv(),pl=o,ml=u,pl.attachEvent("onpropertychange",sv)):s==="focusout"&&iv()}function hC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vc(ml)}function fC(s,o){if(s==="click")return vc(o)}function pC(s,o){if(s==="input"||s==="change")return vc(o)}function mC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Sr=typeof Object.is=="function"?Object.is:mC;function gl(s,o){if(Sr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var g=u[p];if(!d.call(o,g)||!Sr(s[g],o[g]))return!1}return!0}function ov(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function av(s,o){var u=ov(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ov(u)}}function lv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?lv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function uv(){for(var s=window,o=Pt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Pt(s.document)}return o}function Ef(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function gC(s){var o=uv(),u=s.focusedElem,p=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&lv(u.ownerDocument.documentElement,u)){if(p!==null&&Ef(u)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,w=Math.min(p.start,g);p=p.end===void 0?w:Math.min(p.end,g),!s.extend&&w>p&&(g=p,p=w,w=g),g=av(u,w);var C=av(u,p);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>p?(s.addRange(o),s.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yC=c&&"documentMode"in document&&11>=document.documentMode,Go=null,Tf=null,yl=null,Sf=!1;function cv(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sf||Go==null||Go!==Pt(p)||(p=Go,"selectionStart"in p&&Ef(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),yl&&gl(yl,p)||(yl=p,p=Tc(Tf,"onSelect"),0<p.length&&(o=new Uo("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=Go)))}function _c(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Qo={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},If={},dv={};c&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function wc(s){if(If[s])return If[s];if(!Qo[s])return s;var o=Qo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in dv)return If[s]=o[u];return s}var hv=wc("animationend"),fv=wc("animationiteration"),pv=wc("animationstart"),mv=wc("transitionend"),gv=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(s,o){gv.set(s,o),a(o,[s])}for(var xf=0;xf<yv.length;xf++){var Cf=yv[xf],vC=Cf.toLowerCase(),_C=Cf[0].toUpperCase()+Cf.slice(1);Qi(vC,"on"+_C)}Qi(hv,"onAnimationEnd"),Qi(fv,"onAnimationIteration"),Qi(pv,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(mv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function vv(s,o,u){var p=s.type||"unknown-event";s.currentTarget=u,Yu(p,o,void 0,s),s.currentTarget=null}function _v(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],g=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var C=p.length-1;0<=C;C--){var U=p[C],H=U.instance,X=U.currentTarget;if(U=U.listener,H!==w&&g.isPropagationStopped())break e;vv(g,U,X),w=H}else for(C=0;C<p.length;C++){if(U=p[C],H=U.instance,X=U.currentTarget,U=U.listener,H!==w&&g.isPropagationStopped())break e;vv(g,U,X),w=H}}}if(mr)throw s=nl,mr=!1,nl=null,s}function Tt(s,o){var u=o[Df];u===void 0&&(u=o[Df]=new Set);var p=s+"__bubble";u.has(p)||(wv(o,s,2,!1),u.add(p))}function bf(s,o,u){var p=0;o&&(p|=4),wv(u,s,p,o)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function _l(s){if(!s[Ec]){s[Ec]=!0,r.forEach(function(u){u!=="selectionchange"&&(wC.has(u)||bf(u,!1,s),bf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ec]||(o[Ec]=!0,bf("selectionchange",!1,o))}}function wv(s,o,u,p){switch(ul(o)){case 1:var g=xt;break;case 4:g=yf;break;default:g=ll}u=g.bind(null,o,u,s),g=void 0,!Ao||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function Pf(s,o,u,p,g){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var U=p.stateNode.containerInfo;if(U===g||U.nodeType===8&&U.parentNode===g)break;if(C===4)for(C=p.return;C!==null;){var H=C.tag;if((H===3||H===4)&&(H=C.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;C=C.return}for(;U!==null;){if(C=Qs(U),C===null)return;if(H=C.tag,H===5||H===6){p=w=C;continue e}U=U.parentNode}}p=p.return}tl(function(){var X=w,ue=dt(u),de=[];e:{var le=gv.get(s);if(le!==void 0){var we=Uo,be=s;switch(s){case"keypress":if(Fo(u)===0)break e;case"keydown":case"keyup":we=_;break;case"focusin":be="focus",we=Ho;break;case"focusout":be="blur",we=Ho;break;case"beforeblur":case"afterblur":we=Ho;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Z;break;case hv:case fv:case pv:we=pi;break;case mv:we=pt;break;case"scroll":we=vf;break;case"wheel":we=nt;break;case"copy":case"cut":case"paste":we=pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var Ae=(o&4)!==0,jt=!Ae&&s==="scroll",G=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var W=X,Y;W!==null;){Y=W;var he=Y.stateNode;if(Y.tag===5&&he!==null&&(Y=he,G!==null&&(he=Lt(W,G),he!=null&&Ae.push(wl(W,he,Y)))),jt)break;W=W.return}0<Ae.length&&(le=new we(le,be,null,u,ue),de.push({event:le,listeners:Ae}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",le&&u!==ut&&(be=u.relatedTarget||u.fromElement)&&(Qs(be)||be[mi]))break e;if((we||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,we?(be=u.relatedTarget||u.toElement,we=X,be=be?Qs(be):null,be!==null&&(jt=gr(be),be!==jt||be.tag!==5&&be.tag!==6)&&(be=null)):(we=null,be=X),we!==be)){if(Ae=$o,he="onMouseLeave",G="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=N,he="onPointerLeave",G="onPointerEnter",W="pointer"),jt=we==null?le:Jo(we),Y=be==null?le:Jo(be),le=new Ae(he,W+"leave",we,u,ue),le.target=jt,le.relatedTarget=Y,he=null,Qs(ue)===X&&(Ae=new Ae(G,W+"enter",be,u,ue),Ae.target=Y,Ae.relatedTarget=jt,he=Ae),jt=he,we&&be)t:{for(Ae=we,G=be,W=0,Y=Ae;Y;Y=Yo(Y))W++;for(Y=0,he=G;he;he=Yo(he))Y++;for(;0<W-Y;)Ae=Yo(Ae),W--;for(;0<Y-W;)G=Yo(G),Y--;for(;W--;){if(Ae===G||G!==null&&Ae===G.alternate)break t;Ae=Yo(Ae),G=Yo(G)}Ae=null}else Ae=null;we!==null&&Ev(de,le,we,Ae,!1),be!==null&&jt!==null&&Ev(de,jt,be,Ae,!0)}}e:{if(le=X?Jo(X):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var Re=cC;else if(ev(le))if(nv)Re=pC;else{Re=hC;var De=dC}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Re=fC);if(Re&&(Re=Re(s,X))){tv(de,Re,u,ue);break e}De&&De(s,le,X),s==="focusout"&&(De=le._wrapperState)&&De.controlled&&le.type==="number"&&ji(le,"number",le.value)}switch(De=X?Jo(X):window,s){case"focusin":(ev(De)||De.contentEditable==="true")&&(Go=De,Tf=X,yl=null);break;case"focusout":yl=Tf=Go=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,cv(de,u,ue);break;case"selectionchange":if(yC)break;case"keydown":case"keyup":cv(de,u,ue)}var Ve;if(Ft)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ko?Jy(s,u)&&(Fe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Fe="onCompositionStart");Fe&&(Gs&&u.locale!=="ko"&&(Ko||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ko&&(Ve=cl()):(Hn=ue,Mo="value"in Hn?Hn.value:Hn.textContent,Ko=!0)),De=Tc(X,Fe),0<De.length&&(Fe=new fl(Fe,s,null,u,ue),de.push({event:Fe,listeners:De}),Ve?Fe.data=Ve:(Ve=Zy(u),Ve!==null&&(Fe.data=Ve)))),(Ve=Wn?oC(s,u):aC(s,u))&&(X=Tc(X,"onBeforeInput"),0<X.length&&(ue=new fl("onBeforeInput","beforeinput",null,u,ue),de.push({event:ue,listeners:X}),ue.data=Ve))}_v(de,o)})}function wl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Tc(s,o){for(var u=o+"Capture",p=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Lt(s,u),w!=null&&p.unshift(wl(s,w,g)),w=Lt(s,o),w!=null&&p.push(wl(s,w,g))),s=s.return}return p}function Yo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ev(s,o,u,p,g){for(var w=o._reactName,C=[];u!==null&&u!==p;){var U=u,H=U.alternate,X=U.stateNode;if(H!==null&&H===p)break;U.tag===5&&X!==null&&(U=X,g?(H=Lt(u,w),H!=null&&C.unshift(wl(u,H,U))):g||(H=Lt(u,w),H!=null&&C.push(wl(u,H,U)))),u=u.return}C.length!==0&&s.push({event:o,listeners:C})}var EC=/\r\n?/g,TC=/\u0000|\uFFFD/g;function Tv(s){return(typeof s=="string"?s:""+s).replace(EC,`
`).replace(TC,"")}function Sc(s,o,u){if(o=Tv(o),Tv(s)!==o&&u)throw Error(t(425))}function Ic(){}var Af=null,Rf=null;function kf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nf=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,IC=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(s){return Sv.resolve(null).then(s).catch(xC)}:Nf;function xC(s){setTimeout(function(){throw s})}function Of(s,o){var u=o,p=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(p===0){s.removeChild(g),Er(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=g}while(u);Er(o)}function Yi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Iv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),qr="__reactFiber$"+Xo,El="__reactProps$"+Xo,mi="__reactContainer$"+Xo,Df="__reactEvents$"+Xo,CC="__reactListeners$"+Xo,bC="__reactHandles$"+Xo;function Qs(s){var o=s[qr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[mi]||u[qr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Iv(s);s!==null;){if(u=s[qr])return u;s=Iv(s)}return o}s=u,u=s.parentNode}return null}function Tl(s){return s=s[qr]||s[mi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Jo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function xc(s){return s[El]||null}var Vf=[],Zo=-1;function Xi(s){return{current:s}}function St(s){0>Zo||(s.current=Vf[Zo],Vf[Zo]=null,Zo--)}function wt(s,o){Zo++,Vf[Zo]=s.current,s.current=o}var Ji={},dn=Xi(Ji),Nn=Xi(!1),Ys=Ji;function ea(s,o){var u=s.type.contextTypes;if(!u)return Ji;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=o[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function On(s){return s=s.childContextTypes,s!=null}function Cc(){St(Nn),St(dn)}function xv(s,o,u){if(dn.current!==Ji)throw Error(t(168));wt(dn,o),wt(Nn,u)}function Cv(s,o,u){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var g in p)if(!(g in o))throw Error(t(108,Xe(s)||"Unknown",g));return re({},u,p)}function bc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ji,Ys=dn.current,wt(dn,s),wt(Nn,Nn.current),!0}function bv(s,o,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=Cv(s,o,Ys),p.__reactInternalMemoizedMergedChildContext=s,St(Nn),St(dn),wt(dn,s)):St(Nn),wt(Nn,u)}var gi=null,Pc=!1,Lf=!1;function Pv(s){gi===null?gi=[s]:gi.push(s)}function PC(s){Pc=!0,Pv(s)}function Zi(){if(!Lf&&gi!==null){Lf=!0;var s=0,o=et;try{var u=gi;for(et=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}gi=null,Pc=!1}catch(g){throw gi!==null&&(gi=gi.slice(s+1)),Oo(Bs,Zi),g}finally{et=o,Lf=!1}}return null}var ta=[],na=0,Ac=null,Rc=0,ir=[],sr=0,Xs=null,yi=1,vi="";function Js(s,o){ta[na++]=Rc,ta[na++]=Ac,Ac=s,Rc=o}function Av(s,o,u){ir[sr++]=yi,ir[sr++]=vi,ir[sr++]=Xs,Xs=s;var p=yi;s=vi;var g=32-En(p)-1;p&=~(1<<g),u+=1;var w=32-En(o)+g;if(30<w){var C=g-g%5;w=(p&(1<<C)-1).toString(32),p>>=C,g-=C,yi=1<<32-En(o)+g|u<<g|p,vi=w+s}else yi=1<<w|u<<g|p,vi=s}function jf(s){s.return!==null&&(Js(s,1),Av(s,1,0))}function Mf(s){for(;s===Ac;)Ac=ta[--na],ta[na]=null,Rc=ta[--na],ta[na]=null;for(;s===Xs;)Xs=ir[--sr],ir[sr]=null,vi=ir[--sr],ir[sr]=null,yi=ir[--sr],ir[sr]=null}var qn=null,Kn=null,Ct=!1,Ir=null;function Rv(s,o){var u=ur(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function kv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,qn=s,Kn=Yi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,qn=s,Kn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Xs!==null?{id:yi,overflow:vi}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=ur(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,qn=s,Kn=null,!0):!1;default:return!1}}function Ff(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Uf(s){if(Ct){var o=Kn;if(o){var u=o;if(!kv(s,o)){if(Ff(s))throw Error(t(418));o=Yi(u.nextSibling);var p=qn;o&&kv(s,o)?Rv(p,u):(s.flags=s.flags&-4097|2,Ct=!1,qn=s)}}else{if(Ff(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ct=!1,qn=s}}}function Nv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;qn=s}function kc(s){if(s!==qn)return!1;if(!Ct)return Nv(s),Ct=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!kf(s.type,s.memoizedProps)),o&&(o=Kn)){if(Ff(s))throw Ov(),Error(t(418));for(;o;)Rv(s,o),o=Yi(o.nextSibling)}if(Nv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Kn=Yi(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Kn=null}}else Kn=qn?Yi(s.stateNode.nextSibling):null;return!0}function Ov(){for(var s=Kn;s;)s=Yi(s.nextSibling)}function ra(){Kn=qn=null,Ct=!1}function Bf(s){Ir===null?Ir=[s]:Ir.push(s)}var AC=M.ReactCurrentBatchConfig;function Sl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var g=p,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(C){var U=g.refs;C===null?delete U[w]:U[w]=C},o._stringRef=w,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Nc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Dv(s){var o=s._init;return o(s._payload)}function Vv(s){function o(G,W){if(s){var Y=G.deletions;Y===null?(G.deletions=[W],G.flags|=16):Y.push(W)}}function u(G,W){if(!s)return null;for(;W!==null;)o(G,W),W=W.sibling;return null}function p(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function g(G,W){return G=as(G,W),G.index=0,G.sibling=null,G}function w(G,W,Y){return G.index=Y,s?(Y=G.alternate,Y!==null?(Y=Y.index,Y<W?(G.flags|=2,W):Y):(G.flags|=2,W)):(G.flags|=1048576,W)}function C(G){return s&&G.alternate===null&&(G.flags|=2),G}function U(G,W,Y,he){return W===null||W.tag!==6?(W=Np(Y,G.mode,he),W.return=G,W):(W=g(W,Y),W.return=G,W)}function H(G,W,Y,he){var Re=Y.type;return Re===D?ue(G,W,Y.props.children,he,Y.key):W!==null&&(W.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ye&&Dv(Re)===W.type)?(he=g(W,Y.props),he.ref=Sl(G,W,Y),he.return=G,he):(he=nd(Y.type,Y.key,Y.props,null,G.mode,he),he.ref=Sl(G,W,Y),he.return=G,he)}function X(G,W,Y,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=Op(Y,G.mode,he),W.return=G,W):(W=g(W,Y.children||[]),W.return=G,W)}function ue(G,W,Y,he,Re){return W===null||W.tag!==7?(W=oo(Y,G.mode,he,Re),W.return=G,W):(W=g(W,Y),W.return=G,W)}function de(G,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Np(""+W,G.mode,Y),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return Y=nd(W.type,W.key,W.props,null,G.mode,Y),Y.ref=Sl(G,null,W),Y.return=G,Y;case Q:return W=Op(W,G.mode,Y),W.return=G,W;case ye:var he=W._init;return de(G,he(W._payload),Y)}if(Jn(W)||fe(W))return W=oo(W,G.mode,Y,null),W.return=G,W;Nc(G,W)}return null}function le(G,W,Y,he){var Re=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Re!==null?null:U(G,W,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return Y.key===Re?H(G,W,Y,he):null;case Q:return Y.key===Re?X(G,W,Y,he):null;case ye:return Re=Y._init,le(G,W,Re(Y._payload),he)}if(Jn(Y)||fe(Y))return Re!==null?null:ue(G,W,Y,he,null);Nc(G,Y)}return null}function we(G,W,Y,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number")return G=G.get(Y)||null,U(W,G,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case B:return G=G.get(he.key===null?Y:he.key)||null,H(W,G,he,Re);case Q:return G=G.get(he.key===null?Y:he.key)||null,X(W,G,he,Re);case ye:var De=he._init;return we(G,W,Y,De(he._payload),Re)}if(Jn(he)||fe(he))return G=G.get(Y)||null,ue(W,G,he,Re,null);Nc(W,he)}return null}function be(G,W,Y,he){for(var Re=null,De=null,Ve=W,Fe=W=0,en=null;Ve!==null&&Fe<Y.length;Fe++){Ve.index>Fe?(en=Ve,Ve=null):en=Ve.sibling;var lt=le(G,Ve,Y[Fe],he);if(lt===null){Ve===null&&(Ve=en);break}s&&Ve&&lt.alternate===null&&o(G,Ve),W=w(lt,W,Fe),De===null?Re=lt:De.sibling=lt,De=lt,Ve=en}if(Fe===Y.length)return u(G,Ve),Ct&&Js(G,Fe),Re;if(Ve===null){for(;Fe<Y.length;Fe++)Ve=de(G,Y[Fe],he),Ve!==null&&(W=w(Ve,W,Fe),De===null?Re=Ve:De.sibling=Ve,De=Ve);return Ct&&Js(G,Fe),Re}for(Ve=p(G,Ve);Fe<Y.length;Fe++)en=we(Ve,G,Fe,Y[Fe],he),en!==null&&(s&&en.alternate!==null&&Ve.delete(en.key===null?Fe:en.key),W=w(en,W,Fe),De===null?Re=en:De.sibling=en,De=en);return s&&Ve.forEach(function(ls){return o(G,ls)}),Ct&&Js(G,Fe),Re}function Ae(G,W,Y,he){var Re=fe(Y);if(typeof Re!="function")throw Error(t(150));if(Y=Re.call(Y),Y==null)throw Error(t(151));for(var De=Re=null,Ve=W,Fe=W=0,en=null,lt=Y.next();Ve!==null&&!lt.done;Fe++,lt=Y.next()){Ve.index>Fe?(en=Ve,Ve=null):en=Ve.sibling;var ls=le(G,Ve,lt.value,he);if(ls===null){Ve===null&&(Ve=en);break}s&&Ve&&ls.alternate===null&&o(G,Ve),W=w(ls,W,Fe),De===null?Re=ls:De.sibling=ls,De=ls,Ve=en}if(lt.done)return u(G,Ve),Ct&&Js(G,Fe),Re;if(Ve===null){for(;!lt.done;Fe++,lt=Y.next())lt=de(G,lt.value,he),lt!==null&&(W=w(lt,W,Fe),De===null?Re=lt:De.sibling=lt,De=lt);return Ct&&Js(G,Fe),Re}for(Ve=p(G,Ve);!lt.done;Fe++,lt=Y.next())lt=we(Ve,G,Fe,lt.value,he),lt!==null&&(s&&lt.alternate!==null&&Ve.delete(lt.key===null?Fe:lt.key),W=w(lt,W,Fe),De===null?Re=lt:De.sibling=lt,De=lt);return s&&Ve.forEach(function(lb){return o(G,lb)}),Ct&&Js(G,Fe),Re}function jt(G,W,Y,he){if(typeof Y=="object"&&Y!==null&&Y.type===D&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:e:{for(var Re=Y.key,De=W;De!==null;){if(De.key===Re){if(Re=Y.type,Re===D){if(De.tag===7){u(G,De.sibling),W=g(De,Y.props.children),W.return=G,G=W;break e}}else if(De.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ye&&Dv(Re)===De.type){u(G,De.sibling),W=g(De,Y.props),W.ref=Sl(G,De,Y),W.return=G,G=W;break e}u(G,De);break}else o(G,De);De=De.sibling}Y.type===D?(W=oo(Y.props.children,G.mode,he,Y.key),W.return=G,G=W):(he=nd(Y.type,Y.key,Y.props,null,G.mode,he),he.ref=Sl(G,W,Y),he.return=G,G=he)}return C(G);case Q:e:{for(De=Y.key;W!==null;){if(W.key===De)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){u(G,W.sibling),W=g(W,Y.children||[]),W.return=G,G=W;break e}else{u(G,W);break}else o(G,W);W=W.sibling}W=Op(Y,G.mode,he),W.return=G,G=W}return C(G);case ye:return De=Y._init,jt(G,W,De(Y._payload),he)}if(Jn(Y))return be(G,W,Y,he);if(fe(Y))return Ae(G,W,Y,he);Nc(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(u(G,W.sibling),W=g(W,Y),W.return=G,G=W):(u(G,W),W=Np(Y,G.mode,he),W.return=G,G=W),C(G)):u(G,W)}return jt}var ia=Vv(!0),Lv=Vv(!1),Oc=Xi(null),Dc=null,sa=null,$f=null;function zf(){$f=sa=Dc=null}function Hf(s){var o=Oc.current;St(Oc),s._currentValue=o}function Wf(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function oa(s,o){Dc=s,$f=sa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Dn=!0),s.firstContext=null)}function or(s){var o=s._currentValue;if($f!==s)if(s={context:s,memoizedValue:o,next:null},sa===null){if(Dc===null)throw Error(t(308));sa=s,Dc.dependencies={lanes:0,firstContext:s}}else sa=sa.next=s;return o}var Zs=null;function qf(s){Zs===null?Zs=[s]:Zs.push(s)}function jv(s,o,u,p){var g=o.interleaved;return g===null?(u.next=u,qf(o)):(u.next=g.next,g.next=u),o.interleaved=u,_i(s,p)}function _i(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var es=!1;function Kf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function wi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ts(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(st&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,_i(s,u)}return g=p.interleaved,g===null?(o.next=o,qf(p)):(o.next=g.next,g.next=o),p.interleaved=o,_i(s,u)}function Vc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,Hi(s,u)}}function Fv(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=C:w=w.next=C,u=u.next}while(u!==null);w===null?g=w=o:w=w.next=o}else g=w=o;u={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Lc(s,o,u,p){var g=s.updateQueue;es=!1;var w=g.firstBaseUpdate,C=g.lastBaseUpdate,U=g.shared.pending;if(U!==null){g.shared.pending=null;var H=U,X=H.next;H.next=null,C===null?w=X:C.next=X,C=H;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,U=ue.lastBaseUpdate,U!==C&&(U===null?ue.firstBaseUpdate=X:U.next=X,ue.lastBaseUpdate=H))}if(w!==null){var de=g.baseState;C=0,ue=X=H=null,U=w;do{var le=U.lane,we=U.eventTime;if((p&le)===le){ue!==null&&(ue=ue.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var be=s,Ae=U;switch(le=o,we=u,Ae.tag){case 1:if(be=Ae.payload,typeof be=="function"){de=be.call(we,de,le);break e}de=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ae.payload,le=typeof be=="function"?be.call(we,de,le):be,le==null)break e;de=re({},de,le);break e;case 2:es=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,le=g.effects,le===null?g.effects=[U]:le.push(U))}else we={eventTime:we,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ue===null?(X=ue=we,H=de):ue=ue.next=we,C|=le;if(U=U.next,U===null){if(U=g.shared.pending,U===null)break;le=U,U=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(ue===null&&(H=de),g.baseState=H,g.firstBaseUpdate=X,g.lastBaseUpdate=ue,o=g.shared.interleaved,o!==null){g=o;do C|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);no|=C,s.lanes=C,s.memoizedState=de}}function Uv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],g=p.callback;if(g!==null){if(p.callback=null,p=u,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var Il={},Kr=Xi(Il),xl=Xi(Il),Cl=Xi(Il);function eo(s){if(s===Il)throw Error(t(174));return s}function Gf(s,o){switch(wt(Cl,o),wt(xl,s),wt(Kr,Il),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:se(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=se(o,s)}St(Kr),wt(Kr,o)}function aa(){St(Kr),St(xl),St(Cl)}function Bv(s){eo(Cl.current);var o=eo(Kr.current),u=se(o,s.type);o!==u&&(wt(xl,s),wt(Kr,u))}function Qf(s){xl.current===s&&(St(Kr),St(xl))}var Rt=Xi(0);function jc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yf=[];function Xf(){for(var s=0;s<Yf.length;s++)Yf[s]._workInProgressVersionPrimary=null;Yf.length=0}var Mc=M.ReactCurrentDispatcher,Jf=M.ReactCurrentBatchConfig,to=0,kt=null,qt=null,Jt=null,Fc=!1,bl=!1,Pl=0,RC=0;function hn(){throw Error(t(321))}function Zf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Sr(s[u],o[u]))return!1;return!0}function ep(s,o,u,p,g,w){if(to=w,kt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Mc.current=s===null||s.memoizedState===null?DC:VC,s=u(p,g),bl){w=0;do{if(bl=!1,Pl=0,25<=w)throw Error(t(301));w+=1,Jt=qt=null,o.updateQueue=null,Mc.current=LC,s=u(p,g)}while(bl)}if(Mc.current=$c,o=qt!==null&&qt.next!==null,to=0,Jt=qt=kt=null,Fc=!1,o)throw Error(t(300));return s}function tp(){var s=Pl!==0;return Pl=0,s}function Gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?kt.memoizedState=Jt=s:Jt=Jt.next=s,Jt}function ar(){if(qt===null){var s=kt.alternate;s=s!==null?s.memoizedState:null}else s=qt.next;var o=Jt===null?kt.memoizedState:Jt.next;if(o!==null)Jt=o,qt=s;else{if(s===null)throw Error(t(310));qt=s,s={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Jt===null?kt.memoizedState=Jt=s:Jt=Jt.next=s}return Jt}function Al(s,o){return typeof o=="function"?o(s):o}function np(s){var o=ar(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=qt,g=p.baseQueue,w=u.pending;if(w!==null){if(g!==null){var C=g.next;g.next=w.next,w.next=C}p.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,p=p.baseState;var U=C=null,H=null,X=w;do{var ue=X.lane;if((to&ue)===ue)H!==null&&(H=H.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:s(p,X.action);else{var de={lane:ue,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};H===null?(U=H=de,C=p):H=H.next=de,kt.lanes|=ue,no|=ue}X=X.next}while(X!==null&&X!==w);H===null?C=p:H.next=U,Sr(p,o.memoizedState)||(Dn=!0),o.memoizedState=p,o.baseState=C,o.baseQueue=H,u.lastRenderedState=p}if(s=u.interleaved,s!==null){g=s;do w=g.lane,kt.lanes|=w,no|=w,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function rp(s){var o=ar(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,g=u.pending,w=o.memoizedState;if(g!==null){u.pending=null;var C=g=g.next;do w=s(w,C.action),C=C.next;while(C!==g);Sr(w,o.memoizedState)||(Dn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function $v(){}function zv(s,o){var u=kt,p=ar(),g=o(),w=!Sr(p.memoizedState,g);if(w&&(p.memoizedState=g,Dn=!0),p=p.queue,ip(qv.bind(null,u,p,s),[s]),p.getSnapshot!==o||w||Jt!==null&&Jt.memoizedState.tag&1){if(u.flags|=2048,Rl(9,Wv.bind(null,u,p,g,o),void 0,null),Zt===null)throw Error(t(349));(to&30)!==0||Hv(u,o,g)}return g}function Hv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Wv(s,o,u,p){o.value=u,o.getSnapshot=p,Kv(o)&&Gv(s)}function qv(s,o,u){return u(function(){Kv(o)&&Gv(s)})}function Kv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Sr(s,u)}catch{return!0}}function Gv(s){var o=_i(s,1);o!==null&&Pr(o,s,1,-1)}function Qv(s){var o=Gr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:s},o.queue=s,s=s.dispatch=OC.bind(null,kt,s),[o.memoizedState,s]}function Rl(s,o,u,p){return s={tag:s,create:o,destroy:u,deps:p,next:null},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s)),s}function Yv(){return ar().memoizedState}function Uc(s,o,u,p){var g=Gr();kt.flags|=s,g.memoizedState=Rl(1|o,u,void 0,p===void 0?null:p)}function Bc(s,o,u,p){var g=ar();p=p===void 0?null:p;var w=void 0;if(qt!==null){var C=qt.memoizedState;if(w=C.destroy,p!==null&&Zf(p,C.deps)){g.memoizedState=Rl(o,u,w,p);return}}kt.flags|=s,g.memoizedState=Rl(1|o,u,w,p)}function Xv(s,o){return Uc(8390656,8,s,o)}function ip(s,o){return Bc(2048,8,s,o)}function Jv(s,o){return Bc(4,2,s,o)}function Zv(s,o){return Bc(4,4,s,o)}function e0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function t0(s,o,u){return u=u!=null?u.concat([s]):null,Bc(4,4,e0.bind(null,o,s),u)}function sp(){}function n0(s,o){var u=ar();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Zf(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function r0(s,o){var u=ar();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Zf(o,p[1])?p[0]:(s=s(),u.memoizedState=[s,o],s)}function i0(s,o,u){return(to&21)===0?(s.baseState&&(s.baseState=!1,Dn=!0),s.memoizedState=u):(Sr(u,o)||(u=Hs(),kt.lanes|=u,no|=u,s.baseState=!0),o)}function kC(s,o){var u=et;et=u!==0&&4>u?u:4,s(!0);var p=Jf.transition;Jf.transition={};try{s(!1),o()}finally{et=u,Jf.transition=p}}function s0(){return ar().memoizedState}function NC(s,o,u){var p=ss(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},o0(s))a0(o,u);else if(u=jv(s,o,u,p),u!==null){var g=In();Pr(u,s,p,g),l0(u,o,p)}}function OC(s,o,u){var p=ss(s),g={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(o0(s))a0(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var C=o.lastRenderedState,U=w(C,u);if(g.hasEagerState=!0,g.eagerState=U,Sr(U,C)){var H=o.interleaved;H===null?(g.next=g,qf(o)):(g.next=H.next,H.next=g),o.interleaved=g;return}}catch{}finally{}u=jv(s,o,g,p),u!==null&&(g=In(),Pr(u,s,p,g),l0(u,o,p))}}function o0(s){var o=s.alternate;return s===kt||o!==null&&o===kt}function a0(s,o){bl=Fc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function l0(s,o,u){if((u&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,Hi(s,u)}}var $c={readContext:or,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},DC={readContext:or,useCallback:function(s,o){return Gr().memoizedState=[s,o===void 0?null:o],s},useContext:or,useEffect:Xv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Uc(4194308,4,e0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Uc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Uc(4,2,s,o)},useMemo:function(s,o){var u=Gr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var p=Gr();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=NC.bind(null,kt,s),[p.memoizedState,s]},useRef:function(s){var o=Gr();return s={current:s},o.memoizedState=s},useState:Qv,useDebugValue:sp,useDeferredValue:function(s){return Gr().memoizedState=s},useTransition:function(){var s=Qv(!1),o=s[0];return s=kC.bind(null,s[1]),Gr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var p=kt,g=Gr();if(Ct){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Zt===null)throw Error(t(349));(to&30)!==0||Hv(p,o,u)}g.memoizedState=u;var w={value:u,getSnapshot:o};return g.queue=w,Xv(qv.bind(null,p,w,s),[s]),p.flags|=2048,Rl(9,Wv.bind(null,p,w,u,o),void 0,null),u},useId:function(){var s=Gr(),o=Zt.identifierPrefix;if(Ct){var u=vi,p=yi;u=(p&~(1<<32-En(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=Pl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=RC++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},VC={readContext:or,useCallback:n0,useContext:or,useEffect:ip,useImperativeHandle:t0,useInsertionEffect:Jv,useLayoutEffect:Zv,useMemo:r0,useReducer:np,useRef:Yv,useState:function(){return np(Al)},useDebugValue:sp,useDeferredValue:function(s){var o=ar();return i0(o,qt.memoizedState,s)},useTransition:function(){var s=np(Al)[0],o=ar().memoizedState;return[s,o]},useMutableSource:$v,useSyncExternalStore:zv,useId:s0,unstable_isNewReconciler:!1},LC={readContext:or,useCallback:n0,useContext:or,useEffect:ip,useImperativeHandle:t0,useInsertionEffect:Jv,useLayoutEffect:Zv,useMemo:r0,useReducer:rp,useRef:Yv,useState:function(){return rp(Al)},useDebugValue:sp,useDeferredValue:function(s){var o=ar();return qt===null?o.memoizedState=s:i0(o,qt.memoizedState,s)},useTransition:function(){var s=rp(Al)[0],o=ar().memoizedState;return[s,o]},useMutableSource:$v,useSyncExternalStore:zv,useId:s0,unstable_isNewReconciler:!1};function xr(s,o){if(s&&s.defaultProps){o=re({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function op(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:re({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var zc={isMounted:function(s){return(s=s._reactInternals)?gr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var p=In(),g=ss(s),w=wi(p,g);w.payload=o,u!=null&&(w.callback=u),o=ts(s,w,g),o!==null&&(Pr(o,s,g,p),Vc(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=In(),g=ss(s),w=wi(p,g);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=ts(s,w,g),o!==null&&(Pr(o,s,g,p),Vc(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=In(),p=ss(s),g=wi(u,p);g.tag=2,o!=null&&(g.callback=o),o=ts(s,g,p),o!==null&&(Pr(o,s,p,u),Vc(o,s,p))}};function u0(s,o,u,p,g,w,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,C):o.prototype&&o.prototype.isPureReactComponent?!gl(u,p)||!gl(g,w):!0}function c0(s,o,u){var p=!1,g=Ji,w=o.contextType;return typeof w=="object"&&w!==null?w=or(w):(g=On(o)?Ys:dn.current,p=o.contextTypes,w=(p=p!=null)?ea(s,g):Ji),o=new o(u,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=zc,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function d0(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&zc.enqueueReplaceState(o,o.state,null)}function ap(s,o,u,p){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Kf(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=or(w):(w=On(o)?Ys:dn.current,g.context=ea(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(op(s,o,w,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&zc.enqueueReplaceState(g,g.state,null),Lc(s,u,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function la(s,o){try{var u="",p=o;do u+=Ne(p),p=p.return;while(p);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function lp(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function up(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var jC=typeof WeakMap=="function"?WeakMap:Map;function h0(s,o,u){u=wi(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){Yc||(Yc=!0,Ip=p),up(s,o)},u}function f0(s,o,u){u=wi(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=o.value;u.payload=function(){return p(g)},u.callback=function(){up(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){up(s,o),typeof p!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),u}function p0(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new jC;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(u)||(g.add(u),s=XC.bind(null,s,o,u),o.then(s,s))}function m0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function g0(s,o,u,p,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=wi(-1,1),o.tag=2,ts(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var MC=M.ReactCurrentOwner,Dn=!1;function Sn(s,o,u,p){o.child=s===null?Lv(o,null,u,p):ia(o,s.child,u,p)}function y0(s,o,u,p,g){u=u.render;var w=o.ref;return oa(o,g),p=ep(s,o,u,p,w,g),u=tp(),s!==null&&!Dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ei(s,o,g)):(Ct&&u&&jf(o),o.flags|=1,Sn(s,o,p,g),o.child)}function v0(s,o,u,p,g){if(s===null){var w=u.type;return typeof w=="function"&&!kp(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,_0(s,o,w,p,g)):(s=nd(u.type,null,p,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&g)===0){var C=w.memoizedProps;if(u=u.compare,u=u!==null?u:gl,u(C,p)&&s.ref===o.ref)return Ei(s,o,g)}return o.flags|=1,s=as(w,p),s.ref=o.ref,s.return=o,o.child=s}function _0(s,o,u,p,g){if(s!==null){var w=s.memoizedProps;if(gl(w,p)&&s.ref===o.ref)if(Dn=!1,o.pendingProps=p=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Dn=!0);else return o.lanes=s.lanes,Ei(s,o,g)}return cp(s,o,u,p,g)}function w0(s,o,u){var p=o.pendingProps,g=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(ca,Gn),Gn|=u;else{if((u&1073741824)===0)return s=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,wt(ca,Gn),Gn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,wt(ca,Gn),Gn|=p}else w!==null?(p=w.baseLanes|u,o.memoizedState=null):p=u,wt(ca,Gn),Gn|=p;return Sn(s,o,g,u),o.child}function E0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function cp(s,o,u,p,g){var w=On(u)?Ys:dn.current;return w=ea(o,w),oa(o,g),u=ep(s,o,u,p,w,g),p=tp(),s!==null&&!Dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ei(s,o,g)):(Ct&&p&&jf(o),o.flags|=1,Sn(s,o,u,g),o.child)}function T0(s,o,u,p,g){if(On(u)){var w=!0;bc(o)}else w=!1;if(oa(o,g),o.stateNode===null)Wc(s,o),c0(o,u,p),ap(o,u,p,g),p=!0;else if(s===null){var C=o.stateNode,U=o.memoizedProps;C.props=U;var H=C.context,X=u.contextType;typeof X=="object"&&X!==null?X=or(X):(X=On(u)?Ys:dn.current,X=ea(o,X));var ue=u.getDerivedStateFromProps,de=typeof ue=="function"||typeof C.getSnapshotBeforeUpdate=="function";de||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==p||H!==X)&&d0(o,C,p,X),es=!1;var le=o.memoizedState;C.state=le,Lc(o,p,C,g),H=o.memoizedState,U!==p||le!==H||Nn.current||es?(typeof ue=="function"&&(op(o,u,ue,p),H=o.memoizedState),(U=es||u0(o,u,U,p,le,H,X))?(de||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=H),C.props=p,C.state=H,C.context=X,p=U):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,Mv(s,o),U=o.memoizedProps,X=o.type===o.elementType?U:xr(o.type,U),C.props=X,de=o.pendingProps,le=C.context,H=u.contextType,typeof H=="object"&&H!==null?H=or(H):(H=On(u)?Ys:dn.current,H=ea(o,H));var we=u.getDerivedStateFromProps;(ue=typeof we=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==de||le!==H)&&d0(o,C,p,H),es=!1,le=o.memoizedState,C.state=le,Lc(o,p,C,g);var be=o.memoizedState;U!==de||le!==be||Nn.current||es?(typeof we=="function"&&(op(o,u,we,p),be=o.memoizedState),(X=es||u0(o,u,X,p,le,be,H)||!1)?(ue||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,be,H),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,be,H)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=be),C.props=p,C.state=be,C.context=H,p=X):(typeof C.componentDidUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),p=!1)}return dp(s,o,u,p,w,g)}function dp(s,o,u,p,g,w){E0(s,o);var C=(o.flags&128)!==0;if(!p&&!C)return g&&bv(o,u,!1),Ei(s,o,w);p=o.stateNode,MC.current=o;var U=C&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&C?(o.child=ia(o,s.child,null,w),o.child=ia(o,null,U,w)):Sn(s,o,U,w),o.memoizedState=p.state,g&&bv(o,u,!0),o.child}function S0(s){var o=s.stateNode;o.pendingContext?xv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&xv(s,o.context,!1),Gf(s,o.containerInfo)}function I0(s,o,u,p,g){return ra(),Bf(g),o.flags|=256,Sn(s,o,u,p),o.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function fp(s){return{baseLanes:s,cachePool:null,transitions:null}}function x0(s,o,u){var p=o.pendingProps,g=Rt.current,w=!1,C=(o.flags&128)!==0,U;if((U=C)||(U=s!==null&&s.memoizedState===null?!1:(g&2)!==0),U?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),wt(Rt,g&1),s===null)return Uf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=p.children,s=p.fallback,w?(p=o.mode,w=o.child,C={mode:"hidden",children:C},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=rd(C,p,0,null),s=oo(s,p,u,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=fp(u),o.memoizedState=hp,s):pp(o,C));if(g=s.memoizedState,g!==null&&(U=g.dehydrated,U!==null))return FC(s,o,C,p,U,g,u);if(w){w=p.fallback,C=o.mode,g=s.child,U=g.sibling;var H={mode:"hidden",children:p.children};return(C&1)===0&&o.child!==g?(p=o.child,p.childLanes=0,p.pendingProps=H,o.deletions=null):(p=as(g,H),p.subtreeFlags=g.subtreeFlags&14680064),U!==null?w=as(U,w):(w=oo(w,C,u,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,C=s.child.memoizedState,C=C===null?fp(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=s.childLanes&~u,o.memoizedState=hp,p}return w=s.child,s=w.sibling,p=as(w,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=p,o.memoizedState=null,p}function pp(s,o){return o=rd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Hc(s,o,u,p){return p!==null&&Bf(p),ia(o,s.child,null,u),s=pp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function FC(s,o,u,p,g,w,C){if(u)return o.flags&256?(o.flags&=-257,p=lp(Error(t(422))),Hc(s,o,C,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=p.fallback,g=o.mode,p=rd({mode:"visible",children:p.children},g,0,null),w=oo(w,g,C,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,(o.mode&1)!==0&&ia(o,s.child,null,C),o.child.memoizedState=fp(C),o.memoizedState=hp,w);if((o.mode&1)===0)return Hc(s,o,C,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var U=p.dgst;return p=U,w=Error(t(419)),p=lp(w,p,void 0),Hc(s,o,C,p)}if(U=(C&s.childLanes)!==0,Dn||U){if(p=Zt,p!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|C))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,_i(s,g),Pr(p,s,g,-1))}return Rp(),p=lp(Error(t(421))),Hc(s,o,C,p)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=JC.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,Kn=Yi(g.nextSibling),qn=o,Ct=!0,Ir=null,s!==null&&(ir[sr++]=yi,ir[sr++]=vi,ir[sr++]=Xs,yi=s.id,vi=s.overflow,Xs=o),o=pp(o,p.children),o.flags|=4096,o)}function C0(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Wf(s.return,o,u)}function mp(s,o,u,p,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=g)}function b0(s,o,u){var p=o.pendingProps,g=p.revealOrder,w=p.tail;if(Sn(s,o,p.children,u),p=Rt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&C0(s,u,o);else if(s.tag===19)C0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(wt(Rt,p),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&jc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),mp(o,!1,g,u,w);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&jc(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}mp(o,!0,u,null,w);break;case"together":mp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Wc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ei(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),no|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=as(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=as(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function UC(s,o,u){switch(o.tag){case 3:S0(o),ra();break;case 5:Bv(o);break;case 1:On(o.type)&&bc(o);break;case 4:Gf(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,g=o.memoizedProps.value;wt(Oc,p._currentValue),p._currentValue=g;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(wt(Rt,Rt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?x0(s,o,u):(wt(Rt,Rt.current&1),s=Ei(s,o,u),s!==null?s.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(s.flags&128)!==0){if(p)return b0(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),wt(Rt,Rt.current),p)break;return null;case 22:case 23:return o.lanes=0,w0(s,o,u)}return Ei(s,o,u)}var P0,gp,A0,R0;P0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},gp=function(){},A0=function(s,o,u,p){var g=s.memoizedProps;if(g!==p){s=o.stateNode,eo(Kr.current);var w=null;switch(u){case"input":g=ai(s,g),p=ai(s,p),w=[];break;case"select":g=re({},g,{value:void 0}),p=re({},p,{value:void 0}),w=[];break;case"textarea":g=Fr(s,g),p=Fr(s,p),w=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Ic)}_e(u,p);var C;u=null;for(X in g)if(!p.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var U=g[X];for(C in U)U.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in p){var H=p[X];if(U=g!=null?g[X]:void 0,p.hasOwnProperty(X)&&H!==U&&(H!=null||U!=null))if(X==="style")if(U){for(C in U)!U.hasOwnProperty(C)||H&&H.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in H)H.hasOwnProperty(C)&&U[C]!==H[C]&&(u||(u={}),u[C]=H[C])}else u||(w||(w=[]),w.push(X,u)),u=H;else X==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,U=U?U.__html:void 0,H!=null&&U!==H&&(w=w||[]).push(X,H)):X==="children"?typeof H!="string"&&typeof H!="number"||(w=w||[]).push(X,""+H):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(H!=null&&X==="onScroll"&&Tt("scroll",s),w||U===H||(w=[])):(w=w||[]).push(X,H))}u&&(w=w||[]).push("style",u);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},R0=function(s,o,u,p){u!==p&&(o.flags|=4)};function kl(s,o){if(!Ct)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function fn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function BC(s,o,u){var p=o.pendingProps;switch(Mf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(o),null;case 1:return On(o.type)&&Cc(),fn(o),null;case 3:return p=o.stateNode,aa(),St(Nn),St(dn),Xf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(kc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ir!==null&&(bp(Ir),Ir=null))),gp(s,o),fn(o),null;case 5:Qf(o);var g=eo(Cl.current);if(u=o.type,s!==null&&o.stateNode!=null)A0(s,o,u,p,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return fn(o),null}if(s=eo(Kr.current),kc(o)){p=o.stateNode,u=o.type;var w=o.memoizedProps;switch(p[qr]=o,p[El]=w,s=(o.mode&1)!==0,u){case"dialog":Tt("cancel",p),Tt("close",p);break;case"iframe":case"object":case"embed":Tt("load",p);break;case"video":case"audio":for(g=0;g<vl.length;g++)Tt(vl[g],p);break;case"source":Tt("error",p);break;case"img":case"image":case"link":Tt("error",p),Tt("load",p);break;case"details":Tt("toggle",p);break;case"input":li(p,w),Tt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Tt("invalid",p);break;case"textarea":Ur(p,w),Tt("invalid",p)}_e(u,w),g=null;for(var C in w)if(w.hasOwnProperty(C)){var U=w[C];C==="children"?typeof U=="string"?p.textContent!==U&&(w.suppressHydrationWarning!==!0&&Sc(p.textContent,U,s),g=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&Sc(p.textContent,U,s),g=["children",""+U]):i.hasOwnProperty(C)&&U!=null&&C==="onScroll"&&Tt("scroll",p)}switch(u){case"input":gt(p),ui(p,w,!0);break;case"textarea":gt(p),ae(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Ic)}p=g,o.updateQueue=p,p!==null&&(o.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=q(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=C.createElement(u,{is:p.is}):(s=C.createElement(u),u==="select"&&(C=s,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):s=C.createElementNS(s,u),s[qr]=o,s[El]=p,P0(s,o,!1,!1),o.stateNode=s;e:{switch(C=qe(u,p),u){case"dialog":Tt("cancel",s),Tt("close",s),g=p;break;case"iframe":case"object":case"embed":Tt("load",s),g=p;break;case"video":case"audio":for(g=0;g<vl.length;g++)Tt(vl[g],s);g=p;break;case"source":Tt("error",s),g=p;break;case"img":case"image":case"link":Tt("error",s),Tt("load",s),g=p;break;case"details":Tt("toggle",s),g=p;break;case"input":li(s,p),g=ai(s,p),Tt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=re({},p,{value:void 0}),Tt("invalid",s);break;case"textarea":Ur(s,p),g=Fr(s,p),Tt("invalid",s);break;default:g=p}_e(u,g),U=g;for(w in U)if(U.hasOwnProperty(w)){var H=U[w];w==="style"?xe(s,H):w==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&ze(s,H)):w==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&Ue(s,H):typeof H=="number"&&Ue(s,""+H):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?H!=null&&w==="onScroll"&&Tt("scroll",s):H!=null&&O(s,w,H,C))}switch(u){case"input":gt(s),ui(s,p,!1);break;case"textarea":gt(s),ae(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Ke(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?Un(s,!!p.multiple,w,!1):p.defaultValue!=null&&Un(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Ic)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return fn(o),null;case 6:if(s&&o.stateNode!=null)R0(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(u=eo(Cl.current),eo(Kr.current),kc(o)){if(p=o.stateNode,u=o.memoizedProps,p[qr]=o,(w=p.nodeValue!==u)&&(s=qn,s!==null))switch(s.tag){case 3:Sc(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Sc(p.nodeValue,u,(s.mode&1)!==0)}w&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[qr]=o,o.stateNode=p}return fn(o),null;case 13:if(St(Rt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ct&&Kn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Ov(),ra(),o.flags|=98560,w=!1;else if(w=kc(o),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[qr]=o}else ra(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fn(o),w=!1}else Ir!==null&&(bp(Ir),Ir=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Rt.current&1)!==0?Kt===0&&(Kt=3):Rp())),o.updateQueue!==null&&(o.flags|=4),fn(o),null);case 4:return aa(),gp(s,o),s===null&&_l(o.stateNode.containerInfo),fn(o),null;case 10:return Hf(o.type._context),fn(o),null;case 17:return On(o.type)&&Cc(),fn(o),null;case 19:if(St(Rt),w=o.memoizedState,w===null)return fn(o),null;if(p=(o.flags&128)!==0,C=w.rendering,C===null)if(p)kl(w,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=jc(s),C!==null){for(o.flags|=128,kl(w,!1),p=C.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)w=u,s=p,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,s=C.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return wt(Rt,Rt.current&1|2),o.child}s=s.sibling}w.tail!==null&&_t()>da&&(o.flags|=128,p=!0,kl(w,!1),o.lanes=4194304)}else{if(!p)if(s=jc(C),s!==null){if(o.flags|=128,p=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),kl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Ct)return fn(o),null}else 2*_t()-w.renderingStartTime>da&&u!==1073741824&&(o.flags|=128,p=!0,kl(w,!1),o.lanes=4194304);w.isBackwards?(C.sibling=o.child,o.child=C):(u=w.last,u!==null?u.sibling=C:o.child=C,w.last=C)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=_t(),o.sibling=null,u=Rt.current,wt(Rt,p?u&1|2:u&1),o):(fn(o),null);case 22:case 23:return Ap(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Gn&1073741824)!==0&&(fn(o),o.subtreeFlags&6&&(o.flags|=8192)):fn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function $C(s,o){switch(Mf(o),o.tag){case 1:return On(o.type)&&Cc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return aa(),St(Nn),St(dn),Xf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Qf(o),null;case 13:if(St(Rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ra()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return St(Rt),null;case 4:return aa(),null;case 10:return Hf(o.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var qc=!1,pn=!1,zC=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function ua(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Dt(s,o,p)}else u.current=null}function yp(s,o,u){try{u()}catch(p){Dt(s,o,p)}}var k0=!1;function HC(s,o){if(Af=Ki,s=uv(),Ef(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var g=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var C=0,U=-1,H=-1,X=0,ue=0,de=s,le=null;t:for(;;){for(var we;de!==u||g!==0&&de.nodeType!==3||(U=C+g),de!==w||p!==0&&de.nodeType!==3||(H=C+p),de.nodeType===3&&(C+=de.nodeValue.length),(we=de.firstChild)!==null;)le=de,de=we;for(;;){if(de===s)break t;if(le===u&&++X===g&&(U=C),le===w&&++ue===p&&(H=C),(we=de.nextSibling)!==null)break;de=le,le=de.parentNode}de=we}u=U===-1||H===-1?null:{start:U,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rf={focusedElem:s,selectionRange:u},Ki=!1,Ce=o;Ce!==null;)if(o=Ce,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ce=s;else for(;Ce!==null;){o=Ce;try{var be=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ae=be.memoizedProps,jt=be.memoizedState,G=o.stateNode,W=G.getSnapshotBeforeUpdate(o.elementType===o.type?Ae:xr(o.type,Ae),jt);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=o.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Dt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Ce=s;break}Ce=o.return}return be=k0,k0=!1,be}function Nl(s,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&yp(o,u,w)}g=g.next}while(g!==p)}}function Kc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function vp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function N0(s){var o=s.alternate;o!==null&&(s.alternate=null,N0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[qr],delete o[El],delete o[Df],delete o[CC],delete o[bC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function O0(s){return s.tag===5||s.tag===3||s.tag===4}function D0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||O0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _p(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ic));else if(p!==4&&(s=s.child,s!==null))for(_p(s,o,u),s=s.sibling;s!==null;)_p(s,o,u),s=s.sibling}function wp(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(wp(s,o,u),s=s.sibling;s!==null;)wp(s,o,u),s=s.sibling}var on=null,Cr=!1;function ns(s,o,u){for(u=u.child;u!==null;)V0(s,o,u),u=u.sibling}function V0(s,o,u){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount($s,u)}catch{}switch(u.tag){case 5:pn||ua(u,o);case 6:var p=on,g=Cr;on=null,ns(s,o,u),on=p,Cr=g,on!==null&&(Cr?(s=on,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):on.removeChild(u.stateNode));break;case 18:on!==null&&(Cr?(s=on,u=u.stateNode,s.nodeType===8?Of(s.parentNode,u):s.nodeType===1&&Of(s,u),Er(s)):Of(on,u.stateNode));break;case 4:p=on,g=Cr,on=u.stateNode.containerInfo,Cr=!0,ns(s,o,u),on=p,Cr=g;break;case 0:case 11:case 14:case 15:if(!pn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var w=g,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&yp(u,o,C),g=g.next}while(g!==p)}ns(s,o,u);break;case 1:if(!pn&&(ua(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(U){Dt(u,o,U)}ns(s,o,u);break;case 21:ns(s,o,u);break;case 22:u.mode&1?(pn=(p=pn)||u.memoizedState!==null,ns(s,o,u),pn=p):ns(s,o,u);break;default:ns(s,o,u)}}function L0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new zC),o.forEach(function(p){var g=ZC.bind(null,s,p);u.has(p)||(u.add(p),p.then(g,g))})}}function br(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];try{var w=s,C=o,U=C;e:for(;U!==null;){switch(U.tag){case 5:on=U.stateNode,Cr=!1;break e;case 3:on=U.stateNode.containerInfo,Cr=!0;break e;case 4:on=U.stateNode.containerInfo,Cr=!0;break e}U=U.return}if(on===null)throw Error(t(160));V0(w,C,g),on=null,Cr=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(X){Dt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)j0(o,s),o=o.sibling}function j0(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(br(o,s),Qr(s),p&4){try{Nl(3,s,s.return),Kc(3,s)}catch(Ae){Dt(s,s.return,Ae)}try{Nl(5,s,s.return)}catch(Ae){Dt(s,s.return,Ae)}}break;case 1:br(o,s),Qr(s),p&512&&u!==null&&ua(u,u.return);break;case 5:if(br(o,s),Qr(s),p&512&&u!==null&&ua(u,u.return),s.flags&32){var g=s.stateNode;try{Ue(g,"")}catch(Ae){Dt(s,s.return,Ae)}}if(p&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,C=u!==null?u.memoizedProps:w,U=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&Li(g,w),qe(U,C);var X=qe(U,w);for(C=0;C<H.length;C+=2){var ue=H[C],de=H[C+1];ue==="style"?xe(g,de):ue==="dangerouslySetInnerHTML"?ze(g,de):ue==="children"?Ue(g,de):O(g,ue,de,X)}switch(U){case"input":js(g,w);break;case"textarea":Mi(g,w);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?Un(g,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?Un(g,!!w.multiple,w.defaultValue,!0):Un(g,!!w.multiple,w.multiple?[]:"",!1))}g[El]=w}catch(Ae){Dt(s,s.return,Ae)}}break;case 6:if(br(o,s),Qr(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Ae){Dt(s,s.return,Ae)}}break;case 3:if(br(o,s),Qr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Er(o.containerInfo)}catch(Ae){Dt(s,s.return,Ae)}break;case 4:br(o,s),Qr(s);break;case 13:br(o,s),Qr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Sp=_t())),p&4&&L0(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(pn=(X=pn)||ue,br(o,s),pn=X):br(o,s),Qr(s),p&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ue&&(s.mode&1)!==0)for(Ce=s,ue=s.child;ue!==null;){for(de=Ce=ue;Ce!==null;){switch(le=Ce,we=le.child,le.tag){case 0:case 11:case 14:case 15:Nl(4,le,le.return);break;case 1:ua(le,le.return);var be=le.stateNode;if(typeof be.componentWillUnmount=="function"){p=le,u=le.return;try{o=p,be.props=o.memoizedProps,be.state=o.memoizedState,be.componentWillUnmount()}catch(Ae){Dt(p,u,Ae)}}break;case 5:ua(le,le.return);break;case 22:if(le.memoizedState!==null){U0(de);continue}}we!==null?(we.return=le,Ce=we):U0(de)}ue=ue.sibling}e:for(ue=null,de=s;;){if(de.tag===5){if(ue===null){ue=de;try{g=de.stateNode,X?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=de.stateNode,H=de.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null,U.style.display=ne("display",C))}catch(Ae){Dt(s,s.return,Ae)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=X?"":de.memoizedProps}catch(Ae){Dt(s,s.return,Ae)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:br(o,s),Qr(s),p&4&&L0(s);break;case 21:break;default:br(o,s),Qr(s)}}function Qr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(O0(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Ue(g,""),p.flags&=-33);var w=D0(s);wp(s,w,g);break;case 3:case 4:var C=p.stateNode.containerInfo,U=D0(s);_p(s,U,C);break;default:throw Error(t(161))}}catch(H){Dt(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function WC(s,o,u){Ce=s,M0(s)}function M0(s,o,u){for(var p=(s.mode&1)!==0;Ce!==null;){var g=Ce,w=g.child;if(g.tag===22&&p){var C=g.memoizedState!==null||qc;if(!C){var U=g.alternate,H=U!==null&&U.memoizedState!==null||pn;U=qc;var X=pn;if(qc=C,(pn=H)&&!X)for(Ce=g;Ce!==null;)C=Ce,H=C.child,C.tag===22&&C.memoizedState!==null?B0(g):H!==null?(H.return=C,Ce=H):B0(g);for(;w!==null;)Ce=w,M0(w),w=w.sibling;Ce=g,qc=U,pn=X}F0(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,Ce=w):F0(s)}}function F0(s){for(;Ce!==null;){var o=Ce;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:pn||Kc(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!pn)if(u===null)p.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:xr(o.type,u.memoizedProps);p.componentDidUpdate(g,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Uv(o,w,p);break;case 3:var C=o.updateQueue;if(C!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Uv(o,C,u)}break;case 5:var U=o.stateNode;if(u===null&&o.flags&4){u=U;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ue=X.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&Er(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}pn||o.flags&512&&vp(o)}catch(le){Dt(o,o.return,le)}}if(o===s){Ce=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ce=u;break}Ce=o.return}}function U0(s){for(;Ce!==null;){var o=Ce;if(o===s){Ce=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ce=u;break}Ce=o.return}}function B0(s){for(;Ce!==null;){var o=Ce;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Kc(4,o)}catch(H){Dt(o,u,H)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var g=o.return;try{p.componentDidMount()}catch(H){Dt(o,g,H)}}var w=o.return;try{vp(o)}catch(H){Dt(o,w,H)}break;case 5:var C=o.return;try{vp(o)}catch(H){Dt(o,C,H)}}}catch(H){Dt(o,o.return,H)}if(o===s){Ce=null;break}var U=o.sibling;if(U!==null){U.return=o.return,Ce=U;break}Ce=o.return}}var qC=Math.ceil,Gc=M.ReactCurrentDispatcher,Ep=M.ReactCurrentOwner,lr=M.ReactCurrentBatchConfig,st=0,Zt=null,Ut=null,an=0,Gn=0,ca=Xi(0),Kt=0,Ol=null,no=0,Qc=0,Tp=0,Dl=null,Vn=null,Sp=0,da=1/0,Ti=null,Yc=!1,Ip=null,rs=null,Xc=!1,is=null,Jc=0,Vl=0,xp=null,Zc=-1,ed=0;function In(){return(st&6)!==0?_t():Zc!==-1?Zc:Zc=_t()}function ss(s){return(s.mode&1)===0?1:(st&2)!==0&&an!==0?an&-an:AC.transition!==null?(ed===0&&(ed=Hs()),ed):(s=et,s!==0||(s=window.event,s=s===void 0?16:ul(s.type)),s)}function Pr(s,o,u,p){if(50<Vl)throw Vl=0,xp=null,Error(t(185));zi(s,u,p),((st&2)===0||s!==Zt)&&(s===Zt&&((st&2)===0&&(Qc|=u),Kt===4&&os(s,an)),Ln(s,p),u===1&&st===0&&(o.mode&1)===0&&(da=_t()+500,Pc&&Zi()))}function Ln(s,o){var u=s.callbackNode;ci(s,o);var p=zs(s,s===Zt?an:0);if(p===0)u!==null&&il(u),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(u!=null&&il(u),o===1)s.tag===0?PC(z0.bind(null,s)):Pv(z0.bind(null,s)),IC(function(){(st&6)===0&&Zi()}),u=null;else{switch(Wi(p)){case 1:u=Bs;break;case 4:u=Ui;break;case 16:u=tr;break;case 536870912:u=ec;break;default:u=tr}u=X0(u,$0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function $0(s,o){if(Zc=-1,ed=0,(st&6)!==0)throw Error(t(327));var u=s.callbackNode;if(ha()&&s.callbackNode!==u)return null;var p=zs(s,s===Zt?an:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=td(s,p);else{o=p;var g=st;st|=2;var w=W0();(Zt!==s||an!==o)&&(Ti=null,da=_t()+500,io(s,o));do try{QC();break}catch(U){H0(s,U)}while(!0);zf(),Gc.current=w,st=g,Ut!==null?o=0:(Zt=null,an=0,o=Kt)}if(o!==0){if(o===2&&(g=zn(s),g!==0&&(p=g,o=Cp(s,g))),o===1)throw u=Ol,io(s,0),os(s,p),Ln(s,_t()),u;if(o===6)os(s,p);else{if(g=s.current.alternate,(p&30)===0&&!KC(g)&&(o=td(s,p),o===2&&(w=zn(s),w!==0&&(p=w,o=Cp(s,w))),o===1))throw u=Ol,io(s,0),os(s,p),Ln(s,_t()),u;switch(s.finishedWork=g,s.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:so(s,Vn,Ti);break;case 3:if(os(s,p),(p&130023424)===p&&(o=Sp+500-_t(),10<o)){if(zs(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){In(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Nf(so.bind(null,s,Vn,Ti),o);break}so(s,Vn,Ti);break;case 4:if(os(s,p),(p&4194240)===p)break;for(o=s.eventTimes,g=-1;0<p;){var C=31-En(p);w=1<<C,C=o[C],C>g&&(g=C),p&=~w}if(p=g,p=_t()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*qC(p/1960))-p,10<p){s.timeoutHandle=Nf(so.bind(null,s,Vn,Ti),p);break}so(s,Vn,Ti);break;case 5:so(s,Vn,Ti);break;default:throw Error(t(329))}}}return Ln(s,_t()),s.callbackNode===u?$0.bind(null,s):null}function Cp(s,o){var u=Dl;return s.current.memoizedState.isDehydrated&&(io(s,o).flags|=256),s=td(s,o),s!==2&&(o=Vn,Vn=u,o!==null&&bp(o)),s}function bp(s){Vn===null?Vn=s:Vn.push.apply(Vn,s)}function KC(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var g=u[p],w=g.getSnapshot;g=g.value;try{if(!Sr(w(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function os(s,o){for(o&=~Tp,o&=~Qc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-En(o),p=1<<u;s[u]=-1,o&=~p}}function z0(s){if((st&6)!==0)throw Error(t(327));ha();var o=zs(s,0);if((o&1)===0)return Ln(s,_t()),null;var u=td(s,o);if(s.tag!==0&&u===2){var p=zn(s);p!==0&&(o=p,u=Cp(s,p))}if(u===1)throw u=Ol,io(s,0),os(s,o),Ln(s,_t()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,so(s,Vn,Ti),Ln(s,_t()),null}function Pp(s,o){var u=st;st|=1;try{return s(o)}finally{st=u,st===0&&(da=_t()+500,Pc&&Zi())}}function ro(s){is!==null&&is.tag===0&&(st&6)===0&&ha();var o=st;st|=1;var u=lr.transition,p=et;try{if(lr.transition=null,et=1,s)return s()}finally{et=p,lr.transition=u,st=o,(st&6)===0&&Zi()}}function Ap(){Gn=ca.current,St(ca)}function io(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,SC(u)),Ut!==null)for(u=Ut.return;u!==null;){var p=u;switch(Mf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Cc();break;case 3:aa(),St(Nn),St(dn),Xf();break;case 5:Qf(p);break;case 4:aa();break;case 13:St(Rt);break;case 19:St(Rt);break;case 10:Hf(p.type._context);break;case 22:case 23:Ap()}u=u.return}if(Zt=s,Ut=s=as(s.current,null),an=Gn=o,Kt=0,Ol=null,Tp=Qc=no=0,Vn=Dl=null,Zs!==null){for(o=0;o<Zs.length;o++)if(u=Zs[o],p=u.interleaved,p!==null){u.interleaved=null;var g=p.next,w=u.pending;if(w!==null){var C=w.next;w.next=g,p.next=C}u.pending=p}Zs=null}return s}function H0(s,o){do{var u=Ut;try{if(zf(),Mc.current=$c,Fc){for(var p=kt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Fc=!1}if(to=0,Jt=qt=kt=null,bl=!1,Pl=0,Ep.current=null,u===null||u.return===null){Kt=1,Ol=o,Ut=null;break}e:{var w=s,C=u.return,U=u,H=o;if(o=an,U.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var X=H,ue=U,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var we=m0(C);if(we!==null){we.flags&=-257,g0(we,C,U,w,o),we.mode&1&&p0(w,X,o),o=we,H=X;var be=o.updateQueue;if(be===null){var Ae=new Set;Ae.add(H),o.updateQueue=Ae}else be.add(H);break e}else{if((o&1)===0){p0(w,X,o),Rp();break e}H=Error(t(426))}}else if(Ct&&U.mode&1){var jt=m0(C);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),g0(jt,C,U,w,o),Bf(la(H,U));break e}}w=H=la(H,U),Kt!==4&&(Kt=2),Dl===null?Dl=[w]:Dl.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var G=h0(w,H,o);Fv(w,G);break e;case 1:U=H;var W=w.type,Y=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(rs===null||!rs.has(Y)))){w.flags|=65536,o&=-o,w.lanes|=o;var he=f0(w,U,o);Fv(w,he);break e}}w=w.return}while(w!==null)}K0(u)}catch(Re){o=Re,Ut===u&&u!==null&&(Ut=u=u.return);continue}break}while(!0)}function W0(){var s=Gc.current;return Gc.current=$c,s===null?$c:s}function Rp(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),Zt===null||(no&268435455)===0&&(Qc&268435455)===0||os(Zt,an)}function td(s,o){var u=st;st|=2;var p=W0();(Zt!==s||an!==o)&&(Ti=null,io(s,o));do try{GC();break}catch(g){H0(s,g)}while(!0);if(zf(),st=u,Gc.current=p,Ut!==null)throw Error(t(261));return Zt=null,an=0,Kt}function GC(){for(;Ut!==null;)q0(Ut)}function QC(){for(;Ut!==null&&!Ju();)q0(Ut)}function q0(s){var o=Y0(s.alternate,s,Gn);s.memoizedProps=s.pendingProps,o===null?K0(s):Ut=o,Ep.current=null}function K0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=BC(u,o,Gn),u!==null){Ut=u;return}}else{if(u=$C(u,o),u!==null){u.flags&=32767,Ut=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Kt=6,Ut=null;return}}if(o=o.sibling,o!==null){Ut=o;return}Ut=o=s}while(o!==null);Kt===0&&(Kt=5)}function so(s,o,u){var p=et,g=lr.transition;try{lr.transition=null,et=1,YC(s,o,u,p)}finally{lr.transition=g,et=p}return null}function YC(s,o,u,p){do ha();while(is!==null);if((st&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(yt(s,w),s===Zt&&(Ut=Zt=null,an=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Xc||(Xc=!0,X0(tr,function(){return ha(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=lr.transition,lr.transition=null;var C=et;et=1;var U=st;st|=4,Ep.current=null,HC(s,u),j0(u,s),gC(Rf),Ki=!!Af,Rf=Af=null,s.current=u,WC(u),ff(),st=U,et=C,lr.transition=w}else s.current=u;if(Xc&&(Xc=!1,is=s,Jc=g),w=s.pendingLanes,w===0&&(rs=null),tc(u.stateNode),Ln(s,_t()),o!==null)for(p=s.onRecoverableError,u=0;u<o.length;u++)g=o[u],p(g.value,{componentStack:g.stack,digest:g.digest});if(Yc)throw Yc=!1,s=Ip,Ip=null,s;return(Jc&1)!==0&&s.tag!==0&&ha(),w=s.pendingLanes,(w&1)!==0?s===xp?Vl++:(Vl=0,xp=s):Vl=0,Zi(),null}function ha(){if(is!==null){var s=Wi(Jc),o=lr.transition,u=et;try{if(lr.transition=null,et=16>s?16:s,is===null)var p=!1;else{if(s=is,is=null,Jc=0,(st&6)!==0)throw Error(t(331));var g=st;for(st|=4,Ce=s.current;Ce!==null;){var w=Ce,C=w.child;if((Ce.flags&16)!==0){var U=w.deletions;if(U!==null){for(var H=0;H<U.length;H++){var X=U[H];for(Ce=X;Ce!==null;){var ue=Ce;switch(ue.tag){case 0:case 11:case 15:Nl(8,ue,w)}var de=ue.child;if(de!==null)de.return=ue,Ce=de;else for(;Ce!==null;){ue=Ce;var le=ue.sibling,we=ue.return;if(N0(ue),ue===X){Ce=null;break}if(le!==null){le.return=we,Ce=le;break}Ce=we}}}var be=w.alternate;if(be!==null){var Ae=be.child;if(Ae!==null){be.child=null;do{var jt=Ae.sibling;Ae.sibling=null,Ae=jt}while(Ae!==null)}}Ce=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,Ce=C;else e:for(;Ce!==null;){if(w=Ce,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Nl(9,w,w.return)}var G=w.sibling;if(G!==null){G.return=w.return,Ce=G;break e}Ce=w.return}}var W=s.current;for(Ce=W;Ce!==null;){C=Ce;var Y=C.child;if((C.subtreeFlags&2064)!==0&&Y!==null)Y.return=C,Ce=Y;else e:for(C=W;Ce!==null;){if(U=Ce,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Kc(9,U)}}catch(Re){Dt(U,U.return,Re)}if(U===C){Ce=null;break e}var he=U.sibling;if(he!==null){he.return=U.return,Ce=he;break e}Ce=U.return}}if(st=g,Zi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot($s,s)}catch{}p=!0}return p}finally{et=u,lr.transition=o}}return!1}function G0(s,o,u){o=la(u,o),o=h0(s,o,1),s=ts(s,o,1),o=In(),s!==null&&(zi(s,1,o),Ln(s,o))}function Dt(s,o,u){if(s.tag===3)G0(s,s,u);else for(;o!==null;){if(o.tag===3){G0(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(rs===null||!rs.has(p))){s=la(u,s),s=f0(o,s,1),o=ts(o,s,1),s=In(),o!==null&&(zi(o,1,s),Ln(o,s));break}}o=o.return}}function XC(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),o=In(),s.pingedLanes|=s.suspendedLanes&u,Zt===s&&(an&u)===u&&(Kt===4||Kt===3&&(an&130023424)===an&&500>_t()-Sp?io(s,0):Tp|=u),Ln(s,o)}function Q0(s,o){o===0&&((s.mode&1)===0?o=1:(o=Vo,Vo<<=1,(Vo&130023424)===0&&(Vo=4194304)));var u=In();s=_i(s,o),s!==null&&(zi(s,o,u),Ln(s,u))}function JC(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Q0(s,u)}function ZC(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),Q0(s,u)}var Y0;Y0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Nn.current)Dn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Dn=!1,UC(s,o,u);Dn=(s.flags&131072)!==0}else Dn=!1,Ct&&(o.flags&1048576)!==0&&Av(o,Rc,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Wc(s,o),s=o.pendingProps;var g=ea(o,dn.current);oa(o,u),g=ep(null,o,p,s,g,u);var w=tp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,On(p)?(w=!0,bc(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Kf(o),g.updater=zc,o.stateNode=g,g._reactInternals=o,ap(o,p,s,u),o=dp(null,o,p,!0,w,u)):(o.tag=0,Ct&&w&&jf(o),Sn(null,o,g,u),o=o.child),o;case 16:p=o.elementType;e:{switch(Wc(s,o),s=o.pendingProps,g=p._init,p=g(p._payload),o.type=p,g=o.tag=tb(p),s=xr(p,s),g){case 0:o=cp(null,o,p,s,u);break e;case 1:o=T0(null,o,p,s,u);break e;case 11:o=y0(null,o,p,s,u);break e;case 14:o=v0(null,o,p,xr(p.type,s),u);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:xr(p,g),cp(s,o,p,g,u);case 1:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:xr(p,g),T0(s,o,p,g,u);case 3:e:{if(S0(o),s===null)throw Error(t(387));p=o.pendingProps,w=o.memoizedState,g=w.element,Mv(s,o),Lc(o,p,null,u);var C=o.memoizedState;if(p=C.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=la(Error(t(423)),o),o=I0(s,o,p,u,g);break e}else if(p!==g){g=la(Error(t(424)),o),o=I0(s,o,p,u,g);break e}else for(Kn=Yi(o.stateNode.containerInfo.firstChild),qn=o,Ct=!0,Ir=null,u=Lv(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ra(),p===g){o=Ei(s,o,u);break e}Sn(s,o,p,u)}o=o.child}return o;case 5:return Bv(o),s===null&&Uf(o),p=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,C=g.children,kf(p,g)?C=null:w!==null&&kf(p,w)&&(o.flags|=32),E0(s,o),Sn(s,o,C,u),o.child;case 6:return s===null&&Uf(o),null;case 13:return x0(s,o,u);case 4:return Gf(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=ia(o,null,p,u):Sn(s,o,p,u),o.child;case 11:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:xr(p,g),y0(s,o,p,g,u);case 7:return Sn(s,o,o.pendingProps,u),o.child;case 8:return Sn(s,o,o.pendingProps.children,u),o.child;case 12:return Sn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,g=o.pendingProps,w=o.memoizedProps,C=g.value,wt(Oc,p._currentValue),p._currentValue=C,w!==null)if(Sr(w.value,C)){if(w.children===g.children&&!Nn.current){o=Ei(s,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var U=w.dependencies;if(U!==null){C=w.child;for(var H=U.firstContext;H!==null;){if(H.context===p){if(w.tag===1){H=wi(-1,u&-u),H.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ue=X.pending;ue===null?H.next=H:(H.next=ue.next,ue.next=H),X.pending=H}}w.lanes|=u,H=w.alternate,H!==null&&(H.lanes|=u),Wf(w.return,u,o),U.lanes|=u;break}H=H.next}}else if(w.tag===10)C=w.type===o.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(t(341));C.lanes|=u,U=C.alternate,U!==null&&(U.lanes|=u),Wf(C,u,o),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===o){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}Sn(s,o,g.children,u),o=o.child}return o;case 9:return g=o.type,p=o.pendingProps.children,oa(o,u),g=or(g),p=p(g),o.flags|=1,Sn(s,o,p,u),o.child;case 14:return p=o.type,g=xr(p,o.pendingProps),g=xr(p.type,g),v0(s,o,p,g,u);case 15:return _0(s,o,o.type,o.pendingProps,u);case 17:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:xr(p,g),Wc(s,o),o.tag=1,On(p)?(s=!0,bc(o)):s=!1,oa(o,u),c0(o,p,g),ap(o,p,g,u),dp(null,o,p,!0,s,u);case 19:return b0(s,o,u);case 22:return w0(s,o,u)}throw Error(t(156,o.tag))};function X0(s,o){return Oo(s,o)}function eb(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(s,o,u,p){return new eb(s,o,u,p)}function kp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function tb(s){if(typeof s=="function")return kp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===ke)return 14}return 2}function as(s,o){var u=s.alternate;return u===null?(u=ur(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function nd(s,o,u,p,g,w){var C=2;if(p=s,typeof s=="function")kp(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case D:return oo(u.children,g,w,o);case b:C=8,g|=8;break;case k:return s=ur(12,u,o,g|2),s.elementType=k,s.lanes=w,s;case V:return s=ur(13,u,o,g),s.elementType=V,s.lanes=w,s;case ge:return s=ur(19,u,o,g),s.elementType=ge,s.lanes=w,s;case Ie:return rd(u,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:C=10;break e;case F:C=9;break e;case $:C=11;break e;case ke:C=14;break e;case ye:C=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=ur(C,u,o,g),o.elementType=s,o.type=p,o.lanes=w,o}function oo(s,o,u,p){return s=ur(7,s,p,o),s.lanes=u,s}function rd(s,o,u,p){return s=ur(22,s,p,o),s.elementType=Ie,s.lanes=u,s.stateNode={isHidden:!1},s}function Np(s,o,u){return s=ur(6,s,null,o),s.lanes=u,s}function Op(s,o,u){return o=ur(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function nb(s,o,u,p,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Dp(s,o,u,p,g,w,C,U,H){return s=new nb(s,o,u,U,H),o===1?(o=1,w===!0&&(o|=8)):o=0,w=ur(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kf(w),s}function rb(s,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:p==null?null:""+p,children:s,containerInfo:o,implementation:u}}function J0(s){if(!s)return Ji;s=s._reactInternals;e:{if(gr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(On(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(On(u))return Cv(s,u,o)}return o}function Z0(s,o,u,p,g,w,C,U,H){return s=Dp(u,p,!0,s,g,w,C,U,H),s.context=J0(null),u=s.current,p=In(),g=ss(u),w=wi(p,g),w.callback=o??null,ts(u,w,g),s.current.lanes=g,zi(s,g,p),Ln(s,p),s}function id(s,o,u,p){var g=o.current,w=In(),C=ss(g);return u=J0(u),o.context===null?o.context=u:o.pendingContext=u,o=wi(w,C),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=ts(g,o,C),s!==null&&(Pr(s,g,C,w),Vc(s,g,C)),C}function sd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function e_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Vp(s,o){e_(s,o),(s=s.alternate)&&e_(s,o)}function ib(){return null}var t_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lp(s){this._internalRoot=s}od.prototype.render=Lp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));id(s,o,null,null)},od.prototype.unmount=Lp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ro(function(){id(null,s,null,null)}),o[mi]=null}};function od(s){this._internalRoot=s}od.prototype.unstable_scheduleHydration=function(s){if(s){var o=oc();s={blockedOn:null,target:s,priority:o};for(var u=0;u<$r.length&&o!==0&&o<$r[u].priority;u++);$r.splice(u,0,s),u===0&&uc(s)}};function jp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ad(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function n_(){}function sb(s,o,u,p,g){if(g){if(typeof p=="function"){var w=p;p=function(){var X=sd(C);w.call(X)}}var C=Z0(o,p,s,0,null,!1,!1,"",n_);return s._reactRootContainer=C,s[mi]=C.current,_l(s.nodeType===8?s.parentNode:s),ro(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var U=p;p=function(){var X=sd(H);U.call(X)}}var H=Dp(s,0,!1,null,null,!1,!1,"",n_);return s._reactRootContainer=H,s[mi]=H.current,_l(s.nodeType===8?s.parentNode:s),ro(function(){id(o,H,u,p)}),H}function ld(s,o,u,p,g){var w=u._reactRootContainer;if(w){var C=w;if(typeof g=="function"){var U=g;g=function(){var H=sd(C);U.call(H)}}id(o,C,s,g)}else C=sb(u,o,s,g,p);return sd(C)}ic=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Bi(o.pendingLanes);u!==0&&(Hi(o,u|1),Ln(o,_t()),(st&6)===0&&(da=_t()+500,Zi()))}break;case 13:ro(function(){var p=_i(s,1);if(p!==null){var g=In();Pr(p,s,1,g)}}),Vp(s,1)}},Lo=function(s){if(s.tag===13){var o=_i(s,134217728);if(o!==null){var u=In();Pr(o,s,134217728,u)}Vp(s,134217728)}},sc=function(s){if(s.tag===13){var o=ss(s),u=_i(s,o);if(u!==null){var p=In();Pr(u,s,o,p)}Vp(s,o)}},oc=function(){return et},ac=function(s,o){var u=et;try{return et=s,o()}finally{et=u}},at=function(s,o,u){switch(o){case"input":if(js(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var g=xc(p);if(!g)throw Error(t(90));Ht(p),js(p,g)}}}break;case"textarea":Mi(s,u);break;case"select":o=u.value,o!=null&&Un(s,!!u.multiple,o,!1)}},Zn=Pp,Fi=ro;var ob={usingClientEntryPoint:!1,Events:[Tl,Jo,xc,nn,Bn,Pp]},Ll={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ab={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=rl(s),s===null?null:s.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||ib,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{$s=ud.inject(ab),$n=ud}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ob,jn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jp(o))throw Error(t(200));return rb(s,o,null,u)},jn.createRoot=function(s,o){if(!jp(s))throw Error(t(299));var u=!1,p="",g=t_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Dp(s,1,!1,null,null,u,!1,p,g),s[mi]=o.current,_l(s.nodeType===8?s.parentNode:s),new Lp(o)},jn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=rl(o),s=s===null?null:s.stateNode,s},jn.flushSync=function(s){return ro(s)},jn.hydrate=function(s,o,u){if(!ad(o))throw Error(t(200));return ld(null,s,o,!0,u)},jn.hydrateRoot=function(s,o,u){if(!jp(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,g=!1,w="",C=t_;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),o=Z0(o,null,s,1,u??null,g,!1,w,C),s[mi]=o.current,_l(s),p)for(s=0;s<p.length;s++)u=p[s],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new od(o)},jn.render=function(s,o,u){if(!ad(o))throw Error(t(200));return ld(null,s,o,!1,u)},jn.unmountComponentAtNode=function(s){if(!ad(s))throw Error(t(40));return s._reactRootContainer?(ro(function(){ld(null,null,s,!1,function(){s._reactRootContainer=null,s[mi]=null})}),!0):!1},jn.unstable_batchedUpdates=Pp,jn.unstable_renderSubtreeIntoContainer=function(s,o,u,p){if(!ad(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ld(s,o,u,!1,p)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var c_;function gb(){if(c_)return Up.exports;c_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=mb(),Up.exports}var d_;function yb(){if(d_)return cd;d_=1;var n=gb();return cd.createRoot=n.createRoot,cd.hydrateRoot=n.hydrateRoot,cd}var vb=yb(),A=Ih();const tt=ub(A);var Ml={},h_;function _b(){if(h_)return Ml;h_=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.parse=l,Ml.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,S){const I=new a,R=v.length;if(R<2)return I;const P=(S==null?void 0:S.decode)||m;let j=0;do{const x=v.indexOf("=",j);if(x===-1)break;const O=v.indexOf(";",j),M=O===-1?R:O;if(x>M){j=v.lastIndexOf(";",x-1)+1;continue}const B=c(v,j,x),Q=d(v,x,B),D=v.slice(B,Q);if(I[D]===void 0){let b=c(v,x+1,M),k=d(v,M,b);const L=P(v.slice(b,k));I[D]=L}j=M+1}while(j<R);return I}function c(v,S,I){do{const R=v.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<I);return I}function d(v,S,I){for(;S>I;){const R=v.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return I}function f(v,S,I){const R=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const P=R(S);if(!e.test(P))throw new TypeError(`argument val is invalid: ${S}`);let j=v+"="+P;if(!I)return j;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);j+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);j+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);j+="; Path="+I.path}if(I.expires){if(!y(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);j+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(j+="; HttpOnly"),I.secure&&(j+="; Secure"),I.partitioned&&(j+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return j}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return i.call(v)==="[object Date]"}return Ml}_b();var f_="popstate";function wb(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return gm("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:uu(i)}return Tb(e,t,null,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Eb(){return Math.random().toString(36).substring(2,10)}function p_(n,e){return{usr:n.state,key:n.key,idx:e}}function gm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$a(e):e,state:t,key:e&&e.key||r||Eb()}}function uu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $a(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Tb(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let P=m(),j=P==null?null:P-f;f=P,d&&d({action:c,location:R.location,delta:j})}function v(P,j){c="PUSH";let x=gm(R.location,P,j);f=m()+1;let O=p_(x,f),M=R.createHref(x);try{l.pushState(O,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(M)}a&&d&&d({action:c,location:R.location,delta:1})}function S(P,j){c="REPLACE";let x=gm(R.location,P,j);f=m();let O=p_(x,f),M=R.createHref(x);l.replaceState(O,"",M),a&&d&&d({action:c,location:R.location,delta:0})}function I(P){return Sb(P)}let R={get action(){return c},get location(){return n(i,l)},listen(P){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(f_,y),d=P,()=>{i.removeEventListener(f_,y),d=null}},createHref(P){return e(i,P)},createURL:I,encodeLocation(P){let j=I(P);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:S,go(P){return l.go(P)}};return R}function Sb(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),bt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:uu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function CT(n,e,t="/"){return Ib(n,e,t,!1)}function Ib(n,e,t,r){let i=typeof e=="string"?$a(e):e,a=Pi(i.pathname||"/",t);if(a==null)return null;let l=bT(n);xb(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=Lb(a);c=Db(l[d],f,r)}return c}function bT(n,e=[],t=[],r=""){let i=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(bt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ci([r,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),bT(a.children,e,m,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:Nb(f,a.index),routesMeta:m})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let d of PT(a.path))i(a,l,d)}),e}function PT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=PT(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function xb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ob(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Cb=/^:[\w-]+$/,bb=3,Pb=2,Ab=1,Rb=10,kb=-2,m_=n=>n==="*";function Nb(n,e){let t=n.split("/"),r=t.length;return t.some(m_)&&(r+=kb),e&&(r+=Pb),t.filter(i=>!m_(i)).reduce((i,a)=>i+(Cb.test(a)?bb:a===""?Ab:Rb),r)}function Ob(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Db(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Fd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=Fd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Ci([a,y.pathname]),pathnameBase:Ub(Ci([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=Ci([a,y.pathnameBase]))}return l}function Fd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Vb(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},v)=>{if(m==="*"){let I=c[v]||"";l=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const S=c[v];return y&&!S?f[m]=void 0:f[m]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function Vb(n,e=!1,t=!0){Dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Lb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function jb(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?$a(n):n;return{pathname:t?t.startsWith("/")?t:Mb(t,e):e,search:Bb(r),hash:$b(i)}}function Mb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function zp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vg(n){let e=Fb(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function _g(n,e,t,r=!1){let i;typeof n=="string"?i=$a(n):(i={...n},bt(!i.pathname||!i.pathname.includes("?"),zp("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),zp("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),zp("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}c=y>=0?e[y]:"/"}let d=jb(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Ci=n=>n.join("/").replace(/\/\/+/g,"/"),Ub=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Bb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$b=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var AT=["POST","PUT","PATCH","DELETE"];new Set(AT);var Hb=["GET",...AT];new Set(Hb);var za=A.createContext(null);za.displayName="DataRouter";var xh=A.createContext(null);xh.displayName="DataRouterState";var RT=A.createContext({isTransitioning:!1});RT.displayName="ViewTransition";var Wb=A.createContext(new Map);Wb.displayName="Fetchers";var qb=A.createContext(null);qb.displayName="Await";var Mr=A.createContext(null);Mr.displayName="Navigation";var Ru=A.createContext(null);Ru.displayName="Location";var fr=A.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var wg=A.createContext(null);wg.displayName="RouteError";function Kb(n,{relative:e}={}){bt(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(Mr),{hash:i,pathname:a,search:l}=ku(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Ci([t,a])),r.createHref({pathname:c,search:l,hash:i})}function Ha(){return A.useContext(Ru)!=null}function oi(){return bt(Ha(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ru).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NT(n){A.useContext(Mr).static||A.useLayoutEffect(n)}function Xn(){let{isDataRoute:n}=A.useContext(fr);return n?lP():Gb()}function Gb(){bt(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(za),{basename:e,navigator:t}=A.useContext(Mr),{matches:r}=A.useContext(fr),{pathname:i}=oi(),a=JSON.stringify(vg(r)),l=A.useRef(!1);return NT(()=>{l.current=!0}),A.useCallback((d,f={})=>{if(Dr(l.current,kT),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=_g(d,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ci([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,a,i,n])}var Qb=A.createContext(null);function Yb(n){let e=A.useContext(fr).outlet;return e&&A.createElement(Qb.Provider,{value:n},e)}function _n(){let{matches:n}=A.useContext(fr),e=n[n.length-1];return e?e.params:{}}function ku(n,{relative:e}={}){let{matches:t}=A.useContext(fr),{pathname:r}=oi(),i=JSON.stringify(vg(t));return A.useMemo(()=>_g(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Xb(n,e){return OT(n,e)}function OT(n,e,t,r){var j;bt(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Mr),{matches:a}=A.useContext(fr),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let x=m&&m.path||"";DT(d,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let y=oi(),v;if(e){let x=typeof e=="string"?$a(e):e;bt(f==="/"||((j=x.pathname)==null?void 0:j.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${x.pathname}" was given in the \`location\` prop.`),v=x}else v=y;let S=v.pathname||"/",I=S;if(f!=="/"){let x=f.replace(/^\//,"").split("/");I="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=CT(n,{pathname:I});Dr(m||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Dr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=nP(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Ci([f,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?f:Ci([f,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,t,r);return e&&P?A.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},P):P}function Jb(){let n=aP(),e=zb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:i},t):null,l)}var Zb=A.createElement(Jb,null),eP=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(fr.Provider,{value:this.props.routeContext},A.createElement(wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tP({routeContext:n,match:e,children:t}){let r=A.useContext(za);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(fr.Provider,{value:n},t)}function nP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);bt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:y}=t,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let y,v=!1,S=null,I=null;t&&(y=a&&f.route.id?a[f.route.id]:void 0,S=f.route.errorElement||Zb,l&&(c<0&&m===0?(DT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,I=null):c===m&&(v=!0,I=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),P=()=>{let j;return y?j=S:v?j=I:f.route.Component?j=A.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,A.createElement(tP,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:j})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?A.createElement(eP,{location:t.location,revalidation:t.revalidation,component:S,error:y,children:P(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):P()},null)}function Eg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rP(n){let e=A.useContext(za);return bt(e,Eg(n)),e}function iP(n){let e=A.useContext(xh);return bt(e,Eg(n)),e}function sP(n){let e=A.useContext(fr);return bt(e,Eg(n)),e}function Tg(n){let e=sP(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oP(){return Tg("useRouteId")}function aP(){var r;let n=A.useContext(wg),e=iP("useRouteError"),t=Tg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function lP(){let{router:n}=rP("useNavigate"),e=Tg("useNavigate"),t=A.useRef(!1);return NT(()=>{t.current=!0}),A.useCallback(async(i,a={})=>{Dr(t.current,kT),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var g_={};function DT(n,e,t){!e&&!g_[n]&&(g_[n]=!0,Dr(!1,t))}A.memo(uP);function uP({routes:n,future:e,state:t}){return OT(n,void 0,t,e)}function cP({to:n,replace:e,state:t,relative:r}){bt(Ha(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Mr);Dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=A.useContext(fr),{pathname:l}=oi(),c=Xn(),d=_g(n,vg(a),l,r==="path"),f=JSON.stringify(d);return A.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function VT(n){return Yb(n.context)}function cr(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){bt(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=$a(t));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:v="default"}=t,S=A.useMemo(()=>{let I=Pi(d,l);return I==null?null:{location:{pathname:I,search:f,hash:m,state:y,key:v},navigationType:r}},[l,d,f,m,y,v,r]);return Dr(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:A.createElement(Mr.Provider,{value:c},A.createElement(Ru.Provider,{children:e,value:S}))}function hP({children:n,location:e}){return Xb(ym(n),e)}function ym(n,e=[]){let t=[];return A.Children.forEach(n,(r,i)=>{if(!A.isValidElement(r))return;let a=[...e,i];if(r.type===A.Fragment){t.push.apply(t,ym(r.props.children,a));return}bt(r.type===cr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ym(r.props.children,a)),t.push(l)}),t}var Id="get",xd="application/x-www-form-urlencoded";function Ch(n){return n!=null&&typeof n.tagName=="string"}function fP(n){return Ch(n)&&n.tagName.toLowerCase()==="button"}function pP(n){return Ch(n)&&n.tagName.toLowerCase()==="form"}function mP(n){return Ch(n)&&n.tagName.toLowerCase()==="input"}function gP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yP(n,e){return n.button===0&&(!e||e==="_self")&&!gP(n)}var dd=null;function vP(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var _P=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hp(n){return n!=null&&!_P.has(n)?(Dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):n}function wP(n,e){let t,r,i,a,l;if(pP(n)){let c=n.getAttribute("action");r=c?Pi(c,e):null,t=n.getAttribute("method")||Id,i=Hp(n.getAttribute("enctype"))||xd,a=new FormData(n)}else if(fP(n)||mP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?Pi(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Id,i=Hp(n.getAttribute("formenctype"))||Hp(c.getAttribute("enctype"))||xd,a=new FormData(c,n),!vP()){let{name:f,type:m,value:y}=n;if(m==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,y)}}else{if(Ch(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Id,r=null,i=xd,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function Sg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function EP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SP(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await EP(a,t);return l.links?l.links():[]}return[]}));return bP(r.flat(1).filter(TP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function y_(n,e,t,r,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var m;return t[f].pathname!==d.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function IP(n,e,{includeHydrateFallback:t}={}){return xP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function xP(n){return[...new Set(n)]}function CP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function bP(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(CP(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PP=new Set([100,101,204,205]);function AP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Pi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function LT(){let n=A.useContext(za);return Sg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RP(){let n=A.useContext(xh);return Sg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ig=A.createContext(void 0);Ig.displayName="FrameworkContext";function jT(){let n=A.useContext(Ig);return Sg(n,"You must render this element inside a <HydratedRouter> element"),n}function kP(n,e){let t=A.useContext(Ig),[r,i]=A.useState(!1),[a,l]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,v=A.useRef(null);A.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=j=>{j.forEach(x=>{l(x.isIntersecting)})},P=new IntersectionObserver(R,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[n]),A.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let S=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,v,{}]:[a,v,{onFocus:Fl(c,S),onBlur:Fl(d,I),onMouseEnter:Fl(f,S),onMouseLeave:Fl(m,I),onTouchStart:Fl(y,S)}]:[!1,v,{}]}function Fl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function NP({page:n,...e}){let{router:t}=LT(),r=A.useMemo(()=>CT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(DP,{page:n,matches:r,...e}):null}function OP(n){let{manifest:e,routeModules:t}=jT(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return SP(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function DP({page:n,matches:e,...t}){let r=oi(),{manifest:i,routeModules:a}=jT(),{basename:l}=LT(),{loaderData:c,matches:d}=RP(),f=A.useMemo(()=>y_(n,e,d,i,r,"data"),[n,e,d,i,r]),m=A.useMemo(()=>y_(n,e,d,i,r,"assets"),[n,e,d,i,r]),y=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,R=!1;if(e.forEach(j=>{var O;let x=i.routes[j.route.id];!x||!x.hasLoader||(!f.some(M=>M.route.id===j.route.id)&&j.route.id in c&&((O=a[j.route.id])!=null&&O.shouldRevalidate)||x.hasClientLoader?R=!0:I.add(j.route.id))}),I.size===0)return[];let P=AP(n,l);return R&&I.size>0&&P.searchParams.set("_routes",e.filter(j=>I.has(j.route.id)).map(j=>j.route.id).join(",")),[P.pathname+P.search]},[l,c,r,i,f,e,n,a]),v=A.useMemo(()=>IP(m,i),[m,i]),S=OP(m);return A.createElement(A.Fragment,null,y.map(I=>A.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),v.map(I=>A.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),S.map(({key:I,link:R})=>A.createElement("link",{key:I,...R})))}function VP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var MT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MT&&(window.__reactRouterVersion="7.6.2")}catch{}function LP({basename:n,children:e,window:t}){let r=A.useRef();r.current==null&&(r.current=wb({window:t,v5Compat:!0}));let i=r.current,[a,l]=A.useState({action:i.action,location:i.location}),c=A.useCallback(d=>{A.startTransition(()=>l(d))},[l]);return A.useLayoutEffect(()=>i.listen(c),[i,c]),A.createElement(dP,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var FT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UT=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:y,...v},S){let{basename:I}=A.useContext(Mr),R=typeof f=="string"&&FT.test(f),P,j=!1;if(typeof f=="string"&&R&&(P=f,MT))try{let k=new URL(window.location.href),L=f.startsWith("//")?new URL(k.protocol+f):new URL(f),F=Pi(L.pathname,I);L.origin===k.origin&&F!=null?f=F+L.search+L.hash:j=!0}catch{Dr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Kb(f,{relative:i}),[O,M,B]=kP(r,v),Q=UP(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:y});function D(k){e&&e(k),k.defaultPrevented||Q(k)}let b=A.createElement("a",{...v,...B,href:P||x,onClick:j||a?e:D,ref:VP(S,M),target:d,"data-discover":!R&&t==="render"?"true":void 0});return O&&!R?A.createElement(A.Fragment,null,b,A.createElement(NP,{page:x})):b});UT.displayName="Link";var jP=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},m){let y=ku(l,{relative:f.relative}),v=oi(),S=A.useContext(xh),{navigator:I,basename:R}=A.useContext(Mr),P=S!=null&&WP(y)&&c===!0,j=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,x=v.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(x=x.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&R&&(O=Pi(O,R)||O);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let B=x===j||!i&&x.startsWith(j)&&x.charAt(M)==="/",Q=O!=null&&(O===j||!i&&O.startsWith(j)&&O.charAt(j.length)==="/"),D={isActive:B,isPending:Q,isTransitioning:P},b=B?e:void 0,k;typeof r=="function"?k=r(D):k=[r,B?"active":null,Q?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return A.createElement(UT,{...f,"aria-current":b,className:k,ref:m,style:L,to:l,viewTransition:c},typeof d=="function"?d(D):d)});jP.displayName="NavLink";var MP=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Id,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:y,...v},S)=>{let I=zP(),R=HP(c,{relative:f}),P=l.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&FT.test(c),x=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,B=(M==null?void 0:M.getAttribute("formmethod"))||l;I(M||O.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:y})};return A.createElement("form",{ref:S,method:P,action:R,onSubmit:r?d:x,...v,"data-discover":!j&&n==="render"?"true":void 0})});MP.displayName="Form";function FP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BT(n){let e=A.useContext(za);return bt(e,FP(n)),e}function UP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=Xn(),d=oi(),f=ku(n,{relative:a});return A.useCallback(m=>{if(yP(m,e)){m.preventDefault();let y=t!==void 0?t:uu(d)===uu(f);c(n,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,f,t,r,e,n,i,a,l])}var BP=0,$P=()=>`__${String(++BP)}__`;function zP(){let{router:n}=BT("useSubmit"),{basename:e}=A.useContext(Mr),t=oP();return A.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:d,body:f}=wP(r,e);if(i.navigate===!1){let m=i.fetcherKey||$P();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function HP(n,{relative:e}={}){let{basename:t}=A.useContext(Mr),r=A.useContext(fr);bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ku(n||".",{relative:e})},l=oi();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ci([t,a.pathname])),uu(a)}function WP(n,e={}){let t=A.useContext(RT);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BT("useViewTransitionState"),i=ku(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Pi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Pi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fd(i.pathname,l)!=null||Fd(i.pathname,a)!=null}[...PP];const qP=()=>{};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let v=(c&15)<<2|f>>6,S=f&63;d||(S=64,l||(v=64)),r.push(t[m],t[y],t[v],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($T(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||f==null||y==null)throw new GP;const v=a<<2|c>>4;if(r.push(v),f!==64){const S=c<<4&240|f>>2;if(r.push(S),y!==64){const I=f<<6&192|y;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QP=function(n){const e=$T(n);return zT.encodeByteArray(e,!0)},Ud=function(n){return QP(n).replace(/\./g,"")},HT=function(n){try{return zT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=()=>YP().__FIREBASE_DEFAULTS__,JP=()=>{if(typeof process>"u"||typeof v_>"u")return;const n=v_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&HT(n[1]);return e&&JSON.parse(e)},bh=()=>{try{return qP()||XP()||JP()||ZP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WT=n=>{var e,t;return(t=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},eA=n=>{const e=WT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},qT=()=>{var n;return(n=bh())===null||n===void 0?void 0:n.config},KT=n=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n){return n.endsWith(".cloudworkstations.dev")}async function GT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ud(JSON.stringify(t)),Ud(JSON.stringify(l)),""].join(".")}const Ql={};function rA(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?n.emulator.push(e):n.prod.push(e);return n}function iA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let __=!1;function QT(n,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Ql[n]===e||Ql[n]||__)return;Ql[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=rA().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,S){v.setAttribute("width","24"),v.setAttribute("id",S),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{__=!0,l()},v}function m(v,S){v.setAttribute("id",S),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=iA(r),S=t("text"),I=document.getElementById(S)||document.createElement("span"),R=t("learnmore"),P=document.getElementById(R)||document.createElement("a"),j=t("preprendIcon"),x=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;c(O),m(P,R);const M=f();d(x,j),O.append(x,I,P,M),document.body.appendChild(O)}a?(I.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function oA(){var n;const e=(n=bh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cA(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dA(){return!oA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function fA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="FirebaseError";class Vi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=pA,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?mA(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Vi(i,c,r)}}function mA(n,e){return n.replace(gA,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gA=/\{\$([^}]+)}/g;function yA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(w_(a)&&w_(l)){if(!yo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function w_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Hl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vA(n,e){const t=new _A(n,e);return t.subscribe.bind(t)}class _A{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wA(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class vo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new tA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SA(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(n){return n===uo?void 0:n}function SA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const xA={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},CA=Je.INFO,bA={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},PA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=bA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let xg=class{constructor(e){this.name=e,this._logLevel=CA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}};const AA=(n,e)=>e.some(t=>n instanceof t);let E_,T_;function RA(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YT=new WeakMap,vm=new WeakMap,XT=new WeakMap,qp=new WeakMap,Cg=new WeakMap;function NA(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(_s(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&YT.set(t,n)}).catch(()=>{}),Cg.set(e,n),e}function OA(n){if(vm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});vm.set(n,e)}let _m={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||XT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DA(n){_m=n(_m)}function VA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Kp(this),e,...t);return XT.set(r,e.sort?e.sort():[e]),_s(r)}:kA().includes(n)?function(...e){return n.apply(Kp(this),e),_s(YT.get(this))}:function(...e){return _s(n.apply(Kp(this),e))}}function LA(n){return typeof n=="function"?VA(n):(n instanceof IDBTransaction&&OA(n),AA(n,RA())?new Proxy(n,_m):n)}function _s(n){if(n instanceof IDBRequest)return NA(n);if(qp.has(n))return qp.get(n);const e=LA(n);return e!==n&&(qp.set(n,e),Cg.set(e,n)),e}const Kp=n=>Cg.get(n);function jA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=_s(l);return r&&l.addEventListener("upgradeneeded",d=>{r(_s(l.result),d.oldVersion,d.newVersion,_s(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const MA=["get","getKey","getAll","getAllKeys","count"],FA=["put","add","delete","clear"],Gp=new Map;function S_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=FA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MA.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&d.done]))[0]};return Gp.set(e,a),a}DA(n=>({...n,get:(e,t,r)=>S_(e,t)||n.get(e,t,r),has:(e,t)=>!!S_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function BA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wm="@firebase/app",I_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new xg("@firebase/app"),$A="@firebase/app-compat",zA="@firebase/analytics-compat",HA="@firebase/analytics",WA="@firebase/app-check-compat",qA="@firebase/app-check",KA="@firebase/auth",GA="@firebase/auth-compat",QA="@firebase/database",YA="@firebase/data-connect",XA="@firebase/database-compat",JA="@firebase/functions",ZA="@firebase/functions-compat",eR="@firebase/installations",tR="@firebase/installations-compat",nR="@firebase/messaging",rR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",oR="@firebase/remote-config",aR="@firebase/remote-config-compat",lR="@firebase/storage",uR="@firebase/storage-compat",cR="@firebase/firestore",dR="@firebase/ai",hR="@firebase/firestore-compat",fR="firebase",pR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",mR={[wm]:"fire-core",[$A]:"fire-core-compat",[HA]:"fire-analytics",[zA]:"fire-analytics-compat",[qA]:"fire-app-check",[WA]:"fire-app-check-compat",[KA]:"fire-auth",[GA]:"fire-auth-compat",[QA]:"fire-rtdb",[YA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[JA]:"fire-fn",[ZA]:"fire-fn-compat",[eR]:"fire-iid",[tR]:"fire-iid-compat",[nR]:"fire-fcm",[rR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[oR]:"fire-rc",[aR]:"fire-rc-compat",[lR]:"fire-gcs",[uR]:"fire-gcs-compat",[cR]:"fire-fst",[hR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,gR=new Map,Tm=new Map;function x_(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ra(n){const e=n.name;if(Tm.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,n);for(const t of Bd.values())x_(t,n);for(const t of gR.values())x_(t,n);return!0}function bg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new Nu("app","Firebase",yR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=pR;function JT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Em,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ws.create("bad-app-name",{appName:String(i)});if(t||(t=qT()),!t)throw ws.create("no-options");const a=Bd.get(i);if(a){if(yo(t,a.options)&&yo(r,a.config))return a;throw ws.create("duplicate-app",{appName:i})}const l=new IA(i);for(const d of Tm.values())l.addComponent(d);const c=new vR(t,r,l);return Bd.set(i,c),c}function ZT(n=Em){const e=Bd.get(n);if(!e&&n===Em&&qT())return JT();if(!e)throw ws.create("no-app",{appName:n});return e}function Es(n,e,t){var r;let i=(r=mR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(c.join(" "));return}Ra(new vo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-heartbeat-database",wR=1,cu="firebase-heartbeat-store";let Qp=null;function e1(){return Qp||(Qp=jA(_R,wR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ws.create("idb-open",{originalErrorMessage:n.message})})),Qp}async function ER(n){try{const t=(await e1()).transaction(cu),r=await t.objectStore(cu).get(t1(n));return await t.done,r}catch(e){if(e instanceof Vi)Ai.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function C_(n,e){try{const r=(await e1()).transaction(cu,"readwrite");await r.objectStore(cu).put(e,t1(n)),await r.done}catch(t){if(t instanceof Vi)Ai.warn(t.message);else{const r=ws.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(r.message)}}}function t1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,SR=30;class IR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=b_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>SR){const l=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=b_(),{heartbeatsToSend:r,unsentEntries:i}=xR(this._heartbeatsCache.heartbeats),a=Ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ai.warn(t),""}}}function b_(){return new Date().toISOString().substring(0,10)}function xR(n,e=TR){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),P_(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),P_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class CR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?fA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ER(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return C_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return C_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P_(n){return Ud(JSON.stringify({version:2,heartbeats:n})).length}function bR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n){Ra(new vo("platform-logger",e=>new UA(e),"PRIVATE")),Ra(new vo("heartbeat",e=>new IR(e),"PRIVATE")),Es(wm,I_,n),Es(wm,I_,"esm2017"),Es("fire-js","")}PR("");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,n1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function k(){}k.prototype=b.prototype,D.D=b.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(L,F,$){for(var V=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)V[ge-2]=arguments[ge];return b.prototype[F].apply(L,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,k){k||(k=0);var L=Array(16);if(typeof b=="string")for(var F=0;16>F;++F)L[F]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(F=0;16>F;++F)L[F]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=D.g[0],k=D.g[1],F=D.g[2];var $=D.g[3],V=b+($^k&(F^$))+L[0]+3614090360&4294967295;b=k+(V<<7&4294967295|V>>>25),V=$+(F^b&(k^F))+L[1]+3905402710&4294967295,$=b+(V<<12&4294967295|V>>>20),V=F+(k^$&(b^k))+L[2]+606105819&4294967295,F=$+(V<<17&4294967295|V>>>15),V=k+(b^F&($^b))+L[3]+3250441966&4294967295,k=F+(V<<22&4294967295|V>>>10),V=b+($^k&(F^$))+L[4]+4118548399&4294967295,b=k+(V<<7&4294967295|V>>>25),V=$+(F^b&(k^F))+L[5]+1200080426&4294967295,$=b+(V<<12&4294967295|V>>>20),V=F+(k^$&(b^k))+L[6]+2821735955&4294967295,F=$+(V<<17&4294967295|V>>>15),V=k+(b^F&($^b))+L[7]+4249261313&4294967295,k=F+(V<<22&4294967295|V>>>10),V=b+($^k&(F^$))+L[8]+1770035416&4294967295,b=k+(V<<7&4294967295|V>>>25),V=$+(F^b&(k^F))+L[9]+2336552879&4294967295,$=b+(V<<12&4294967295|V>>>20),V=F+(k^$&(b^k))+L[10]+4294925233&4294967295,F=$+(V<<17&4294967295|V>>>15),V=k+(b^F&($^b))+L[11]+2304563134&4294967295,k=F+(V<<22&4294967295|V>>>10),V=b+($^k&(F^$))+L[12]+1804603682&4294967295,b=k+(V<<7&4294967295|V>>>25),V=$+(F^b&(k^F))+L[13]+4254626195&4294967295,$=b+(V<<12&4294967295|V>>>20),V=F+(k^$&(b^k))+L[14]+2792965006&4294967295,F=$+(V<<17&4294967295|V>>>15),V=k+(b^F&($^b))+L[15]+1236535329&4294967295,k=F+(V<<22&4294967295|V>>>10),V=b+(F^$&(k^F))+L[1]+4129170786&4294967295,b=k+(V<<5&4294967295|V>>>27),V=$+(k^F&(b^k))+L[6]+3225465664&4294967295,$=b+(V<<9&4294967295|V>>>23),V=F+(b^k&($^b))+L[11]+643717713&4294967295,F=$+(V<<14&4294967295|V>>>18),V=k+($^b&(F^$))+L[0]+3921069994&4294967295,k=F+(V<<20&4294967295|V>>>12),V=b+(F^$&(k^F))+L[5]+3593408605&4294967295,b=k+(V<<5&4294967295|V>>>27),V=$+(k^F&(b^k))+L[10]+38016083&4294967295,$=b+(V<<9&4294967295|V>>>23),V=F+(b^k&($^b))+L[15]+3634488961&4294967295,F=$+(V<<14&4294967295|V>>>18),V=k+($^b&(F^$))+L[4]+3889429448&4294967295,k=F+(V<<20&4294967295|V>>>12),V=b+(F^$&(k^F))+L[9]+568446438&4294967295,b=k+(V<<5&4294967295|V>>>27),V=$+(k^F&(b^k))+L[14]+3275163606&4294967295,$=b+(V<<9&4294967295|V>>>23),V=F+(b^k&($^b))+L[3]+4107603335&4294967295,F=$+(V<<14&4294967295|V>>>18),V=k+($^b&(F^$))+L[8]+1163531501&4294967295,k=F+(V<<20&4294967295|V>>>12),V=b+(F^$&(k^F))+L[13]+2850285829&4294967295,b=k+(V<<5&4294967295|V>>>27),V=$+(k^F&(b^k))+L[2]+4243563512&4294967295,$=b+(V<<9&4294967295|V>>>23),V=F+(b^k&($^b))+L[7]+1735328473&4294967295,F=$+(V<<14&4294967295|V>>>18),V=k+($^b&(F^$))+L[12]+2368359562&4294967295,k=F+(V<<20&4294967295|V>>>12),V=b+(k^F^$)+L[5]+4294588738&4294967295,b=k+(V<<4&4294967295|V>>>28),V=$+(b^k^F)+L[8]+2272392833&4294967295,$=b+(V<<11&4294967295|V>>>21),V=F+($^b^k)+L[11]+1839030562&4294967295,F=$+(V<<16&4294967295|V>>>16),V=k+(F^$^b)+L[14]+4259657740&4294967295,k=F+(V<<23&4294967295|V>>>9),V=b+(k^F^$)+L[1]+2763975236&4294967295,b=k+(V<<4&4294967295|V>>>28),V=$+(b^k^F)+L[4]+1272893353&4294967295,$=b+(V<<11&4294967295|V>>>21),V=F+($^b^k)+L[7]+4139469664&4294967295,F=$+(V<<16&4294967295|V>>>16),V=k+(F^$^b)+L[10]+3200236656&4294967295,k=F+(V<<23&4294967295|V>>>9),V=b+(k^F^$)+L[13]+681279174&4294967295,b=k+(V<<4&4294967295|V>>>28),V=$+(b^k^F)+L[0]+3936430074&4294967295,$=b+(V<<11&4294967295|V>>>21),V=F+($^b^k)+L[3]+3572445317&4294967295,F=$+(V<<16&4294967295|V>>>16),V=k+(F^$^b)+L[6]+76029189&4294967295,k=F+(V<<23&4294967295|V>>>9),V=b+(k^F^$)+L[9]+3654602809&4294967295,b=k+(V<<4&4294967295|V>>>28),V=$+(b^k^F)+L[12]+3873151461&4294967295,$=b+(V<<11&4294967295|V>>>21),V=F+($^b^k)+L[15]+530742520&4294967295,F=$+(V<<16&4294967295|V>>>16),V=k+(F^$^b)+L[2]+3299628645&4294967295,k=F+(V<<23&4294967295|V>>>9),V=b+(F^(k|~$))+L[0]+4096336452&4294967295,b=k+(V<<6&4294967295|V>>>26),V=$+(k^(b|~F))+L[7]+1126891415&4294967295,$=b+(V<<10&4294967295|V>>>22),V=F+(b^($|~k))+L[14]+2878612391&4294967295,F=$+(V<<15&4294967295|V>>>17),V=k+($^(F|~b))+L[5]+4237533241&4294967295,k=F+(V<<21&4294967295|V>>>11),V=b+(F^(k|~$))+L[12]+1700485571&4294967295,b=k+(V<<6&4294967295|V>>>26),V=$+(k^(b|~F))+L[3]+2399980690&4294967295,$=b+(V<<10&4294967295|V>>>22),V=F+(b^($|~k))+L[10]+4293915773&4294967295,F=$+(V<<15&4294967295|V>>>17),V=k+($^(F|~b))+L[1]+2240044497&4294967295,k=F+(V<<21&4294967295|V>>>11),V=b+(F^(k|~$))+L[8]+1873313359&4294967295,b=k+(V<<6&4294967295|V>>>26),V=$+(k^(b|~F))+L[15]+4264355552&4294967295,$=b+(V<<10&4294967295|V>>>22),V=F+(b^($|~k))+L[6]+2734768916&4294967295,F=$+(V<<15&4294967295|V>>>17),V=k+($^(F|~b))+L[13]+1309151649&4294967295,k=F+(V<<21&4294967295|V>>>11),V=b+(F^(k|~$))+L[4]+4149444226&4294967295,b=k+(V<<6&4294967295|V>>>26),V=$+(k^(b|~F))+L[11]+3174756917&4294967295,$=b+(V<<10&4294967295|V>>>22),V=F+(b^($|~k))+L[2]+718787259&4294967295,F=$+(V<<15&4294967295|V>>>17),V=k+($^(F|~b))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var k=b-this.blockSize,L=this.B,F=this.h,$=0;$<b;){if(F==0)for(;$<=k;)i(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<b;)if(L[F++]=D.charCodeAt($++),F==this.blockSize){i(this,L),F=0;break}}else for(;$<b;)if(L[F++]=D[$++],F==this.blockSize){i(this,L),F=0;break}}this.h=F,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var k=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=k&255,k/=256;for(this.u(D),D=Array(16),b=k=0;4>b;++b)for(var L=0;32>L;L+=8)D[k++]=this.g[b]>>>L&255;return D};function a(D,b){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=b(D)}function l(D,b){this.h=b;for(var k=[],L=!0,F=D.length-1;0<=F;F--){var $=D[F]|0;L&&$==b||(k[F]=$,L=!1)}this.g=k}var c={};function d(D){return-128<=D&&128>D?a(D,function(b){return new l([b|0],0>b?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return P(f(-D));for(var b=[],k=1,L=0;D>=k;L++)b[L]=D/k|0,k*=4294967296;return new l(b,0)}function m(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return P(m(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(b,8)),L=y,F=0;F<D.length;F+=8){var $=Math.min(8,D.length-F),V=parseInt(D.substring(F,F+$),b);8>$?($=f(Math.pow(b,$)),L=L.j($).add(f(V))):(L=L.j(k),L=L.add(f(V)))}return L}var y=d(0),v=d(1),S=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-P(this).m();for(var D=0,b=1,k=0;k<this.g.length;k++){var L=this.i(k);D+=(0<=L?L:4294967296+L)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(R(this))return"-"+P(this).toString(D);for(var b=f(Math.pow(D,6)),k=this,L="";;){var F=M(k,b).g;k=j(k,F.j(b));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=F,I(k))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=j(this,D),R(D)?-1:I(D)?0:1};function P(D){for(var b=D.g.length,k=[],L=0;L<b;L++)k[L]=~D.g[L];return new l(k,~D.h).add(v)}n.abs=function(){return R(this)?P(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),k=[],L=0,F=0;F<=b;F++){var $=L+(this.i(F)&65535)+(D.i(F)&65535),V=($>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);L=V>>>16,$&=65535,V&=65535,k[F]=V<<16|$}return new l(k,k[k.length-1]&-2147483648?-1:0)};function j(D,b){return D.add(P(b))}n.j=function(D){if(I(this)||I(D))return y;if(R(this))return R(D)?P(this).j(P(D)):P(P(this).j(D));if(R(D))return P(this.j(P(D)));if(0>this.l(S)&&0>D.l(S))return f(this.m()*D.m());for(var b=this.g.length+D.g.length,k=[],L=0;L<2*b;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<D.g.length;F++){var $=this.i(L)>>>16,V=this.i(L)&65535,ge=D.i(F)>>>16,ke=D.i(F)&65535;k[2*L+2*F]+=V*ke,x(k,2*L+2*F),k[2*L+2*F+1]+=$*ke,x(k,2*L+2*F+1),k[2*L+2*F+1]+=V*ge,x(k,2*L+2*F+1),k[2*L+2*F+2]+=$*ge,x(k,2*L+2*F+2)}for(L=0;L<b;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=b;L<2*b;L++)k[L]=0;return new l(k,0)};function x(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function O(D,b){this.g=D,this.h=b}function M(D,b){if(I(b))throw Error("division by zero");if(I(D))return new O(y,y);if(R(D))return b=M(P(D),b),new O(P(b.g),P(b.h));if(R(b))return b=M(D,P(b)),new O(P(b.g),b.h);if(30<D.g.length){if(R(D)||R(b))throw Error("slowDivide_ only works with positive integers.");for(var k=v,L=b;0>=L.l(D);)k=B(k),L=B(L);var F=Q(k,1),$=Q(L,1);for(L=Q(L,2),k=Q(k,2);!I(L);){var V=$.add(L);0>=V.l(D)&&(F=F.add(k),$=V),L=Q(L,1),k=Q(k,1)}return b=j(D,F.j(b)),new O(F,b)}for(F=y;0<=D.l(b);){for(k=Math.max(1,Math.floor(D.m()/b.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=f(k),V=$.j(b);R(V)||0<V.l(D);)k-=L,$=f(k),V=$.j(b);I($)&&($=v),F=F.add($),D=j(D,V)}return new O(F,D)}n.A=function(D){return M(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),k=[],L=0;L<b;L++)k[L]=this.i(L)&D.i(L);return new l(k,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),k=[],L=0;L<b;L++)k[L]=this.i(L)|D.i(L);return new l(k,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),k=[],L=0;L<b;L++)k[L]=this.i(L)^D.i(L);return new l(k,this.h^D.h)};function B(D){for(var b=D.g.length+1,k=[],L=0;L<b;L++)k[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(k,D.h)}function Q(D,b){var k=b>>5;b%=32;for(var L=D.g.length-k,F=[],$=0;$<L;$++)F[$]=0<b?D.i($+k)>>>b|D.i($+k+1)<<32-b:D.i($+k);return new l(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,n1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Ts=l}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r1,Wl,i1,Cd,Sm,s1,o1,a1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,T){return h==Array.prototype||h==Object.prototype||(h[_]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(h,_){if(_)e:{var T=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var K=h[N];if(!(K in T))break e;T=T[K]}h=h[h.length-1],N=T[h],_=_(N),_!=N&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}function a(h,_){h instanceof String&&(h+="");var T=0,N=!1,K={next:function(){if(!N&&T<h.length){var Z=T++;return{value:_(Z,h[Z]),done:!1}}return N=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(h){return h||function(){return a(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function y(h,_,T){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,N),h.apply(_,K)}}return function(){return h.apply(_,arguments)}}function v(h,_,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,v.apply(null,arguments)}function S(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function I(h,_){function T(){}T.prototype=_.prototype,h.aa=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(N,K,Z){for(var me=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)me[pt-2]=arguments[pt];return _.prototype[K].apply(N,me)}}function R(h){const _=h.length;if(0<_){const T=Array(_);for(let N=0;N<_;N++)T[N]=h[N];return T}return[]}function P(h,_){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(d(N)){const K=h.length||0,Z=N.length||0;h.length=K+Z;for(let me=0;me<Z;me++)h[K+me]=N[me]}else h.push(N)}}class j{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function x(h){return/^[\s\xa0]*$/.test(h)}function O(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function M(h){return M[" "](h),h}M[" "]=function(){};var B=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function Q(h,_,T){for(const N in h)_.call(T,h[N],N,h)}function D(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function b(h){const _={};for(const T in h)_[T]=h[T];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let T,N;for(let K=1;K<arguments.length;K++){N=arguments[K];for(T in N)h[T]=N[T];for(let Z=0;Z<k.length;Z++)T=k[Z],Object.prototype.hasOwnProperty.call(N,T)&&(h[T]=N[T])}}function F(h){var _=1;h=h.split(":");const T=[];for(;0<_&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function $(h){c.setTimeout(()=>{throw h},0)}function V(){var h=fe;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ge{constructor(){this.h=this.g=null}add(_,T){const N=ke.get();N.set(_,T),this.h?this.h.next=N:this.g=N,this.h=N}}var ke=new j(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,te=!1,fe=new ge,re=()=>{const h=c.Promise.resolve(void 0);Ie=()=>{h.then(z)}};var z=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(T){$(T)}var _=ke;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}te=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h}();function Ne(h,_){if(pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(B){e:{try{M(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement);this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:$e[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}I(Ne,pe);var $e={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function ot(h,_,T,N,K){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!N,this.ha=K,this.key=++Ke,this.da=this.fa=!1}function mt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function gt(h){this.src=h,this.g={},this.h=0}gt.prototype.add=function(h,_,T,N,K){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var me=Pt(h,_,N,K);return-1<me?(_=h[me],T||(_.fa=!1)):(_=new ot(_,this.src,Z,!!N,K),_.fa=T,h.push(_)),_};function Ht(h,_){var T=_.type;if(T in h.g){var N=h.g[T],K=Array.prototype.indexOf.call(N,_,void 0),Z;(Z=0<=K)&&Array.prototype.splice.call(N,K,1),Z&&(mt(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Pt(h,_,T,N){for(var K=0;K<h.length;++K){var Z=h[K];if(!Z.da&&Z.listener==_&&Z.capture==!!T&&Z.ha==N)return K}return-1}var ai="closure_lm_"+(1e6*Math.random()|0),li={};function Li(h,_,T,N,K){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)Li(h,_[Z],T,N,K);return null}return T=ae(T),h&&h[Xe]?h.K(_,T,f(N)?!!N.capture:!1,K):js(h,_,T,!1,N,K)}function js(h,_,T,N,K,Z){if(!_)throw Error("Invalid event type");var me=f(K)?!!K.capture:!!K,pt=Ur(h);if(pt||(h[ai]=pt=new gt(h)),T=pt.add(_,T,N,me,Z),T.proxy)return T;if(N=ui(),T.proxy=N,N.src=h,N.listener=T,h.addEventListener)Pe||(K=me),K===void 0&&(K=!1),h.addEventListener(_.toString(),N,K);else if(h.attachEvent)h.attachEvent(Un(_.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ui(){function h(T){return _.call(h.src,h.listener,T)}const _=Fr;return h}function ji(h,_,T,N,K){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)ji(h,_[Z],T,N,K);else N=f(N)?!!N.capture:!!N,T=ae(T),h&&h[Xe]?(h=h.i,_=String(_).toString(),_ in h.g&&(Z=h.g[_],T=Pt(Z,T,N,K),-1<T&&(mt(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete h.g[_],h.h--)))):h&&(h=Ur(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Pt(_,T,N,K)),(T=-1<h?_[h]:null)&&Jn(T))}function Jn(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Xe])Ht(_.i,h);else{var T=h.type,N=h.proxy;_.removeEventListener?_.removeEventListener(T,N,h.capture):_.detachEvent?_.detachEvent(Un(T),N):_.addListener&&_.removeListener&&_.removeListener(N),(T=Ur(_))?(Ht(T,h),T.h==0&&(T.src=null,_[ai]=null)):mt(h)}}}function Un(h){return h in li?li[h]:li[h]="on"+h}function Fr(h,_){if(h.da)h=!0;else{_=new Ne(_,this);var T=h.listener,N=h.ha||h.src;h.fa&&Jn(h),h=T.call(N,_)}return h}function Ur(h){return h=h[ai],h instanceof gt?h:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(h){return typeof h=="function"?h:(h[Mi]||(h[Mi]=function(_){return h.handleEvent(_)}),h[Mi])}function q(){J.call(this),this.i=new gt(this),this.M=this,this.F=null}I(q,J),q.prototype[Xe]=!0,q.prototype.removeEventListener=function(h,_,T,N){ji(this,h,_,T,N)};function se(h,_){var T,N=h.F;if(N)for(T=[];N;N=N.F)T.push(N);if(h=h.M,N=_.type||_,typeof _=="string")_=new pe(_,h);else if(_ instanceof pe)_.target=_.target||h;else{var K=_;_=new pe(N,h),L(_,K)}if(K=!0,T)for(var Z=T.length-1;0<=Z;Z--){var me=_.g=T[Z];K=ce(me,N,!0,_)&&K}if(me=_.g=h,K=ce(me,N,!0,_)&&K,K=ce(me,N,!1,_)&&K,T)for(Z=0;Z<T.length;Z++)me=_.g=T[Z],K=ce(me,N,!1,_)&&K}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var T=h.g[_],N=0;N<T.length;N++)mt(T[N]);delete h.g[_],h.h--}}this.F=null},q.prototype.K=function(h,_,T,N){return this.i.add(String(h),_,!1,T,N)},q.prototype.L=function(h,_,T,N){return this.i.add(String(h),_,!0,T,N)};function ce(h,_,T,N){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,Z=0;Z<_.length;++Z){var me=_[Z];if(me&&!me.da&&me.capture==T){var pt=me.listener,Wt=me.ha||me.src;me.fa&&Ht(h.i,me),K=pt.call(Wt,N)!==!1&&K}}return K&&!N.defaultPrevented}function ze(h,_,T){if(typeof h=="function")T&&(h=v(h,T));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(h,_||0)}function Ue(h){h.g=ze(()=>{h.g=null,h.i&&(h.i=!1,Ue(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Ye extends J{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(h){J.call(this),this.h=h,this.g={}}I(ee,J);var ne=[];function xe(h){Q(h.g,function(_,T){this.g.hasOwnProperty(T)&&Jn(_)},h),h.g={}}ee.prototype.N=function(){ee.aa.N.call(this),xe(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ee=c.JSON.stringify,_e=c.JSON.parse,qe=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ut(){}ut.prototype.h=null;function dt(h){return h.h||(h.h=h.i())}function at(){}var ht={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ct(){pe.call(this,"d")}I(ct,pe);function At(){pe.call(this,"c")}I(At,pe);var nn={},Bn=null;function Zn(){return Bn=Bn||new q}nn.La="serverreachability";function Fi(h){pe.call(this,nn.La,h)}I(Fi,pe);function er(h){const _=Zn();se(_,new Fi(_))}nn.STAT_EVENT="statevent";function tl(h,_){pe.call(this,nn.STAT_EVENT,h),this.stat=_}I(tl,pe);function Lt(h){const _=Zn();se(_,new tl(_,h))}nn.Ma="timingevent";function Ao(h,_){pe.call(this,nn.Ma,h),this.size=_}I(Ao,pe);function pr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function Fs(h,_,T,N,K,Z){h.info(function(){if(h.g)if(Z)for(var me="",pt=Z.split("&"),Wt=0;Wt<pt.length;Wt++){var nt=pt[Wt].split("=");if(1<nt.length){var Xt=nt[0];nt=nt[1];var Ft=Xt.split("_");me=2<=Ft.length&&Ft[1]=="type"?me+(Xt+"="+nt+"&"):me+(Xt+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+N+") [attempt "+K+"]: "+_+`
`+T+`
`+me})}function Ro(h,_,T,N,K,Z,me){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+K+"]: "+_+`
`+T+`
`+Z+" "+me})}function mr(h,_,T,N){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+hf(h,T)+(N?" "+N:"")})}function nl(h,_){h.info(function(){return"TIMEOUT: "+_})}Ms.prototype.info=function(){};function hf(h,_){if(!h.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var N=T[h];if(!(2>N.length)){var K=N[1];if(Array.isArray(K)&&!(1>K.length)){var Z=K[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<K.length;me++)K[me]=""}}}}return Ee(T)}catch{return _}}var ko={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function Us(){}I(Us,ut),Us.prototype.g=function(){return new XMLHttpRequest},Us.prototype.i=function(){return{}},gr=new Us;function yr(h,_,T,N){this.j=h,this.i=_,this.l=T,this.R=N||1,this.U=new ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xu}function Xu(){this.i=null,this.g="",this.h=!1}var rl={},No={};function Oo(h,_,T){h.L=1,h.v=Hi(zn(_)),h.m=T,h.P=!0,il(h,null)}function il(h,_){h.F=Date.now(),_t(h),h.A=zn(h.v);var T=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),qi(T.i,"t",N),h.C=0,T=h.j.J,h.h=new Xu,h.g=mc(h.j,T?_:null,!h.m),0<h.O&&(h.M=new Ye(v(h.Y,h,h.g),h.O)),_=h.U,T=h.g,N=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(ne[0]=K.toString()),K=ne);for(var Z=0;Z<K.length;Z++){var me=Li(T,K[Z],N||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),er(),Fs(h.i,h.u,h.A,h.l,h.R,h.m)}yr.prototype.ca=function(h){h=h.target;const _=this.M;_&&kn(h)==3?_.j():this.Y(h)},yr.prototype.Y=function(h){try{if(h==this.g)e:{const Ft=kn(this.g);var _=this.g.Ba();const rr=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||cl(this.g)))){this.J||Ft!=4||_==7||(_==8||0>=rr?er(3):er(2)),Bs(this);var T=this.g.Z();this.X=T;t:if(Ju(this)){var N=cl(this.g);h="";var K=N.length,Z=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),Ui(this);var me="";break t}this.h.i=new c.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,h+=this.h.i.decode(N[_],{stream:!(Z&&_==K-1)});N.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=T==200,Ro(this.i,this.u,this.A,this.l,this.R,Ft,T),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Wt=this.g;if((pt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(pt)){var nt=pt;break t}}nt=null}if(T=nt)mr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sl(this,T);else{this.o=!1,this.s=3,Lt(12),tr(this),Ui(this);break e}}if(this.P){T=!0;let Wn;for(;!this.J&&this.C<me.length;)if(Wn=ff(this,me),Wn==No){Ft==4&&(this.s=4,Lt(14),T=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==rl){this.s=4,Lt(15),mr(this.i,this.l,me,"[Invalid Chunk]"),T=!1;break}else mr(this.i,this.l,Wn,null),sl(this,Wn);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||me.length!=0||this.h.h||(this.s=1,Lt(16),T=!1),this.o=this.o&&T,!T)mr(this.i,this.l,me,"[Invalid Chunked Response]"),tr(this),Ui(this);else if(0<me.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),hl(Xt),Xt.M=!0,Lt(11))}}else mr(this.i,this.l,me,null),sl(this,me);Ft==4&&tr(this),this.o&&!this.J&&(Ft==4?Ho(this.j,this):(this.o=!1,_t(this)))}else Fo(this.g),T==400&&0<me.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),tr(this),Ui(this)}}}catch{}finally{}};function Ju(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ff(h,_){var T=h.C,N=_.indexOf(`
`,T);return N==-1?No:(T=Number(_.substring(T,N)),isNaN(T)?rl:(N+=1,N+T>_.length?No:(_=_.slice(N,N+T),h.C=N+T,_)))}yr.prototype.cancel=function(){this.J=!0,tr(this)};function _t(h){h.S=Date.now()+h.I,Zu(h,h.I)}function Zu(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=pr(v(h.ba,h),_)}function Bs(h){h.B&&(c.clearTimeout(h.B),h.B=null)}yr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(nl(this.i,this.A),this.L!=2&&(er(),Lt(17)),tr(this),this.s=2,Ui(this)):Zu(this,this.S-h)};function Ui(h){h.j.G==0||h.J||Ho(h.j,h)}function tr(h){Bs(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,xe(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function sl(h,_){try{var T=h.j;if(T.G!=0&&(T.g==h||En(T.h,h))){if(!h.K&&En(T.h,h)&&T.G==3){try{var N=T.Da.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var K=N;if(K[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)zo(T),Tr(T);else break e;$o(T),Lt(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=pr(v(T.Za,T),6e3));if(1>=tc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else pi(T,11)}else if((h.K||T.g==h)&&zo(T),!x(_))for(K=T.Da.g.parse(_),_=0;_<K.length;_++){let nt=K[_];if(T.T=nt[0],nt=nt[1],T.G==2)if(nt[0]=="c"){T.K=nt[1],T.ia=nt[2];const Xt=nt[3];Xt!=null&&(T.la=Xt,T.j.info("VER="+T.la));const Ft=nt[4];Ft!=null&&(T.Aa=Ft,T.j.info("SVER="+T.Aa));const rr=nt[5];rr!=null&&typeof rr=="number"&&0<rr&&(N=1.5*rr,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Wn=h.g;if(Wn){const Gs=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var Z=N.h;Z.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ol(Z,Z.h),Z.h=null))}if(N.D){const qo=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(N.ya=qo,yt(N.I,N.D,qo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var me=h;if(N.qa=pc(N,N.J?N.ia:null,N.W),me.K){nc(N.h,me);var pt=me,Wt=N.L;Wt&&(pt.I=Wt),pt.B&&(Bs(pt),_t(pt)),N.g=me}else Ks(N);0<T.i.length&&Hr(T)}else nt[0]!="stop"&&nt[0]!="close"||pi(T,7);else T.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?pi(T,7):sn(T):nt[0]!="noop"&&T.l&&T.l.ta(nt),T.v=0)}}er(4)}catch{}}var ec=class{constructor(h,_){this.g=h,this.map=_}};function $s(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $n(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function tc(h){return h.h?1:h.g?h.g.size:0}function En(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ol(h,_){h.g?h.g.add(_):h.h=_}function nc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}$s.prototype.cancel=function(){if(this.i=rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.D);return _}return R(h.i)}function Do(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var _=[],T=h.length,N=0;N<T;N++)_.push(h[N]);return _}_=[],T=0;for(N in h)_[T++]=h[N];return _}function Vo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var _=[];h=h.length;for(var T=0;T<h;T++)_.push(T);return _}_=[],T=0;for(const N in h)_[T++]=N;return _}}}function Bi(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var T=Vo(h),N=Do(h),K=N.length,Z=0;Z<K;Z++)_.call(void 0,N[Z],T&&T[Z],h)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(h,_){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var N=h[T].indexOf("="),K=null;if(0<=N){var Z=h[T].substring(0,N);K=h[T].substring(N+1)}else Z=h[T];_(Z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ci(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ci){this.h=h.h,Hs(this,h.j),this.o=h.o,this.g=h.g,$i(this,h.s),this.l=h.l;var _=h.i,T=new Br;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),zi(this,T),this.m=h.m}else h&&(_=String(h).match(zs))?(this.h=!1,Hs(this,_[1]||"",!0),this.o=et(_[2]||""),this.g=et(_[3]||"",!0),$i(this,_[4]),this.l=et(_[5]||"",!0),zi(this,_[6]||"",!0),this.m=et(_[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}ci.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Wi(_,Lo,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Wi(_,Lo,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Wi(T,T.charAt(0)=="/"?oc:sc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Wi(T,al)),h.join("")};function zn(h){return new ci(h)}function Hs(h,_,T){h.j=T?et(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function $i(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function zi(h,_,T){_ instanceof Br?(h.i=_,$r(h.i,h.h)):(T||(_=Wi(_,ac)),h.i=new Br(_,h.h))}function yt(h,_,T){h.i.set(_,T)}function Hi(h){return yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function et(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wi(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,ic),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ic(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Lo=/[#\/\?@]/g,sc=/[#\?:]/g,oc=/[#\?]/g,ac=/[#\?@]/g,al=/#/g;function Br(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function rn(h){h.g||(h.g=new Map,h.h=0,h.i&&pf(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Br.prototype,n.add=function(h,_){rn(this),this.i=null,h=nr(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function vr(h,_){rn(h),_=nr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function _r(h,_){return rn(h),_=nr(h,_),h.g.has(_)}n.forEach=function(h,_){rn(this),this.g.forEach(function(T,N){T.forEach(function(K){h.call(_,K,N,this)},this)},this)},n.na=function(){rn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let N=0;N<_.length;N++){const K=h[N];for(let Z=0;Z<K.length;Z++)T.push(_[N])}return T},n.V=function(h){rn(this);let _=[];if(typeof h=="string")_r(this,h)&&(_=_.concat(this.g.get(nr(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)_=_.concat(h[T])}return _},n.set=function(h,_){return rn(this),this.i=null,h=nr(this,h),_r(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function qi(h,_,T){vr(h,_),0<T.length&&(h.i=null,h.g.set(nr(h,_),R(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var N=_[T];const Z=encodeURIComponent(String(N)),me=this.V(N);for(N=0;N<me.length;N++){var K=Z;me[N]!==""&&(K+="="+encodeURIComponent(String(me[N]))),h.push(K)}}return this.i=h.join("&")};function nr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function $r(h,_){_&&!h.j&&(rn(h),h.i=null,h.g.forEach(function(T,N){var K=N.toLowerCase();N!=K&&(vr(this,N),qi(this,K,T))},h)),h.j=_}function mf(h,_){const T=new Ms;if(c.Image){const N=new Image;N.onload=S(Rn,T,"TestLoadImage: loaded",!0,_,N),N.onerror=S(Rn,T,"TestLoadImage: error",!1,_,N),N.onabort=S(Rn,T,"TestLoadImage: abort",!1,_,N),N.ontimeout=S(Rn,T,"TestLoadImage: timeout",!1,_,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else _(!1)}function lc(h,_){const T=new Ms,N=new AbortController,K=setTimeout(()=>{N.abort(),Rn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:N.signal}).then(Z=>{clearTimeout(K),Z.ok?Rn(T,"TestPingServer: ok",!0,_):Rn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Rn(T,"TestPingServer: error",!1,_)})}function Rn(h,_,T,N,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),N(T)}catch{}}function gf(){this.g=new qe}function uc(h,_,T){const N=T||"";try{Bi(h,function(K,Z){let me=K;f(K)&&(me=Ee(K)),_.push(N+Z+"="+encodeURIComponent(me))})}catch(K){throw _.push(N+"type="+encodeURIComponent("_badmap")),K}}function di(h){this.l=h.Ub||null,this.j=h.eb||!1}I(di,ut),di.prototype.g=function(){return new Ws(this.l,this.j)},di.prototype.i=function(h){return function(){return h}}({});function Ws(h,_){q.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ws,q),n=Ws.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Er(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?wr(this):Er(this),this.readyState==3&&cc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,wr(this))},n.Qa=function(h){this.g&&(this.response=h,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Er(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hi(h){let _="";return Q(h,function(T,N){_+=N,_+=":",_+=T,_+=`\r
`}),_}function Ki(h,_,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=hi(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):yt(h,_,T))}function xt(h){q.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(xt,q);var yf=/^https?$/i,ll=["POST","PUT"];n=xt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?dt(this.o):dt(gr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Z){qs(this,Z);return}if(h=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var K in N)T.set(K,N[K]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())T.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ll,_,void 0))||N||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of T)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){qs(this,Z)}};function qs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,jo(h),Hn(h)}function jo(h){h.A||(h.A=!0,se(h,"complete"),se(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,se(this,"complete"),se(this,"abort"),Hn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ul(this):this.bb())},n.bb=function(){ul(this)};function ul(h){if(h.h&&typeof l<"u"&&(!h.v[1]||kn(h)!=4||h.Z()!=2)){if(h.u&&kn(h)==4)ze(h.Ea,0,h);else if(se(h,"readystatechange"),kn(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var N;if(N=me===0){var K=String(h.D).match(zs)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),N=!yf.test(K?K.toLowerCase():"")}T=N}if(T)se(h,"complete"),se(h,"success");else{h.m=6;try{var Z=2<kn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",jo(h)}}finally{Hn(h)}}}}function Hn(h,_){if(h.g){Mo(h);const T=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||se(h,"ready");try{T.onreadystatechange=N}catch{}}}function Mo(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function kn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),_e(_)}};function cl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(h){const _={};h=(h.g&&2<=kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(x(h[N]))continue;var T=F(h[N]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=_[K]||[];_[K]=Z,Z.push(T)}D(_,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function dl(h){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,h),this.cb=zr("retryDelaySeedMs",1e4,h),this.Wa=zr("forwardChannelMaxRetries",2,h),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new $s(h&&h.concurrentRequestLimit),this.Da=new gf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dl.prototype,n.la=8,n.G=1,n.connect=function(h,_,T,N){Lt(0),this.W=h,this.H=_||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=pc(this,null,this.W),Hr(this)};function sn(h){if(Uo(h),h.G==3){var _=h.U++,T=zn(h.I);if(yt(T,"SID",h.K),yt(T,"RID",_),yt(T,"TYPE","terminate"),fi(h,T),_=new yr(h,h.j,_),_.L=2,_.v=Hi(zn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.v,T=!0),T||(_.g=mc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),_t(_)}fc(h)}function Tr(h){h.g&&(hl(h),h.g.cancel(),h.g=null)}function Uo(h){Tr(h),h.u&&(c.clearTimeout(h.u),h.u=null),zo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Hr(h){if(!$n(h.h)&&!h.s){h.s=!0;var _=h.Ga;Ie||re(),te||(Ie(),te=!0),fe.add(_,h),h.B=0}}function vf(h,_){return tc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=pr(v(h.Ga,h,_),hc(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new yr(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=b(Z),L(Z,this.S)):Z=this.S),this.m!==null||this.O||(K.H=Z,Z=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Gi(this,K,_),T=zn(this.I),yt(T,"RID",h),yt(T,"CVER",22),this.D&&yt(T,"X-HTTP-Session-Id",this.D),fi(this,T),Z&&(this.O?_="headers="+encodeURIComponent(String(hi(Z)))+"&"+_:this.m&&Ki(T,this.m,Z)),ol(this.h,K),this.Ua&&yt(T,"TYPE","init"),this.P?(yt(T,"$req",_),yt(T,"SID","null"),K.T=!0,Oo(K,T,null)):Oo(K,T,_),this.G=2}}else this.G==3&&(h?Bo(this,h):this.i.length==0||$n(this.h)||Bo(this))};function Bo(h,_){var T;_?T=_.l:T=h.U++;const N=zn(h.I);yt(N,"SID",h.K),yt(N,"RID",T),yt(N,"AID",h.T),fi(h,N),h.m&&h.o&&Ki(N,h.m,h.o),T=new yr(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),_&&(h.i=_.D.concat(h.i)),_=Gi(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ol(h.h,T),Oo(T,N,_)}function fi(h,_){h.H&&Q(h.H,function(T,N){yt(_,N,T)}),h.l&&Bi({},function(T,N){yt(_,N,T)})}function Gi(h,_,T){T=Math.min(h.i.length,T);var N=h.l?v(h.l.Na,h.l,h):null;e:{var K=h.i;let Z=-1;for(;;){const me=["count="+T];Z==-1?0<T?(Z=K[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let pt=!0;for(let Wt=0;Wt<T;Wt++){let nt=K[Wt].g;const Xt=K[Wt].map;if(nt-=Z,0>nt)Z=Math.max(0,K[Wt].g-100),pt=!1;else try{uc(Xt,me,"req"+nt+"_")}catch{N&&N(Xt)}}if(pt){N=me.join("&");break e}}}return h=h.i.splice(0,T),_.D=h,N}function Ks(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;Ie||re(),te||(Ie(),te=!0),fe.add(_,h),h.v=0}}function $o(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=pr(v(h.Fa,h),hc(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=pr(v(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Tr(this),dc(this))};function hl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function dc(h){h.g=new yr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=zn(h.qa);yt(_,"RID","rpc"),yt(_,"SID",h.K),yt(_,"AID",h.T),yt(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&yt(_,"TO",h.ja),yt(_,"TYPE","xmlhttp"),fi(h,_),h.m&&h.o&&Ki(_,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Hi(zn(_)),T.m=null,T.P=!0,il(T,h)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),$o(this),Lt(19))};function zo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ho(h,_){var T=null;if(h.g==_){zo(h),hl(h),h.g=null;var N=2}else if(En(h.h,_))T=_.D,nc(h.h,_),N=1;else return;if(h.G!=0){if(_.o)if(N==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var K=h.B;N=Zn(),se(N,new Ao(N,T)),Hr(h)}else Ks(h);else if(K=_.s,K==3||K==0&&0<_.X||!(N==1&&vf(h,_)||N==2&&$o(h)))switch(T&&0<T.length&&(_=h.h,_.i=_.i.concat(T)),K){case 1:pi(h,5);break;case 4:pi(h,10);break;case 3:pi(h,6);break;default:pi(h,2)}}}function hc(h,_){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*_}function pi(h,_){if(h.j.info("Error code "+_),_==2){var T=v(h.fb,h),N=h.Xa;const K=!N;N=new ci(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Hs(N,"https"),Hi(N),K?mf(N.toString(),T):lc(N.toString(),T)}else Lt(2);h.G=0,h.l&&h.l.sa(_),fc(h),Uo(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function fc(h){if(h.G=0,h.ka=[],h.l){const _=rc(h.h);(_.length!=0||h.i.length!=0)&&(P(h.ka,_),P(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function pc(h,_,T){var N=T instanceof ci?zn(T):new ci(T);if(N.g!="")_&&(N.g=_+"."+N.g),$i(N,N.s);else{var K=c.location;N=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var Z=new ci(null);N&&Hs(Z,N),_&&(Z.g=_),K&&$i(Z,K),T&&(Z.l=T),N=Z}return T=h.D,_=h.ya,T&&_&&yt(N,T,_),yt(N,"VER",h.la),fi(h,N),N}function mc(h,_,T){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new xt(new di({eb:T})):new xt(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fl(){}n=fl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wo(){}Wo.prototype.g=function(h,_){return new Tn(h,_)};function Tn(h,_){q.call(this),this.g=new dl(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!x(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Wr(this)}I(Tn,q),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){sn(this.g)},Tn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Ee(h),h=T);_.i.push(new ec(_.Ya++,h)),_.G==3&&Hr(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,Tn.aa.N.call(this)};function gc(h){ct.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}I(gc,ct);function yc(){At.call(this),this.status=1}I(yc,At);function Wr(h){this.g=h}I(Wr,fl),Wr.prototype.ua=function(){se(this.g,"a")},Wr.prototype.ta=function(h){se(this.g,new gc(h))},Wr.prototype.sa=function(h){se(this.g,new yc)},Wr.prototype.ra=function(){se(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,a1=function(){return new Wo},o1=function(){return Zn()},s1=nn,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ko.NO_ERROR=0,ko.TIMEOUT=8,ko.HTTP_ERROR=6,Cd=ko,Yu.COMPLETE="complete",i1=Yu,at.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",q.prototype.listen=q.prototype.K,Wl=at,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,r1=xt}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",k_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new xg("@firebase/firestore");function ga(){return _o.logLevel}function Te(n,...e){if(_o.logLevel<=Je.DEBUG){const t=e.map(Pg);_o.debug(`Firestore (${Ka}): ${n}`,...t)}}function Ri(n,...e){if(_o.logLevel<=Je.ERROR){const t=e.map(Pg);_o.error(`Firestore (${Ka}): ${n}`,...t)}}function ka(n,...e){if(_o.logLevel<=Je.WARN){const t=e.map(Pg);_o.warn(`Firestore (${Ka}): ${n}`,...t)}}function Pg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,l1(n,r,t)}function l1(n,e,t){let r=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ri(r),new Error(r)}function ft(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||l1(e,i,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class RR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ft(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new bi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new u1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class NR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new NR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ft(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new N_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=VR(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function Im(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ge(r,i);{const a=c1(),l=LR(a.encode(O_(n,t)),a.encode(O_(e,t)));return l!==0?l:Ge(r,i)}}t+=r>65535?2:1}return Ge(n.length,e.length)}function O_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function LR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ge(n[t],e[t]);return Ge(n.length,e.length)}function Na(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,V_=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*V_);return new zt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<D_)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new zt(0,0))}static max(){return new He(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__name__";class Xr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Xr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Ge(e.length,t.length)}static compareSegments(e,t){const r=Xr.isNumericId(e),i=Xr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):Im(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class It extends Xr{construct(e,t,r){return new It(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new It(t)}static emptyPath(){return new It([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Xr{construct(e,t,r){return new un(e,t,r)}static isValidIdentifier(e){return jR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new un([L_])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(It.fromString(e))}static fromName(e){return new Oe(It.fromString(e).popFirst(5))}static empty(){return new Oe(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function MR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new zt(t+1,0):new zt(t,r));return new xs(i,Oe.empty(),e)}function FR(n){return new xs(n.readTime,n.key,du)}class xs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xs(He.min(),Oe.empty(),du)}static max(){return new xs(He.max(),Oe.empty(),du)}}function UR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==BR)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},d=>r(d))}),l=!0,a===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;t(e[f]).next(m=>{l[f]=m,++c,c===a&&r(l)},m=>i(m))}})}static doWhile(e,t){return new oe((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function zR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function Ah(n){return n==null}function $d(n){return n===0&&1/n==-1/0}function HR(n){return typeof n=="number"&&Number.isInteger(n)&&!$d(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="";function WR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=j_(e)),e=qR(n.get(t),e);return j_(e)}function qR(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case h1:t+="";break;default:t+=a}}return t}function j_(n){return n+h1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Os(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function f1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ln.RED,this.left=i??ln.EMPTY,this.right=a??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ln(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new Qt(un.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new p1("Invalid base64 string: "+a):a}}(e);return new cn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(ft(!!n,39018),typeof n=="string"){let e=0;const t=KR.exec(n);if(ft(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bs(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="server_timestamp",g1="__type__",y1="__previous_value__",v1="__local_write_time__";function Rg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[g1])===null||t===void 0?void 0:t.stringValue)===m1}function Rh(n){const e=n.mapValue.fields[y1];return Rg(e)?Rh(e):e}function hu(n){const e=Cs(n.mapValue.fields[v1].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t,r,i,a,l,c,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const zd="(default)";class fu{constructor(e,t){this.projectId=e,this.database=t||zd}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===zd}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="__type__",QR="__max__",pd={mapValue:{}},w1="__vector__",Hd="value";function Ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rg(n)?4:XR(n)?9007199254740991:YR(n)?10:11:Me(28295,{value:n})}function ii(n,e){if(n===e)return!0;const t=Ps(n);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hu(n).isEqual(hu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Cs(i.timestampValue),c=Cs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return bs(i.bytesValue).isEqual(bs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Mt(i.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Mt(i.integerValue)===Mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Mt(i.doubleValue),c=Mt(a.doubleValue);return l===c?$d(l)===$d(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Na(n.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(M_(l)!==M_(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ii(l[d],c[d])))return!1;return!0}(n,e);default:return Me(52216,{left:n})}}function pu(n,e){return(n.values||[]).find(t=>ii(t,e))!==void 0}function Oa(n,e){if(n===e)return 0;const t=Ps(n),r=Ps(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Mt(a.integerValue||a.doubleValue),d=Mt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return U_(n.timestampValue,e.timestampValue);case 4:return U_(hu(n),hu(e));case 5:return Im(n.stringValue,e.stringValue);case 6:return function(a,l){const c=bs(a),d=bs(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ge(c[f],d[f]);if(m!==0)return m}return Ge(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ge(Mt(a.latitude),Mt(l.latitude));return c!==0?c:Ge(Mt(a.longitude),Mt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return B_(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,f,m;const y=a.fields||{},v=l.fields||{},S=(c=y[Hd])===null||c===void 0?void 0:c.arrayValue,I=(d=v[Hd])===null||d===void 0?void 0:d.arrayValue,R=Ge(((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:B_(S,I)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===pd.mapValue&&l===pd.mapValue)return 0;if(a===pd.mapValue)return 1;if(l===pd.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const v=Im(d[y],m[y]);if(v!==0)return v;const S=Oa(c[d[y]],f[m[y]]);if(S!==0)return S}return Ge(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Me(23264,{Pe:t})}}function U_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Cs(n),r=Cs(e),i=Ge(t.seconds,r.seconds);return i!==0?i:Ge(t.nanos,r.nanos)}function B_(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Oa(t[i],r[i]);if(a)return a}return Ge(t.length,r.length)}function Da(n){return xm(n)}function xm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Cs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return bs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=xm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${xm(t.fields[l])}`;return i+"}"}(n.mapValue):Me(61005,{value:n})}function bd(n){switch(Ps(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(n);return e?16+bd(e):16;case 5:return 2*n.stringValue.length;case 6:return bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+bd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Os(r.fields,(a,l)=>{i+=a.length+bd(l)}),i}(n.mapValue);default:throw Me(13486,{value:n})}}function $_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Cm(n){return!!n&&"integerValue"in n}function kg(n){return!!n&&"arrayValue"in n}function z_(n){return!!n&&"nullValue"in n}function H_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pd(n){return!!n&&"mapValue"in n}function YR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_1])===null||t===void 0?void 0:t.stringValue)===w1}function Yl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Os(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(t)}setAll(e){let t=un.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Yl(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Pd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Os(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Fn(Yl(this.value))}}function E1(n){const e=[];return Os(n.fields,(t,r)=>{const i=new un([t]);if(Pd(r)){const a=E1(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new yn(e,0,He.min(),He.min(),He.min(),Fn.empty(),0)}static newFoundDocument(e,t,r,i){return new yn(e,1,t,He.min(),r,i,0)}static newNoDocument(e,t){return new yn(e,2,t,He.min(),He.min(),Fn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,He.min(),He.min(),Fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.position=e,this.inclusive=t}}function W_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Oe.comparator(Oe.fromName(l.referenceValue),t.key):r=Oa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function q_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ii(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function JR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class $t extends T1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ek(e,t,r):t==="array-contains"?new rk(e,r):t==="in"?new ik(e,r):t==="not-in"?new sk(e,r):t==="array-contains-any"?new ok(e,r):new $t(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new tk(e,r):new nk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oa(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends T1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Vr(e,t)}matches(e){return S1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function S1(n){return n.op==="and"}function I1(n){return ZR(n)&&S1(n)}function ZR(n){for(const e of n.filters)if(e instanceof Vr)return!1;return!0}function bm(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+Da(n.value);if(I1(n))return n.filters.map(e=>bm(e)).join(",");{const e=n.filters.map(t=>bm(t)).join(",");return`${n.op}(${e})`}}function x1(n,e){return n instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.field.isEqual(i.field)&&ii(r.value,i.value)}(n,e):n instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&x1(l,i.filters[c]),!0):!1}(n,e):void Me(19439)}function C1(n){return n instanceof $t?function(t){return`${t.field.canonicalString()} ${t.op} ${Da(t.value)}`}(n):n instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(C1).join(" ,")+"}"}(n):"Filter"}class ek extends $t{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class tk extends $t{constructor(e,t){super(e,"in",t),this.keys=b1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nk extends $t{constructor(e,t){super(e,"not-in",t),this.keys=b1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function b1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class rk extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kg(t)&&pu(t.arrayValue,this.value)}}class ik extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pu(this.value.arrayValue,t)}}class sk extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pu(this.value.arrayValue,t)}}class ok extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function K_(n,e=null,t=[],r=[],i=null,a=null,l=null){return new ak(n,e,t,r,i,a,l)}function Ng(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Da(r)).join(",")),e.Ie=t}return e.Ie}function Og(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!x1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!q_(n.startAt,e.startAt)&&q_(n.endAt,e.endAt)}function Pm(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lk(n,e,t,r,i,a,l,c){return new Ya(n,e,t,r,i,a,l,c)}function kh(n){return new Ya(n)}function G_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function P1(n){return n.collectionGroup!==null}function Xl(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Qt(un.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new mu(a,r))}),t.has(un.keyField().canonicalString())||e.Ee.push(new mu(un.keyField(),r))}return e.Ee}function Zr(n){const e=We(n);return e.de||(e.de=uk(e,Xl(n))),e.de}function uk(n,e){if(n.limitType==="F")return K_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new mu(i.field,a)});const t=n.endAt?new Wd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wd(n.startAt.position,n.startAt.inclusive):null;return K_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Am(n,e){const t=n.filters.concat([e]);return new Ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rm(n,e,t){return new Ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nh(n,e){return Og(Zr(n),Zr(e))&&n.limitType===e.limitType}function A1(n){return`${Ng(Zr(n))}|lt:${n.limitType}`}function ya(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>C1(i)).join(", ")}]`),Ah(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Da(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Da(i)).join(",")),`Target(${r})`}(Zr(n))}; limitType=${n.limitType})`}function Oh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Oe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Xl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const f=W_(l,c,d);return l.inclusive?f<=0:f<0}(r.startAt,Xl(r),i)||r.endAt&&!function(l,c,d){const f=W_(l,c,d);return l.inclusive?f>=0:f>0}(r.endAt,Xl(r),i))}(n,e)}function ck(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R1(n){return(e,t)=>{let r=!1;for(const i of Xl(n)){const a=dk(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function dk(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(a,l,c){const d=l.data.field(a),f=c.data.field(a);return d!==null&&f!==null?Oa(d,f):Me(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Nt(Oe.comparator);function ki(){return hk}const k1=new Nt(Oe.comparator);function ql(...n){let e=k1;for(const t of n)e=e.insert(t.key,t);return e}function N1(n){let e=k1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ho(){return Jl()}function O1(){return Jl()}function Jl(){return new Io(n=>n.toString(),(n,e)=>n.isEqual(e))}const fk=new Nt(Oe.comparator),pk=new Qt(Oe.comparator);function Ze(...n){let e=pk;for(const t of n)e=e.add(t);return e}const mk=new Qt(Ge);function gk(){return mk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function D1(n){return{integerValue:""+n}}function yk(n,e){return HR(e)?D1(e):Dg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function vk(n,e,t){return n instanceof gu?function(i,a){const l={fields:{[g1]:{stringValue:m1},[v1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Rg(a)&&(a=Rh(a)),a&&(l.fields[y1]=a),{mapValue:l}}(t,e):n instanceof yu?L1(n,e):n instanceof vu?j1(n,e):function(i,a){const l=V1(i,a),c=Q_(l)+Q_(i.Re);return Cm(l)&&Cm(i.Re)?D1(c):Dg(i.serializer,c)}(n,e)}function _k(n,e,t){return n instanceof yu?L1(n,e):n instanceof vu?j1(n,e):t}function V1(n,e){return n instanceof qd?function(r){return Cm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class gu extends Dh{}class yu extends Dh{constructor(e){super(),this.elements=e}}function L1(n,e){const t=M1(e);for(const r of n.elements)t.some(i=>ii(i,r))||t.push(r);return{arrayValue:{values:t}}}class vu extends Dh{constructor(e){super(),this.elements=e}}function j1(n,e){let t=M1(e);for(const r of n.elements)t=t.filter(i=>!ii(i,r));return{arrayValue:{values:t}}}class qd extends Dh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Q_(n){return Mt(n.integerValue||n.doubleValue)}function M1(n){return kg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.field=e,this.transform=t}}function Ek(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof yu&&i instanceof yu||r instanceof vu&&i instanceof vu?Na(r.elements,i.elements,ii):r instanceof qd&&i instanceof qd?ii(r.Re,i.Re):r instanceof gu&&i instanceof gu}(n.transform,e.transform)}class Tk{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vh{}function F1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vg(n.key,Or.none()):new Du(n.key,n.data,Or.none());{const t=n.data,r=Fn.empty();let i=new Qt(un.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Ds(n.key,r,new Qn(i.toArray()),Or.none())}}function Sk(n,e,t){n instanceof Du?function(i,a,l){const c=i.value.clone(),d=X_(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ds?function(i,a,l){if(!Ad(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=X_(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(U1(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Zl(n,e,t,r){return n instanceof Du?function(a,l,c,d){if(!Ad(a.precondition,l))return c;const f=a.value.clone(),m=J_(a.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ds?function(a,l,c,d){if(!Ad(a.precondition,l))return c;const f=J_(a.fieldTransforms,d,l),m=l.data;return m.setAll(U1(a)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(a,l,c){return Ad(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function Ik(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=V1(r.transform,i||null);a!=null&&(t===null&&(t=Fn.empty()),t.set(r.field,a))}return t||null}function Y_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Na(r,i,(a,l)=>Ek(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Du extends Vh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ds extends Vh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function U1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function X_(n,e,t){const r=new Map;ft(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,_k(l,c,t[i]))}return r}function J_(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,vk(a,l,e))}return r}class Vg extends Vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xk extends Vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Sk(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=O1();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const d=F1(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(t,r)=>Y_(t,r))&&Na(this.baseMutations,e.baseMutations,(t,r)=>Y_(t,r))}}class Lg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ft(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return fk}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Lg(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,rt;function Ak(n){switch(n){case ie.OK:return Me(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function B1(n){if(n===void 0)return Ri("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Bt.OK:return ie.OK;case Bt.CANCELLED:return ie.CANCELLED;case Bt.UNKNOWN:return ie.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ie.INTERNAL;case Bt.UNAVAILABLE:return ie.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ie.NOT_FOUND;case Bt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Bt.ABORTED:return ie.ABORTED;case Bt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Bt.DATA_LOSS:return ie.DATA_LOSS;default:return Me(39323,{code:n})}}(rt=Bt||(Bt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new Ts([4294967295,4294967295],0);function Z_(n){const e=c1().encode(n),t=new n1;return t.update(e),new Uint8Array(t.digest())}function ew(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ts([t,r],0),new Ts([i,a],0)]}class jg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Kl(`Invalid padding: ${t}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ts.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ts.fromNumber(r)));return i.compare(Rk)===1&&(i=new Ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Z_(e),[r,i]=ew(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new jg(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=Z_(e),[r,i]=ew(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lh(He.min(),i,new Nt(Ge),ki(),Ze())}}class Vu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vu(r,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class $1{constructor(e,t){this.targetId=e,this.Ce=t}}class z1{constructor(e,t,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class tw{constructor(){this.Fe=0,this.Me=nw(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ze(),t=Ze(),r=Ze();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:a})}}),new Vu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=nw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class kk{constructor(e){this.ze=e,this.je=new Map,this.He=ki(),this.Je=md(),this.Ye=md(),this.Ze=new Nt(Ge)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Pm(a))if(r===0){const l=new Oe(a.path);this.tt(t,l,yn.newNoDocument(l,He.min()))}else ft(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),d=c?this.lt(c,e,l):1;if(d!==0){this.st(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=bs(r).toUint8Array()}catch(d){if(d instanceof p1)return ka("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new jg(l,i,a)}catch(d){return ka(d instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&Pm(c.target)){const d=new Oe(c.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,yn.newNoDocument(d,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=Ze();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const f=this._t(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new Lh(e,t,this.Ze,this.He,r);return this.He=ki(),this.Je=md(),this.Ye=md(),this.Ze=new Nt(Ge),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new tw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Qt(Ge),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Qt(Ge),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new tw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function md(){return new Nt(Oe.comparator)}function nw(){return new Nt(Oe.comparator)}const Nk={asc:"ASCENDING",desc:"DESCENDING"},Ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dk={and:"AND",or:"OR"};class Vk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function km(n,e){return n.useProto3Json||Ah(e)?e:{value:e}}function Kd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lk(n,e){return Kd(n,e.toTimestamp())}function ei(n){return ft(!!n,49232),He.fromTimestamp(function(t){const r=Cs(t);return new zt(r.seconds,r.nanos)}(n))}function Mg(n,e){return Nm(n,e).canonicalString()}function Nm(n,e){const t=function(i){return new It(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function W1(n){const e=It.fromString(n);return ft(Y1(e),10190,{key:e.toString()}),e}function Om(n,e){return Mg(n.databaseId,e.path)}function Yp(n,e){const t=W1(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(K1(t))}function q1(n,e){return Mg(n.databaseId,e)}function jk(n){const e=W1(n);return e.length===4?It.emptyPath():K1(e)}function Dm(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function K1(n){return ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rw(n,e,t){return{name:Om(n,e),fields:t.value.mapValue.fields}}function Mk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,m){return f.useProto3Json?(ft(m===void 0||typeof m=="string",58123),cn.fromBase64String(m||"")):(ft(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),cn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?ie.UNKNOWN:B1(f.code);return new Se(m,f.message||"")}(l);t=new z1(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yp(n,r.document.name),a=ei(r.document.updateTime),l=r.document.createTime?ei(r.document.createTime):He.min(),c=new Fn({mapValue:{fields:r.document.fields}}),d=yn.newFoundDocument(i,a,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Rd(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yp(n,r.document),a=r.readTime?ei(r.readTime):He.min(),l=yn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new Rd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yp(n,r.document),a=r.removedTargetIds||[];t=new Rd([],a,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new Pk(i,a),c=r.targetId;t=new $1(c,l)}}return t}function Fk(n,e){let t;if(e instanceof Du)t={update:rw(n,e.key,e.value)};else if(e instanceof Vg)t={delete:Om(n,e.key)};else if(e instanceof Ds)t={update:rw(n,e.key,e.data),updateMask:Gk(e.fieldMask)};else{if(!(e instanceof xk))return Me(16599,{ft:e.type});t={verify:Om(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qd)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Me(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Lk(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)}(n,e.precondition)),t}function Uk(n,e){return n&&n.length>0?(ft(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?ei(i.updateTime):ei(a);return l.isEqual(He.min())&&(l=ei(a)),new Tk(l,i.transformResults||[])}(t,e))):[]}function Bk(n,e){return{documents:[q1(n,e.path)]}}function $k(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=q1(n,i);const a=function(f){if(f.length!==0)return Q1(Vr.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(m=>function(v){return{field:va(v.field),direction:Wk(v.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=km(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function zk(n){let e=jk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ft(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(y){const v=G1(y);return v instanceof Vr&&I1(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(v=>function(I){return new mu(_a(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(y){let v;return v=typeof y=="object"?y.value:y,Ah(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(y){const v=!!y.before,S=y.values||[];return new Wd(S,v)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const v=!y.before,S=y.values||[];return new Wd(S,v)}(t.endAt)),lk(e,i,l,a,c,"F",d,f)}function Hk(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function G1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_a(t.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_a(t.unaryFilter.field);return $t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_a(t.unaryFilter.field);return $t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_a(t.unaryFilter.field);return $t.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(n):n.fieldFilter!==void 0?function(t){return $t.create(_a(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(r=>G1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(t.compositeFilter.op))}(n):Me(30097,{filter:n})}function Wk(n){return Nk[n]}function qk(n){return Ok[n]}function Kk(n){return Dk[n]}function va(n){return{fieldPath:n.canonicalString()}}function _a(n){return un.fromServerFormat(n.fieldPath)}function Q1(n){return n instanceof $t?function(t){if(t.op==="=="){if(H_(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NAN"}};if(z_(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(H_(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NAN"}};if(z_(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(t.field),op:qk(t.op),value:t.value}}}(n):n instanceof Vr?function(t){const r=t.getFilters().map(i=>Q1(i));return r.length===1?r[0]:{compositeFilter:{op:Kk(t.op),filters:r}}}(n):Me(54877,{filter:n})}function Gk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Y1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,r,i,a=He.min(),l=He.min(),c=cn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.wt=e}}function Yk(n){const e=zk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Cn=new Jk}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(xs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class Jk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qt(It.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qt(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(X1,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Va(0)}static lr(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="LruGarbageCollector",Zk=1048576;function ow([n,e],[t,r]){const i=Ge(n,t);return i===0?Ge(e,r):i}class eN{constructor(e){this.Er=e,this.buffer=new Qt(ow),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ow(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(sw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qa(t)?Te(sw,"Ignoring IndexedDB error during garbage collection: ",t):await Ga(t)}await this.mr(3e5)})}}class nN{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Ph.le);const r=new eN(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(iw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),ga()<=Je.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function rN(n,e){return new nN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.changes=new Io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Zl(r.mutation,i,Qn.empty(),zt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ze()){const i=ho();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=ql();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ho();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ze()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=ki();const l=Jl(),c=function(){return Jl()}();return t.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ds)?a=a.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Zl(m.mutation,f,m.mutation.getFieldMask(),zt.now())):l.set(f.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var y;return c.set(f,new sN(m,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Jl();let i=new Nt((l,c)=>l-c),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||Qn.empty();m=c.applyToLocalView(f,m),r.set(d,m);const y=(i.get(c.batchId)||Ze()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,y=O1();m.forEach(v=>{if(!a.has(v)){const S=F1(t.get(v),r.get(v));S!==null&&y.set(v,S),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return oe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Oe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):P1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):oe.resolve(ho());let c=du,d=a;return l.next(f=>oe.forEach(f,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?oe.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{d=d.insert(m,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,Ze())).next(m=>({batchId:c,changes:N1(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let i=ql();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=ql();return this.indexManager.getCollectionParents(e,a).next(c=>oe.forEach(c,d=>{const f=function(y,v){return new Ya(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((y,v)=>{l=l.insert(y,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,yn.newInvalidDocument(m)))});let c=ql();return l.forEach((d,f)=>{const m=a.get(d);m!==void 0&&Zl(m.mutation,f,Qn.empty(),zt.now()),Oh(t,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return oe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ei(i.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:Yk(i.bundledQuery),readTime:ei(i.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.overlays=new Nt(Oe.comparator),this.Qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ho();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=ho(),a=t.length+1,l=new Oe(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Nt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=a.get(f.largestBatchId);m===null&&(m=ho(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=ho(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=i)););return oe.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new bk(t,r));let a=this.Qr.get(t);a===void 0&&(a=Ze(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.$r=new Qt(tn.Ur),this.Kr=new Qt(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new tn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new tn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Oe(new It([])),r=new tn(t,e),i=new tn(t,e+1),a=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Oe(new It([])),r=new tn(t,e),i=new tn(t,e+1);let a=Ze();return this.Kr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new tn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Oe.comparator(e.key,t.key)||Ge(e.Zr,t.Zr)}static Wr(e,t){return Ge(e.Zr,t.Zr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Qt(tn.Ur)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Ck(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Xr=this.Xr.add(new tn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Ag:this.nr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new tn(t,0),i=new tn(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],l=>{const c=this.ei(l.Zr);a.push(c)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qt(Ge);return t.forEach(i=>{const a=new tn(i,0),l=new tn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{r=r.add(c.Zr)})}),oe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Oe.isDocumentKey(a)||(a=a.child(""));const l=new tn(new Oe(a),0);let c=new Qt(Ge);return this.Xr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Zr)),!0)},l),oe.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ft(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return oe.forEach(t.mutations,i=>{const a=new tn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new tn(t,0),i=this.Xr.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.ii=e,this.docs=function(){return new Nt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let r=ki();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():yn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ki();const l=t.path,c=new Oe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||UR(FR(m),r)<=0||(i.has(m.key)||Oh(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Me(9500)}si(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hN(this)}getSize(e){return oe.resolve(this.size)}}class hN extends iN{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.persistence=e,this.oi=new Io(t=>Ng(t),Og),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this._i=0,this.ai=new Fg,this.targetCount=0,this.ui=Va.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),oe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Va(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Tr(t),oe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t){this.ci={},this.overlays={},this.li=new Ph(0),this.hi=!1,this.hi=!0,this.Pi=new uN,this.referenceDelegate=e(this),this.Ti=new fN(this),this.indexManager=new Xk,this.remoteDocumentCache=function(i){return new dN(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Qk(t),this.Ei=new aN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new cN(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const i=new pN(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return oe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class pN extends $R{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Vi=new Fg,this.mi=null}static fi(e){return new Ug(e)}get gi(){if(this.mi)return this.mi;throw Me(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.gi,r=>{const i=Oe.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,He.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return oe.or([()=>oe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Gd{constructor(e,t){this.persistence=e,this.yi=new Io(r=>WR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=rN(this,t)}static fi(e,t){return new Gd(e,t)}di(){}Ai(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return oe.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?oe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(c=>{c||(r++,a.removeEntry(l,He.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),oe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bd(e.data.value)),t}Dr(e,t,r){return oe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ze(),i=Ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Bg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return dA()?8:zR(vn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new mN;return this.Ss(e,t,l).next(c=>{if(a.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ga()<=Je.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),oe.resolve()):(ga()<=Je.DEBUG&&Te("QueryEngine","Query:",ya(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ga()<=Je.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):oe.resolve())}ws(e,t){if(G_(t))return oe.resolve(null);let r=Zr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Rm(t,null,"F"),r=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ze(...a);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.vs(t,c);return this.Cs(t,f,l,d.readTime)?this.ws(e,Rm(t,null,"F")):this.Fs(e,f,t,d)}))})))}bs(e,t,r,i){return G_(t)||i.isEqual(He.min())?oe.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,r,i)?oe.resolve(null):(ga()<=Je.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ya(t)),this.Fs(e,l,t,MR(i,du)).next(c=>c))})}vs(e,t){let r=new Qt(R1(e));return t.forEach((i,a)=>{Oh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return ga()<=Je.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",ya(t)),this.ys.getDocumentsMatchingQuery(e,t,xs.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",yN=3e8;class vN{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Nt(Ge),this.Os=new Io(a=>Ng(a),Og),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function _N(n,e,t,r){return new vN(n,e,t,r)}async function Z1(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let d=Ze();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of a){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(f=>({ks:f,removedBatchIds:l,addedBatchIds:c}))})})}function wN(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const y=f.batch,v=y.keys();let S=oe.resolve();return v.forEach(I=>{S=S.next(()=>m.getEntry(d,I)).next(R=>{const P=f.docVersions.get(I);ft(P!==null,48541),R.version.compareTo(P)<0&&(y.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ze();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function eS(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function EN(n,e){const t=We(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const c=[];e.targetChanges.forEach((m,y)=>{const v=i.get(y);if(!v)return;c.push(t.Ti.removeMatchingKeys(a,m.removedDocuments,y).next(()=>t.Ti.addMatchingKeys(a,m.addedDocuments,y)));let S=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(cn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),i=i.insert(y,S),function(R,P,j){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=yN?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(v,S,m)&&c.push(t.Ti.updateTargetData(a,S))});let d=ki(),f=Ze();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(TN(a,l,e.documentUpdates).next(m=>{d=m.qs,f=m.Qs})),!r.isEqual(He.min())){const m=t.Ti.getLastRemoteSnapshotVersion(a).next(y=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return oe.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(t.xs=i,a))}function TN(n,e,t){let r=Ze(),i=Ze();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ki();return t.forEach((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(He.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Te($g,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{qs:l,Qs:i}})}function SN(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ag),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IN(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,oe.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new gs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Vm(n,e,t){const r=We(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Qa(l))throw l;Te($g,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function aw(n,e,t){const r=We(n);let i=He.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const y=We(d),v=y.Os.get(m);return v!==void 0?oe.resolve(y.xs.get(v)):y.Ti.getTargetData(f,m)}(r,l,Zr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:He.min(),t?a:Ze())).next(c=>(xN(r,ck(e),c),{documents:c,$s:a})))}function xN(n,e,t){let r=n.Ns.get(e)||He.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class lw{constructor(){this.activeTargetIds=gk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CN{constructor(){this.xo=new lw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new lw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="ConnectivityMonitor";class cw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(uw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(uw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function Lm(){return gd===null?gd=function(){return 268435456+Math.round(2147483648*Math.random())}():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="RestConnection",PN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===zd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const l=Lm(),c=this.jo(e,t.toUriEncodedString());Te(Xp,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,i,a);const{host:f}=new URL(c),m=Wa(f);return this.Jo(e,c,d,r,m).then(y=>(Te(Xp,`Received RPC '${e}' ${l}: `,y),y),y=>{throw ka(Xp,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Yo(e,t,r,i,a,l){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ka}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=PN[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class kN extends AN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Lm();return new Promise((c,d)=>{const f=new r1;f.setWithCredentials(!0),f.listenOnce(i1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Cd.NO_ERROR:const y=f.getResponseJson();Te(mn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Cd.TIMEOUT:Te(mn,`RPC '${e}' ${l} timed out`),d(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const v=f.getStatus();if(Te(mn,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const R=function(j){const x=j.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(x)>=0?x:ie.UNKNOWN}(I.status);d(new Se(R,I.message))}else d(new Se(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{h_:e,streamId:l,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{Te(mn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);Te(mn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)})}I_(e,t,r){const i=Lm(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=a1(),c=o1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");Te(mn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);this.E_(y);let v=!1,S=!1;const I=new RN({Zo:P=>{S?Te(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(Te(mn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),Te(mn,`RPC '${e}' stream ${i} sending:`,P),y.send(P))},Xo:()=>y.close()}),R=(P,j,x)=>{P.listen(j,O=>{try{x(O)}catch(M){setTimeout(()=>{throw M},0)}})};return R(y,Wl.EventType.OPEN,()=>{S||(Te(mn,`RPC '${e}' stream ${i} transport opened.`),I.__())}),R(y,Wl.EventType.CLOSE,()=>{S||(S=!0,Te(mn,`RPC '${e}' stream ${i} transport closed`),I.u_(),this.d_(y))}),R(y,Wl.EventType.ERROR,P=>{S||(S=!0,ka(mn,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),I.u_(new Se(ie.UNAVAILABLE,"The operation could not be completed")))}),R(y,Wl.EventType.MESSAGE,P=>{var j;if(!S){const x=P.data[0];ft(!!x,16349);const O=x,M=(O==null?void 0:O.error)||((j=O[0])===null||j===void 0?void 0:j.error);if(M){Te(mn,`RPC '${e}' stream ${i} received error:`,M);const B=M.status;let Q=function(k){const L=Bt[k];if(L!==void 0)return B1(L)}(B),D=M.message;Q===void 0&&(Q=ie.INTERNAL,D="Unknown error status: "+B+" with message "+M.message),S=!0,I.u_(new Se(Q,D)),y.close()}else Te(mn,`RPC '${e}' stream ${i} received:`,x),I.c_(x)}}),R(c,s1.STAT_EVENT,P=>{P.stat===Sm.PROXY?Te(mn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Sm.NOPROXY&&Te(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n){return new Vk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="PersistentStream";class nS{constructor(e,t,r,i,a,l,c,d){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new tS(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new Se(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Te(dw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Te(dw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NN extends nS{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=Mk(this.serializer,e),r=function(a){if(!("targetChange"in a))return He.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?ei(l.readTime):He.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Dm(this.serializer),t.addTarget=function(a,l){let c;const d=l.target;if(c=Pm(d)?{documents:Bk(a,d)}:{query:$k(a,d).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=H1(a,l.resumeToken);const f=km(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(He.min())>0){c.readTime=Kd(a,l.snapshotVersion.toTimestamp());const f=km(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=Hk(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Dm(this.serializer),t.removeTarget=e,this.Q_(t)}}class ON extends nS{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=Uk(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Dm(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Fk(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{}class VN extends DN{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,Nm(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ie.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,Nm(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ie.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class LN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ri(t),this.ua=!1):Te("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class jN{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{xo(this)&&(Te(wo,"Restarting streams for network reachability change."),await async function(d){const f=We(d);f.da.add(4),await Lu(f),f.Va.set("Unknown"),f.da.delete(4),await Mh(f)}(this))})}),this.Va=new LN(r,i)}}async function Mh(n){if(xo(n))for(const e of n.Aa)await e(!0)}async function Lu(n){for(const e of n.Aa)await e(!1)}function rS(n,e){const t=We(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),qg(t)?Wg(t):Xa(t).N_()&&Hg(t,e))}function zg(n,e){const t=We(n),r=Xa(t);t.Ea.delete(e),r.N_()&&iS(t,e),t.Ea.size===0&&(r.N_()?r.k_():xo(t)&&t.Va.set("Unknown"))}function Hg(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xa(n).Z_(e)}function iS(n,e){n.ma.Ke(e),Xa(n).X_(e)}function Wg(n){n.ma=new kk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Xa(n).start(),n.Va.ca()}function qg(n){return xo(n)&&!Xa(n).O_()&&n.Ea.size>0}function xo(n){return We(n).da.size===0}function sS(n){n.ma=void 0}async function MN(n){n.Va.set("Online")}async function FN(n){n.Ea.forEach((e,t)=>{Hg(n,e)})}async function UN(n,e){sS(n),qg(n)?(n.Va.Pa(e),Wg(n)):n.Va.set("Unknown")}async function BN(n,e,t){if(n.Va.set("Online"),e instanceof z1&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ea.delete(c),i.ma.removeTarget(c))}(n,e)}catch(r){Te(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(n,r)}else if(e instanceof Rd?n.ma.Xe(e):e instanceof $1?n.ma.ot(e):n.ma.nt(e),!t.isEqual(He.min()))try{const r=await eS(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ea.get(f);m&&a.Ea.set(f,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const m=a.Ea.get(d);if(!m)return;a.Ea.set(d,m.withResumeToken(cn.EMPTY_BYTE_STRING,m.snapshotVersion)),iS(a,d);const y=new gs(m.target,d,f,m.sequenceNumber);Hg(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){Te(wo,"Failed to raise snapshot:",r),await Qd(n,r)}}async function Qd(n,e,t){if(!Qa(e))throw e;n.da.add(1),await Lu(n),n.Va.set("Offline"),t||(t=()=>eS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te(wo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Mh(n)})}function oS(n,e){return e().catch(t=>Qd(n,t,e))}async function Fh(n){const e=We(n),t=As(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ag;for(;$N(e);)try{const i=await SN(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,zN(e,i)}catch(i){await Qd(e,i)}aS(e)&&lS(e)}function $N(n){return xo(n)&&n.Ia.length<10}function zN(n,e){n.Ia.push(e);const t=As(n);t.N_()&&t.ea&&t.ta(e.mutations)}function aS(n){return xo(n)&&!As(n).O_()&&n.Ia.length>0}function lS(n){As(n).start()}async function HN(n){As(n).ia()}async function WN(n){const e=As(n);for(const t of n.Ia)e.ta(t.mutations)}async function qN(n,e,t){const r=n.Ia.shift(),i=Lg.from(r,e,t);await oS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Fh(n)}async function KN(n,e){e&&As(n).ea&&await async function(r,i){if(function(l){return Ak(l)&&l!==ie.ABORTED}(i.code)){const a=r.Ia.shift();As(r).L_(),await oS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Fh(r)}}(n,e),aS(n)&&lS(n)}async function hw(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Te(wo,"RemoteStore received new credentials");const r=xo(t);t.da.add(3),await Lu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Mh(t)}async function GN(n,e){const t=We(n);e?(t.da.delete(2),await Mh(t)):e||(t.da.add(2),await Lu(t),t.Va.set("Unknown"))}function Xa(n){return n.fa||(n.fa=function(t,r,i){const a=We(t);return a.oa(),new NN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:MN.bind(null,n),n_:FN.bind(null,n),i_:UN.bind(null,n),Y_:BN.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),qg(n)?Wg(n):n.Va.set("Unknown")):(await n.fa.stop(),sS(n))})),n.fa}function As(n){return n.ga||(n.ga=function(t,r,i){const a=We(t);return a.oa(),new ON(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:HN.bind(null,n),i_:KN.bind(null,n),na:WN.bind(null,n),ra:qN.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Fh(n)):(await n.ga.stop(),n.Ia.length>0&&(Te(wo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Kg(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),Qa(n))return new Se(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(e){return new Ia(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=ql(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.pa=new Nt(Oe.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Me(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class La{constructor(e,t,r,i,a,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new La(e,t,Ia.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class YN{constructor(){this.queries=pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=We(t),a=i.queries;i.queries=pw(),a.forEach((l,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function pw(){return new Io(n=>A1(n),Nh)}async function Qg(n,e){const t=We(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new QN,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Gg(l,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&Xg(t)}async function Yg(n,e){const t=We(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function XN(n,e){const t=We(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Ma(i)&&(r=!0);l.ba=i}}r&&Xg(t)}function JN(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function Xg(n){n.Ca.forEach(e=>{e.next()})}var jm,mw;(mw=jm||(jm={})).xa="default",mw.Cache="cache";class Jg{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new La(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.key=e}}class cS{constructor(e){this.key=e}}class ZN{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ze(),this.mutatedKeys=Ze(),this.Za=R1(e),this.Xa=new Ia(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new fw,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const v=i.get(m),S=Oh(this.query,y)?y:null,I=!!v&&this.mutatedKeys.has(v.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;v&&S?v.data.isEqual(S.data)?I!==R&&(r.track({type:3,doc:S}),P=!0):this.ru(v,S)||(r.track({type:2,doc:S}),P=!0,(d&&this.Za(S,d)>0||f&&this.Za(S,f)<0)&&(c=!0)):!v&&S?(r.track({type:0,doc:S}),P=!0):v&&!S&&(r.track({type:1,doc:v}),P=!0,(d||f)&&(c=!0)),P&&(S?(l=l.add(S),a=R?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:c,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,y)=>function(S,I){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:P})}};return R(S)-R(I)}(m.type,y.type)||this.Za(m.doc,y.doc)),this.iu(r),i=i!=null&&i;const c=t&&!i?this.su():[],d=this.Ya.size===0&&this.current&&!i?1:0,f=d!==this.Ja;return this.Ja=d,l.length!==0||f?{snapshot:new La(this.query,e.Xa,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new fw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ze(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new cS(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new uS(r))}),t}au(e){this.Ha=e.$s,this.Ya=Ze();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return La.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Zg="SyncEngine";class eO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tO{constructor(e){this.key=e,this.cu=!1}}class nO{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Io(c=>A1(c),Nh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Nt(Oe.comparator),this.Eu=new Map,this.du=new Fg,this.Au={},this.Ru=new Map,this.Vu=Va.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rO(n,e,t=!0){const r=gS(n);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await dS(r,e,t,!0),i}async function iO(n,e){const t=gS(n);await dS(t,e,!0,!1)}async function dS(n,e,t,r){const i=await IN(n.localStore,Zr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await sO(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&rS(n.remoteStore,i),c}async function sO(n,e,t,r,i){n.fu=(y,v,S)=>async function(R,P,j,x){let O=P.view.tu(j);O.Cs&&(O=await aw(R.localStore,P.query,!1).then(({documents:D})=>P.view.tu(D,O)));const M=x&&x.targetChanges.get(P.targetId),B=x&&x.targetMismatches.get(P.targetId)!=null,Q=P.view.applyChanges(O,R.isPrimaryClient,M,B);return yw(R,P.targetId,Q.ou),Q.snapshot}(n,y,v,S);const a=await aw(n.localStore,e,!0),l=new ZN(e,a.$s),c=l.tu(a.documents),d=Vu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,d);yw(n,t,f.ou);const m=new eO(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),f.snapshot}async function oO(n,e,t){const r=We(n),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(l=>!Nh(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&zg(r.remoteStore,i.targetId),Mm(r,i.targetId)}).catch(Ga)):(Mm(r,i.targetId),await Vm(r.localStore,i.targetId,!0))}async function aO(n,e){const t=We(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zg(t.remoteStore,r.targetId))}async function lO(n,e,t){const r=mO(n);try{const i=await function(l,c){const d=We(l),f=zt.now(),m=c.reduce((S,I)=>S.add(I.key),Ze());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let I=ki(),R=Ze();return d.Bs.getEntries(S,m).next(P=>{I=P,I.forEach((j,x)=>{x.isValidDocument()||(R=R.add(j))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,I)).next(P=>{y=P;const j=[];for(const x of c){const O=Ik(x,y.get(x.key).overlayedDocument);O!=null&&j.push(new Ds(x.key,O,E1(O.value.mapValue),Or.exists(!0)))}return d.mutationQueue.addMutationBatch(S,f,j,c)}).next(P=>{v=P;const j=P.applyToLocalDocumentSet(y,R);return d.documentOverlayCache.saveOverlays(S,P.batchId,j)})}).then(()=>({batchId:v.batchId,changes:N1(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Au[l.currentUser.toKey()];f||(f=new Nt(Ge)),f=f.insert(c,d),l.Au[l.currentUser.toKey()]=f}(r,i.batchId,t),await ju(r,i.changes),await Fh(r.remoteStore)}catch(i){const a=Gg(i,"Failed to persist write");t.reject(a)}}async function hS(n,e){const t=We(n);try{const r=await EN(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Eu.get(a);l&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?ft(l.cu,14607):i.removedDocuments.size>0&&(ft(l.cu,42227),l.cu=!1))}),await ju(t,r,e)}catch(r){await Ga(r)}}function gw(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((a,l)=>{const c=l.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=We(l);d.onlineState=c;let f=!1;d.queries.forEach((m,y)=>{for(const v of y.Sa)v.Fa(c)&&(f=!0)}),f&&Xg(d)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uO(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new Nt(Oe.comparator);l=l.insert(a,yn.newNoDocument(a,He.min()));const c=Ze().add(a),d=new Lh(He.min(),new Map,new Nt(Ge),l,c);await hS(r,d),r.Iu=r.Iu.remove(a),r.Eu.delete(e),ey(r)}else await Vm(r.localStore,e,!1).then(()=>Mm(r,e,t)).catch(Ga)}async function cO(n,e){const t=We(n),r=e.batch.batchId;try{const i=await wN(t.localStore,e);pS(t,r,null),fS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ju(t,i)}catch(i){await Ga(i)}}async function dO(n,e,t){const r=We(n);try{const i=await function(l,c){const d=We(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(y=>(ft(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);pS(r,e,t),fS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ju(r,i)}catch(i){await Ga(i)}}function fS(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function pS(n,e,t){const r=We(n);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Mm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||mS(n,r)})}function mS(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(zg(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ey(n))}function yw(n,e,t){for(const r of t)r instanceof uS?(n.du.addReference(r.key,e),hO(n,r)):r instanceof cS?(Te(Zg,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||mS(n,r.key)):Me(19791,{pu:r})}function hO(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(Te(Zg,"New document in limbo: "+t),n.Tu.add(r),ey(n))}function ey(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Oe(It.fromString(e)),r=n.Vu.next();n.Eu.set(r,new tO(t)),n.Iu=n.Iu.insert(t,r),rS(n.remoteStore,new gs(Zr(kh(t.path)),r,"TargetPurposeLimboResolution",Ph.le))}}async function ju(n,e,t){const r=We(n),i=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,d)=>{l.push(r.fu(d,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){i.push(f);const y=Bg.Rs(d.targetId,f);a.push(y)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(d,f){const m=We(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>oe.forEach(f,v=>oe.forEach(v.ds,S=>m.persistence.referenceDelegate.addReference(y,v.targetId,S)).next(()=>oe.forEach(v.As,S=>m.persistence.referenceDelegate.removeReference(y,v.targetId,S)))))}catch(y){if(!Qa(y))throw y;Te($g,"Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const S=m.xs.get(v),I=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(I);m.xs=m.xs.insert(v,R)}}}(r.localStore,a))}async function fO(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Te(Zg,"User change. New user:",e.toKey());const r=await Z1(t.localStore,e);t.currentUser=e,function(a,l){a.Ru.forEach(c=>{c.forEach(d=>{d.reject(new Se(ie.CANCELLED,l))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(t,r.ks)}}function pO(n,e){const t=We(n),r=t.Eu.get(e);if(r&&r.cu)return Ze().add(r.key);{let i=Ze();const a=t.Pu.get(e);if(!a)return i;for(const l of a){const c=t.hu.get(l);i=i.unionWith(c.view.eu)}return i}}function gS(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uO.bind(null,e),e.lu.Y_=XN.bind(null,e.eventManager),e.lu.gu=JN.bind(null,e.eventManager),e}function mO(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return _N(this.persistence,new gN,e.initialUser,this.serializer)}Su(e){return new J1(Ug.fi,this.serializer)}bu(e){return new CN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class gO extends Yd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ft(this.persistence.referenceDelegate instanceof Gd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tN(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new J1(r=>Gd.fi(r,t),this.serializer)}}class Fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fO.bind(null,this.syncEngine),await GN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YN}()}createDatastore(e){const t=jh(e.databaseInfo.databaseId),r=function(a){return new kN(a)}(e.databaseInfo);return function(a,l,c,d){return new VN(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new jN(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>gw(this.syncEngine,t,0),function(){return cw.C()?new cw:new bN}())}createSyncEngine(e,t){return function(i,a,l,c,d,f,m){const y=new nO(i,a,l,c,d,f);return m&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=We(i);Te(wo,"RemoteStore shutting down."),a.da.add(5),await Lu(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class yO{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=d1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{Te(Rs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Te(Rs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(n,e){n.asyncQueue.verifyOperationInProgress(),Te(Rs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Z1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function vw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vO(n);Te(Rs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>hw(e.remoteStore,i)),n._onlineComponents=e}async function vO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(Rs,"Using user provided OfflineComponentProvider");try{await Zp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ka("Error using user provided cache. Falling back to memory cache: "+t),await Zp(n,new Yd)}}else Te(Rs,"Using default OfflineComponentProvider"),await Zp(n,new gO(void 0));return n._offlineComponents}async function yS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(Rs,"Using user provided OnlineComponentProvider"),await vw(n,n._uninitializedComponentsProvider._online)):(Te(Rs,"Using default OnlineComponentProvider"),await vw(n,new Fm))),n._onlineComponents}function _O(n){return yS(n).then(e=>e.syncEngine)}async function Xd(n){const e=await yS(n),t=e.eventManager;return t.onListen=rO.bind(null,e.syncEngine),t.onUnlisten=oO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aO.bind(null,e.syncEngine),t}function wO(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,f){const m=new ty({next:v=>{m.xu(),l.enqueueAndForget(()=>Yg(a,y));const S=v.docs.has(c);!S&&v.fromCache?f.reject(new Se(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&v.fromCache&&d&&d.source==="server"?f.reject(new Se(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new Jg(kh(c.path),m,{includeMetadataChanges:!0,Qa:!0});return Qg(a,y)}(await Xd(n),n.asyncQueue,e,t,r)),r.promise}function EO(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,f){const m=new ty({next:v=>{m.xu(),l.enqueueAndForget(()=>Yg(a,y)),v.fromCache&&d.source==="server"?f.reject(new Se(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new Jg(c,m,{includeMetadataChanges:!0,Qa:!0});return Qg(a,y)}(await Xd(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(n,e,t){if(!t)throw new Se(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TO(n,e,t,r){if(e===!0&&r===!0)throw new Se(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ww(n){if(!Oe.isDocumentKey(n))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ew(n){if(Oe.isDocumentKey(n))throw new Se(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uh(n);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firestore.googleapis.com",Tw=!0;class Sw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wS,this.ssl=Tw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zk)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AR;switch(r.type){case"firstParty":return new OR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=_w.get(t);r&&(Te("ComponentProvider","Removing Datastore"),_w.delete(t),r.terminate())}(this),Promise.resolve()}}function SO(n,e,t,r={}){var i;n=dr(n,Bh);const a=Wa(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a&&(GT(`https://${d}`),QT("Firestore",!0)),l.host!==wS&&l.host!==d&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:a,emulatorOptions:r});if(!yo(f,c)&&(n._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=gn.MOCK_USER;else{m=nA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new gn(v)}n._authCredentials=new RR(new u1(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class Pn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Ss extends Vs{constructor(e,t,r){super(e,t,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Oe(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Lr(n,e,...t){if(n=Yt(n),_S("collection","path",e),n instanceof Bh){const r=It.fromString(e,...t);return Ew(r),new Ss(n,null,r)}{if(!(n instanceof Pn||n instanceof Ss))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return Ew(r),new Ss(n.firestore,null,r)}}function vt(n,e,...t){if(n=Yt(n),arguments.length===1&&(e=d1.newId()),_S("doc","path",e),n instanceof Bh){const r=It.fromString(e,...t);return ww(r),new Pn(n,null,new Oe(r))}{if(!(n instanceof Pn||n instanceof Ss))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return ww(r),new Pn(n.firestore,n instanceof Ss?n.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="AsyncQueue";class xw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new tS(this,"async_queue_retry"),this.rc=()=>{const r=Jp();r&&Te(Iw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=Jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new bi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Qa(e))throw e;Te(Iw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ri("INTERNAL UNHANDLED ERROR: ",Cw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Kg.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Me(47125,{cc:Cw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Cw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ks extends Bh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xw(e),this._firestoreClient=void 0,await e}}}function IO(n,e){const t=typeof n=="object"?n:ZT(),r=typeof n=="string"?n:zd,i=bg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=eA("firestore");a&&SO(i,...a)}return i}function $h(n){if(n._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xO(n),n._firestoreClient}function xO(n){var e,t,r;const i=n._freezeSettings(),a=function(c,d,f,m){return new GR(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new yO(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(cn.fromBase64String(e))}catch(t){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ja(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^__.*__$/;class bO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}class ES{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ic:n})}}class iy{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new iy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Jd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(TS(this.Ic)&&CO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class PO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jh(e)}bc(e,t,r,i=!1){return new iy({Ic:e,methodName:t,wc:r,path:un.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sy(n){const e=n._freezeSettings(),t=jh(n._databaseId);return new PO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AO(n,e,t,r,i,a={}){const l=n.bc(a.merge||a.mergeFields?2:0,e,t,i);ay("Data must be an object, but it was:",l,r);const c=SS(r,l);let d,f;if(a.merge)d=new Qn(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const v=Um(e,y,t);if(!l.contains(v))throw new Se(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);xS(m,v)||m.push(v)}d=new Qn(m),f=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,f=l.fieldTransforms;return new bO(new Fn(c),d,f)}class Wh extends Hh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}class oy extends Hh{_toFieldTransform(e){return new wk(e.path,new gu)}isEqual(e){return e instanceof oy}}function RO(n,e,t,r){const i=n.bc(1,e,t);ay("Data must be an object, but it was:",i,r);const a=[],l=Fn.empty();Os(r,(d,f)=>{const m=ly(e,d,t);f=Yt(f);const y=i.mc(m);if(f instanceof Wh)a.push(m);else{const v=Mu(f,y);v!=null&&(a.push(m),l.set(m,v))}});const c=new Qn(a);return new ES(l,c,i.fieldTransforms)}function kO(n,e,t,r,i,a){const l=n.bc(1,e,t),c=[Um(e,r,t)],d=[i];if(a.length%2!=0)throw new Se(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(Um(e,a[v])),d.push(a[v+1]);const f=[],m=Fn.empty();for(let v=c.length-1;v>=0;--v)if(!xS(f,c[v])){const S=c[v];let I=d[v];I=Yt(I);const R=l.mc(S);if(I instanceof Wh)f.push(S);else{const P=Mu(I,R);P!=null&&(f.push(S),m.set(S,P))}}const y=new Qn(f);return new ES(m,y,l.fieldTransforms)}function NO(n,e,t,r=!1){return Mu(t,n.bc(r?4:3,e))}function Mu(n,e){if(IS(n=Yt(n)))return ay("Unsupported field value:",e,n),SS(n,e);if(n instanceof Hh)return function(r,i){if(!TS(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let d=Mu(c,i.fc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=zt.fromDate(r);return{timestampValue:Kd(i.serializer,a)}}if(r instanceof zt){const a=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,a)}}if(r instanceof ny)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ja)return{bytesValue:H1(i.serializer,r._byteString)};if(r instanceof Pn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Mg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ry)return function(l,c){return{mapValue:{fields:{[_1]:{stringValue:w1},[Hd]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.gc("VectorValues must only contain numeric values.");return Dg(c.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Uh(r)}`)}(n,e)}function SS(n,e){const t={};return f1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(n,(r,i)=>{const a=Mu(i,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function IS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zt||n instanceof ny||n instanceof ja||n instanceof Pn||n instanceof Hh||n instanceof ry)}function ay(n,e,t){if(!IS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Uh(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Um(n,e,t){if((e=Yt(e))instanceof zh)return e._internalPath;if(typeof e=="string")return ly(n,e);throw Jd("Field path arguments must be of type string or ",n,!1,void 0,t)}const OO=new RegExp("[~\\*/\\[\\]]");function ly(n,e,t){if(e.search(OO)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zh(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jd(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Se(ie.INVALID_ARGUMENT,c+n+d)}function xS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DO extends CS{data(){return super.data()}}function uy(n,e){return typeof e=="string"?ly(n,e):e instanceof zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cy{}class PS extends cy{}function Bm(n,e,...t){let r=[];e instanceof cy&&r.push(e),r=r.concat(t),function(a){const l=a.filter(d=>d instanceof hy).length,c=a.filter(d=>d instanceof dy).length;if(l>1||l>0&&c>0)throw new Se(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class dy extends PS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new dy(e,t,r)}_apply(e){const t=this._parse(e);return AS(e._query,t),new Vs(e.firestore,e.converter,Am(e._query,t))}_parse(e){const t=sy(e.firestore);return function(a,l,c,d,f,m,y){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Se(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Aw(y,m);const I=[];for(const R of y)I.push(Pw(d,a,R));v={arrayValue:{values:I}}}else v=Pw(d,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Aw(y,m),v=NO(c,l,y,m==="in"||m==="not-in");return $t.create(f,m,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class hy extends cy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const d of c)AS(l,d),l=Am(l,d)}(e._query,t),new Vs(e.firestore,e.converter,Am(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fy extends PS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fy(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new Se(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(a,l)}(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ya(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function $m(n,e="asc"){const t=e,r=uy("orderBy",n);return fy._create(r,t)}function Pw(n,e,t){if(typeof(t=Yt(t))=="string"){if(t==="")throw new Se(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P1(e)&&t.indexOf("/")!==-1)throw new Se(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(It.fromString(t));if(!Oe.isDocumentKey(r))throw new Se(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $_(n,new Oe(r))}if(t instanceof Pn)return $_(n,t._key);throw new Se(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(t)}.`)}function Aw(n,e){if(!Array.isArray(n)||n.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AS(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Se(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VO{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Os(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Hd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Mt(l.doubleValue));return new ry(a)}convertGeoPoint(e){return new ny(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=It.fromString(e);ft(Y1(r),9688,{name:e});const i=new fu(r.get(1),r.get(3)),a=new Oe(r.popFirst(5));return i.isEqual(t)||Ri(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RS extends CS{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class kd extends RS{data(e={}){return super.data(e)}}class kS{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Gl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new kd(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new kd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Gl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new kd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Gl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:jO(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){n=dr(n,Pn);const e=dr(n.firestore,ks);return wO($h(e),n._key).then(t=>NS(e,n,t))}class py extends VO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function Eo(n){n=dr(n,Vs);const e=dr(n.firestore,ks),t=$h(e),r=new py(e);return bS(n._query),EO(t,n._query).then(i=>new kS(e,r,n,i))}function Ma(n,e,t,...r){n=dr(n,Pn);const i=dr(n.firestore,ks),a=sy(i);let l;return l=typeof(e=Yt(e))=="string"||e instanceof zh?kO(a,"updateDoc",n._key,e,t,r):RO(a,"updateDoc",n._key,e),gy(i,[l.toMutation(n._key,Or.exists(!0))])}function Zd(n){return gy(dr(n.firestore,ks),[new Vg(n._key,Or.none())])}function my(n,e){const t=dr(n.firestore,ks),r=vt(n),i=LO(n.converter,e);return gy(t,[AO(sy(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function MO(n,...e){var t,r,i;n=Yt(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||bw(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(bw(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,f,m;if(n instanceof Pn)f=dr(n.firestore,ks),m=kh(n._key.path),d={next:y=>{e[l]&&e[l](NS(f,n,y))},error:e[l+1],complete:e[l+2]};else{const y=dr(n,Vs);f=dr(y.firestore,ks),m=y._query;const v=new py(f);d={next:S=>{e[l]&&e[l](new kS(f,v,y,S))},error:e[l+1],complete:e[l+2]},bS(n._query)}return function(v,S,I,R){const P=new ty(R),j=new Jg(S,P,I);return v.asyncQueue.enqueueAndForget(async()=>Qg(await Xd(v),j)),()=>{P.xu(),v.asyncQueue.enqueueAndForget(async()=>Yg(await Xd(v),j))}}($h(f),m,c,d)}function gy(n,e){return function(r,i){const a=new bi;return r.asyncQueue.enqueueAndForget(async()=>lO(await _O(r),i,a)),a.promise}($h(n),e)}function NS(n,e,t){const r=t.docs.get(e._key),i=new py(n);return new RS(n,i,e._key,r,new Gl(t.hasPendingWrites,t.fromCache),e.converter)}function FO(){return new oy("serverTimestamp")}(function(e,t=!0){(function(i){Ka=i})(qa),Ra(new vo("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new ks(new kR(r.getProvider("auth-internal")),new DR(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(f.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Es(R_,k_,e),Es(R_,k_,"esm2017")})();var UO="firebase",BO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(UO,BO,"app");function yy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function OS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $O=OS,DS=new Nu("auth","Firebase",OS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new xg("@firebase/auth");function zO(n,...e){eh.logLevel<=Je.WARN&&eh.warn(`Auth (${qa}): ${n}`,...e)}function Nd(n,...e){eh.logLevel<=Je.ERROR&&eh.error(`Auth (${qa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(n,...e){throw vy(n,...e)}function ti(n,...e){return vy(n,...e)}function VS(n,e,t){const r=Object.assign(Object.assign({},$O()),{[e]:t});return new Nu("auth","Firebase",r).create(e,{appName:n.name})}function Is(n){return VS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DS.create(n,...e)}function je(n,e,...t){if(!n)throw vy(e,...t)}function Ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nd(e),new Error(e)}function Ni(n,e){n||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HO(){return Rw()==="http:"||Rw()==="https:"}function Rw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HO()||lA()||"connection"in navigator)?navigator.onLine:!0}function qO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=sA()||uA()}get(){return WO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n,e){Ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QO=new Fu(3e4,6e4);function Co(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ls(n,e,t,r,i={}){return jS(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Ou(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},a);return aA()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Wa(n.emulatorConfig.host)&&(f.credentials="include"),LS.fetch()(await MS(n,n.config.apiHost,t,c),f)})}async function jS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},KO),e);try{const i=new XO(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw yd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw yd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw yd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw VS(n,m,f);jr(n,m)}}catch(i){if(i instanceof Vi)throw i;jr(n,"network-request-failed",{message:String(i)})}}async function qh(n,e,t,r,i={}){const a=await Ls(n,e,t,r,i);return"mfaPendingCredential"in a&&jr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function MS(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?_y(n.config,i):`${n.config.apiScheme}://${i}`;return GO.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function YO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),QO.get())})}}function yd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ti(n,e,r);return i.customData._tokenResponse=t,i}function kw(n){return n!==void 0&&n.enterprise!==void 0}class JO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZO(n,e){return Ls(n,"GET","/v2/recaptchaConfig",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(n,e){return Ls(n,"POST","/v1/accounts:delete",e)}async function th(n,e){return Ls(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t2(n,e=!1){const t=Yt(n),r=await t.getIdToken(e),i=wy(r);je(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:eu(em(i.auth_time)),issuedAtTime:eu(em(i.iat)),expirationTime:eu(em(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function em(n){return Number(n)*1e3}function wy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const i=HT(t);return i?JSON.parse(i):(Nd("Failed to decode base64 JWT payload"),null)}catch(i){return Nd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nw(n){const e=wy(n);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Vi&&n2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function n2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await _u(n,th(t,{idToken:r}));je(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?FS(a.providerUserInfo):[],c=s2(n.providerData,l),d=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Hm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function i2(n){const e=Yt(n);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FS(n){return n.map(e=>{var{providerId:t}=e,r=yy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(n,e){const t=await jS(n,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await MS(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&Wa(n.emulatorConfig.host)&&(d.credentials="include"),LS.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function a2(n,e){return Ls(n,"POST","/v2/accounts:revokeToken",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");const t=Nw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await o2(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new xa;return r&&(je(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(je(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(n,e){je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await _u(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return t2(this,e)}reload(){return i2(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rr(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await _u(this,e2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,d,f,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,j=(f=t.createdAt)!==null&&f!==void 0?f:void 0,x=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:O,emailVerified:M,isAnonymous:B,providerData:Q,stsTokenManager:D}=t;je(O&&D,e,"internal-error");const b=xa.fromJSON(this.name,D);je(typeof O=="string",e,"internal-error"),us(y,e.name),us(v,e.name),je(typeof M=="boolean",e,"internal-error"),je(typeof B=="boolean",e,"internal-error"),us(S,e.name),us(I,e.name),us(R,e.name),us(P,e.name),us(j,e.name),us(x,e.name);const k=new Nr({uid:O,auth:e,email:v,emailVerified:M,displayName:y,isAnonymous:B,photoURL:I,phoneNumber:S,tenantId:R,stsTokenManager:b,createdAt:j,lastLoginAt:x});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(L=>Object.assign({},L))),P&&(k._redirectEventId=P),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new xa;i.updateFromServerResponse(t);const a=new Nr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];je(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?FS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new xa;c.updateFromIdToken(r);const d=new Nr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Hm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;function xi(n){Ni(n instanceof Function,"Expected a class definition");let e=Ow.get(n);return e?(Ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ow.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}US.type="NONE";const Dw=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n,e,t){return`firebase:${n}:${e}:${t}`}class Ca{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,a),this.fullPersistenceKey=Od("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await th(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ca(xi(Dw),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||xi(Dw);const l=Od(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const v=await th(e,{idToken:m}).catch(()=>{});if(!v)break;y=await Nr._fromGetAccountInfoResponse(e,v,m)}else y=Nr._fromJSON(e,m);f!==a&&(c=y),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Ca(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Ca(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qS(e))return"Blackberry";if(KS(e))return"Webos";if($S(e))return"Safari";if((e.includes("chrome/")||zS(e))&&!e.includes("edge/"))return"Chrome";if(WS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BS(n=vn()){return/firefox\//i.test(n)}function $S(n=vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zS(n=vn()){return/crios\//i.test(n)}function HS(n=vn()){return/iemobile/i.test(n)}function WS(n=vn()){return/android/i.test(n)}function qS(n=vn()){return/blackberry/i.test(n)}function KS(n=vn()){return/webos/i.test(n)}function Ey(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function l2(n=vn()){var e;return Ey(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u2(){return cA()&&document.documentMode===10}function GS(n=vn()){return Ey(n)||WS(n)||KS(n)||qS(n)||/windows phone/i.test(n)||HS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n,e=[]){let t;switch(n){case"Browser":t=Vw(vn());break;case"Worker":t=`${Vw(vn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(n,e={}){return Ls(n,"GET","/v2/passwordPolicy",Co(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=6;class f2{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:h2,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lw(this),this.idTokenSubscription=new Lw(this),this.beforeStateQueue=new c2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await th(this,{idToken:e}),r=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rr(this.app))return Promise.reject(Is(this));const t=e?Yt(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rr(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rr(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d2(this),t=new f2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await a2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xi(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ja(n){return Yt(n)}class Lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=vA(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m2(n){Kh=n}function YS(n){return Kh.loadJS(n)}function g2(){return Kh.recaptchaEnterpriseScript}function y2(){return Kh.gapiScript}function v2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _2{constructor(){this.enterprise=new w2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class w2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const E2="recaptcha-enterprise",XS="NO_RECAPTCHA";class T2{constructor(e){this.type=E2,this.auth=Ja(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{ZO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new JO(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;kw(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(XS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _2().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&kw(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=g2();d.length!==0&&(d+=c),YS(d).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function jw(n,e,t,r=!1,i=!1){const a=new T2(n);let l;if(i)l=XS;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Mw(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await jw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n,e){const t=bg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(yo(a,e??{}))return i;jr(i,"already-initialized")}return t.initialize({options:e})}function I2(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(xi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x2(n,e,t){const r=Ja(n);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=JS(e),{host:l,port:c}=C2(e),d=c===null?"":`:${c}`,f={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(yo(f,r.config.emulator)&&yo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Wa(l)?(GT(`${a}//${l}${d}`),QT("Auth",!0)):b2()}function JS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function C2(n){const e=JS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Fw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Fw(l)}}}function Fw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function b2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function P2(n,e){return Ls(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(n,e){return qh(n,"POST","/v1/accounts:signInWithPassword",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(n,e){return qh(n,"POST","/v1/accounts:signInWithEmailLink",Co(n,e))}async function k2(n,e){return qh(n,"POST","/v1/accounts:signInWithEmailLink",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Ty{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new wu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new wu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mw(e,t,"signInWithPassword",A2);case"emailLink":return R2(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mw(e,r,"signUpPassword",P2);case"emailLink":return k2(e,{idToken:t,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(n,e){return qh(n,"POST","/v1/accounts:signInWithIdp",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="http://localhost";class To extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=yy(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new To(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ba(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ba(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ba(e,t)}buildRequest(){const e={requestUri:N2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D2(n){const e=zl(Hl(n)).link,t=e?zl(Hl(e)).deep_link_id:null,r=zl(Hl(n)).deep_link_id;return(r?zl(Hl(r)).link:null)||r||t||e||n}class Sy{constructor(e){var t,r,i,a,l,c;const d=zl(Hl(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,y=O2((i=d.mode)!==null&&i!==void 0?i:null);je(f&&m&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=D2(e);try{return new Sy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,t){return wu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Sy.parseLink(t);return je(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends ZS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Uu{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return To._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return fs.credential(t,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Uu{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Uu{constructor(){super("twitter.com")}static credential(e,t){return To._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ms.credential(t,r)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Nr._fromIdTokenResponse(e,r,i),l=Uw(r);return new Fa({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Uw(r);return new Fa({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Uw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Vi{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new rh(e,t,r,i)}}function eI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(n,a,e,r):a})}async function V2(n,e,t=!1){const r=await _u(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(n,e,t=!1){const{auth:r}=n;if(Rr(r.app))return Promise.reject(Is(r));const i="reauthenticate";try{const a=await _u(n,eI(r,i,e,n),t);je(a.idToken,r,"internal-error");const l=wy(a.idToken);je(l,r,"internal-error");const{sub:c}=l;return je(n.uid===c,r,"user-mismatch"),Fa._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(n,e,t=!1){if(Rr(n.app))return Promise.reject(Is(n));const r="signIn",i=await eI(n,r,e),a=await Fa._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function j2(n,e){return tI(Ja(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(n){const e=Ja(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function F2(n,e,t){return Rr(n.app)?Promise.reject(Is(n)):j2(Yt(n),Za.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M2(n),r})}function U2(n,e,t,r){return Yt(n).onIdTokenChanged(e,t,r)}function B2(n,e,t){return Yt(n).beforeAuthStateChanged(e,t)}function Iy(n,e,t,r){return Yt(n).onAuthStateChanged(e,t,r)}function fo(n){return Yt(n).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1e3,z2=10;class rI extends nI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);u2()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,z2):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rI.type="LOCAL";const H2=rI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI extends nI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iI.type="SESSION";const sI=iI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,a)),d=await W2(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const f=xy("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function K2(n){ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function G2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Y2(){return oI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebaseLocalStorageDb",X2=1,sh="firebaseLocalStorage",lI="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qh(n,e){return n.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function J2(){const n=indexedDB.deleteDatabase(aI);return new Bu(n).toPromise()}function Wm(){const n=indexedDB.open(aI,X2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sh,{keyPath:lI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await J2(),e(await Wm()))})})}async function Bw(n,e,t){const r=Qh(n,!0).put({[lI]:e,value:t});return new Bu(r).toPromise()}async function Z2(n,e){const t=Qh(n,!1).get(e),r=await new Bu(t).toPromise();return r===void 0?null:r.value}function $w(n,e){const t=Qh(n,!0).delete(e);return new Bu(t).toPromise()}const eD=800,tD=3;class uI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>tD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(Y2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await G2(),!this.activeServiceWorker)return;this.sender=new q2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await Bw(e,ih,"1"),await $w(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Z2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$w(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Qh(i,!1).getAll();return new Bu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uI.type="LOCAL";const nD=uI;new Fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n,e){return e?xi(e):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends Ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ba(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ba(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iD(n){return tI(n.auth,new Cy(n),n.bypassAuthState)}function sD(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),L2(t,new Cy(n),n.bypassAuthState)}async function oD(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),V2(t,new Cy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iD;case"linkViaPopup":case"linkViaRedirect":return oD;case"reauthViaPopup":case"reauthViaRedirect":return sD;default:jr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Fu(2e3,1e4);class Ea extends cI{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aD.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="pendingRedirect",Dd=new Map;class uD extends cI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const r=await cD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cD(n,e){const t=fD(e),r=hD(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function dD(n,e){Dd.set(n._key(),e)}function hD(n){return xi(n._redirectPersistence)}function fD(n){return Od(lD,n.config.apiKey,n.name)}async function pD(n,e,t=!1){if(Rr(n.app))return Promise.reject(Is(n));const r=Ja(n),i=rD(r,e),l=await new uD(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=10*60*1e3;class gD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ti(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(e))}saveEventToCache(e){this.cachedEventUids.add(zw(e)),this.lastProcessedEventTime=Date.now()}}function zw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(n,e={}){return Ls(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wD=/^https?/;async function ED(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vD(n);for(const t of e)try{if(TD(t))return}catch{}jr(n,"unauthorized-domain")}function TD(n){const e=zm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!wD.test(t))return!1;if(_D.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Fu(3e4,6e4);function Hw(){const n=ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ID(n){return new Promise((e,t)=>{var r,i,a;function l(){Hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hw(),t(ti(n,"network-request-failed"))},timeout:SD.get()})}if(!((i=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ni().gapi)===null||a===void 0)&&a.load)l();else{const c=v2("iframefcb");return ni()[c]=()=>{gapi.load?l():t(ti(n,"network-request-failed"))},YS(`${y2()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Vd=null,e})}let Vd=null;function xD(n){return Vd=Vd||ID(n),Vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Fu(5e3,15e3),bD="__/auth/iframe",PD="emulator/auth/iframe",AD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kD(n){const e=n.config;je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_y(e,PD):`https://${n.config.authDomain}/${bD}`,r={apiKey:e.apiKey,appName:n.name,v:qa},i=RD.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ou(r).slice(1)}`}async function ND(n){const e=await xD(n),t=ni().gapi;return je(t,n,"internal-error"),e.open({where:document.body,url:kD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AD,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ti(n,"network-request-failed"),c=ni().setTimeout(()=>{a(l)},CD.get());function d(){ni().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DD=500,VD=600,LD="_blank",jD="http://localhost";class Ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MD(n,e,t,r=DD,i=VD){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},OD),{width:r.toString(),height:i.toString(),top:a,left:l}),f=vn().toLowerCase();t&&(c=zS(f)?LD:t),BS(f)&&(e=e||jD,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[S,I])=>`${v}${S}=${I},`,"");if(l2(f)&&c!=="_self")return FD(e||"",c),new Ww(null);const y=window.open(e||"",c,m);je(y,n,"popup-blocked");try{y.focus()}catch{}return new Ww(y)}function FD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__/auth/handler",BD="emulator/auth/handler",$D=encodeURIComponent("fac");async function qw(n,e,t,r,i,a){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qa,eventId:i};if(e instanceof ZS){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",yA(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Uu){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await n._getAppCheckToken(),f=d?`#${$D}=${encodeURIComponent(d)}`:"";return`${zD(n)}?${Ou(c).slice(1)}${f}`}function zD({config:n}){return n.emulator?_y(n,BD):`https://${n.authDomain}/${UD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class HD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sI,this._completeRedirectFn=pD,this._overrideRedirectResult=dD}async _openPopup(e,t,r,i){var a;Ni((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await qw(e,t,r,zm(),i);return MD(e,l,xy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await qw(e,t,r,zm(),i);return K2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ni(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ND(e),r=new gD(e);return t.register("authEvent",i=>(je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tm,{type:tm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[tm];l!==void 0&&t(!!l),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ED(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GS()||$S()||Ey()}}const WD=HD;var Kw="@firebase/auth",Gw="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GD(n){Ra(new vo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(n)},f=new p2(r,i,a,d);return I2(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new vo("auth-internal",e=>{const t=Ja(e.getProvider("auth").getImmediate());return(r=>new qD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(Kw,Gw,KD(n)),Es(Kw,Gw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=5*60,YD=KT("authIdTokenMaxAge")||QD;let Qw=null;const XD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YD)return;const i=t==null?void 0:t.token;Qw!==i&&(Qw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JD(n=ZT()){const e=bg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=S2(n,{popupRedirectResolver:WD,persistence:[nD,H2,sI]}),r=KT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=XD(a.toString());B2(t,l,()=>l(t.currentUser)),U2(t,c=>l(c))}}const i=WT("auth");return i&&x2(t,`http://${i}`),t}function ZD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}m2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ti("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",ZD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GD("Browser");const eV={apiKey:"AIzaSyDgaiFJLZ9c23CFHxylywvMJo6qKk19ORc",authDomain:"reverse-saas-98918.firebaseapp.com",projectId:"reverse-saas-98918",storageBucket:"reverse-saas-98918.firebasestorage.app",messagingSenderId:"536068162304",appId:"1:536068162304:web:29928e71ffa3d4c6b5a9e5"},hI=JT(eV),kr=JD(hI),it=IO(hI);var nm={exports:{}},Yw;function tV(){return Yw||(Yw=1,(()=>{var n={296:(i,a,l)=>{var c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,y=parseInt,v=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,S=typeof self=="object"&&self&&self.Object===Object&&self,I=v||S||Function("return this")(),R=Object.prototype.toString,P=Math.max,j=Math.min,x=function(){return I.Date.now()};function O(B){var Q=typeof B;return!!B&&(Q=="object"||Q=="function")}function M(B){if(typeof B=="number")return B;if(function(b){return typeof b=="symbol"||function(k){return!!k&&typeof k=="object"}(b)&&R.call(b)=="[object Symbol]"}(B))return NaN;if(O(B)){var Q=typeof B.valueOf=="function"?B.valueOf():B;B=O(Q)?Q+"":Q}if(typeof B!="string")return B===0?B:+B;B=B.replace(c,"");var D=f.test(B);return D||m.test(B)?y(B.slice(2),D?2:8):d.test(B)?NaN:+B}i.exports=function(B,Q,D){var b,k,L,F,$,V,ge=0,ke=!1,ye=!1,Ie=!0;if(typeof B!="function")throw new TypeError("Expected a function");function te(pe){var Pe=b,Ne=k;return b=k=void 0,ge=pe,F=B.apply(Ne,Pe)}function fe(pe){var Pe=pe-V;return V===void 0||Pe>=Q||Pe<0||ye&&pe-ge>=L}function re(){var pe=x();if(fe(pe))return z(pe);$=setTimeout(re,function(Pe){var Ne=Q-(Pe-V);return ye?j(Ne,L-(Pe-ge)):Ne}(pe))}function z(pe){return $=void 0,Ie&&b?te(pe):(b=k=void 0,F)}function J(){var pe=x(),Pe=fe(pe);if(b=arguments,k=this,V=pe,Pe){if($===void 0)return function(Ne){return ge=Ne,$=setTimeout(re,Q),ke?te(Ne):F}(V);if(ye)return $=setTimeout(re,Q),te(V)}return $===void 0&&($=setTimeout(re,Q)),F}return Q=M(Q)||0,O(D)&&(ke=!!D.leading,L=(ye="maxWait"in D)?P(M(D.maxWait)||0,Q):L,Ie="trailing"in D?!!D.trailing:Ie),J.cancel=function(){$!==void 0&&clearTimeout($),ge=0,b=V=k=$=void 0},J.flush=function(){return $===void 0?F:z(x())},J}},96:(i,a,l)=>{var c="Expected a function",d=NaN,f="[object Symbol]",m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,S=/^0o[0-7]+$/i,I=parseInt,R=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,P=typeof self=="object"&&self&&self.Object===Object&&self,j=R||P||Function("return this")(),x=Object.prototype.toString,O=Math.max,M=Math.min,B=function(){return j.Date.now()};function Q(b){var k=typeof b;return!!b&&(k=="object"||k=="function")}function D(b){if(typeof b=="number")return b;if(function(F){return typeof F=="symbol"||function($){return!!$&&typeof $=="object"}(F)&&x.call(F)==f}(b))return d;if(Q(b)){var k=typeof b.valueOf=="function"?b.valueOf():b;b=Q(k)?k+"":k}if(typeof b!="string")return b===0?b:+b;b=b.replace(m,"");var L=v.test(b);return L||S.test(b)?I(b.slice(2),L?2:8):y.test(b)?d:+b}i.exports=function(b,k,L){var F=!0,$=!0;if(typeof b!="function")throw new TypeError(c);return Q(L)&&(F="leading"in L?!!L.leading:F,$="trailing"in L?!!L.trailing:$),function(V,ge,ke){var ye,Ie,te,fe,re,z,J=0,pe=!1,Pe=!1,Ne=!0;if(typeof V!="function")throw new TypeError(c);function $e(gt){var Ht=ye,Pt=Ie;return ye=Ie=void 0,J=gt,fe=V.apply(Pt,Ht)}function Xe(gt){var Ht=gt-z;return z===void 0||Ht>=ge||Ht<0||Pe&&gt-J>=te}function Ke(){var gt=B();if(Xe(gt))return ot(gt);re=setTimeout(Ke,function(Ht){var Pt=ge-(Ht-z);return Pe?M(Pt,te-(Ht-J)):Pt}(gt))}function ot(gt){return re=void 0,Ne&&ye?$e(gt):(ye=Ie=void 0,fe)}function mt(){var gt=B(),Ht=Xe(gt);if(ye=arguments,Ie=this,z=gt,Ht){if(re===void 0)return function(Pt){return J=Pt,re=setTimeout(Ke,ge),pe?$e(Pt):fe}(z);if(Pe)return re=setTimeout(Ke,ge),$e(z)}return re===void 0&&(re=setTimeout(Ke,ge)),fe}return ge=D(ge)||0,Q(ke)&&(pe=!!ke.leading,te=(Pe="maxWait"in ke)?O(D(ke.maxWait)||0,ge):te,Ne="trailing"in ke?!!ke.trailing:Ne),mt.cancel=function(){re!==void 0&&clearTimeout(re),J=0,ye=z=Ie=re=void 0},mt.flush=function(){return re===void 0?fe:ot(B())},mt}(b,k,{leading:F,maxWait:k,trailing:$})}},703:(i,a,l)=>{var c=l(414);function d(){}function f(){}f.resetWarningCache=d,i.exports=function(){function m(S,I,R,P,j,x){if(x!==c){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}}function y(){return m}m.isRequired=m;var v={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:y,element:m,elementType:m,instanceOf:y,node:m,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:f,resetWarningCache:d};return v.PropTypes=v,v}},697:(i,a,l)=>{i.exports=l(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function t(i){var a=e[i];if(a!==void 0)return a.exports;var l=e[i]={exports:{}};return n[i](l,l.exports,t),l.exports}t.n=i=>{var a=i&&i.__esModule?()=>i.default:()=>i;return t.d(a,{a}),a},t.d=(i,a)=>{for(var l in a)t.o(a,l)&&!t.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:a[l]})},t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),t.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{t.r(r),t.d(r,{LazyLoadComponent:()=>Ht,LazyLoadImage:()=>Mi,trackWindowScroll:()=>fe});const i=Ih();var a=t.n(i),l=t(697);function c(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function d(ae){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},d(ae)}function f(ae,q){var se=Object.keys(ae);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ae);q&&(ce=ce.filter(function(ze){return Object.getOwnPropertyDescriptor(ae,ze).enumerable})),se.push.apply(se,ce)}return se}function m(ae,q,se){return(q=v(q))in ae?Object.defineProperty(ae,q,{value:se,enumerable:!0,configurable:!0,writable:!0}):ae[q]=se,ae}function y(ae,q){for(var se=0;se<q.length;se++){var ce=q[se];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(ae,v(ce.key),ce)}}function v(ae){var q=function(se,ce){if(d(se)!=="object"||se===null)return se;var ze=se[Symbol.toPrimitive];if(ze!==void 0){var Ue=ze.call(se,"string");if(d(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(ae);return d(q)==="symbol"?q:String(q)}function S(ae,q){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ce){return se.__proto__=ce,se},S(ae,q)}function I(ae){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},I(ae)}var R=function(ae){ae.forEach(function(q){q.isIntersecting&&q.target.onVisible()})},P={},j=function(ae){(function(ee,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(ne&&ne.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),ne&&S(ee,ne)})(Ye,ae);var q,se,ce,ze,Ue=(ce=Ye,ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ee,ne=I(ce);if(ze){var xe=I(this).constructor;ee=Reflect.construct(ne,arguments,xe)}else ee=ne.apply(this,arguments);return function(Ee,_e){if(_e&&(d(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(qe){if(qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qe}(Ee)}(this,ee)});function Ye(ee){var ne;if(function(Ee,_e){if(!(Ee instanceof _e))throw new TypeError("Cannot call a class as a function")}(this,Ye),(ne=Ue.call(this,ee)).supportsObserver=!ee.scrollPosition&&ee.useIntersectionObserver&&c(),ne.supportsObserver){var xe=ee.threshold;ne.observer=function(Ee){return P[Ee]=P[Ee]||new IntersectionObserver(R,{rootMargin:Ee+"px"}),P[Ee]}(xe)}return ne}return q=Ye,se=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ne=this.placeholder.getBoundingClientRect(),xe=this.placeholder.style,Ee=parseInt(xe.getPropertyValue("margin-left"),10)||0,_e=parseInt(xe.getPropertyValue("margin-top"),10)||0;return{bottom:ee.y+ne.bottom+_e,left:ee.x+ne.left+Ee,right:ee.x+ne.right+Ee,top:ee.y+ne.top+_e}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var ee=this.props,ne=ee.scrollPosition,xe=ee.threshold,Ee=this.getPlaceholderBoundingBox(ne),_e=ne.y+window.innerHeight,qe=ne.x,ut=ne.x+window.innerWidth,dt=ne.y;return dt-xe<=Ee.bottom&&_e+xe>=Ee.top&&qe-xe<=Ee.right&&ut+xe>=Ee.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var ee=this,ne=this.props,xe=ne.className,Ee=ne.height,_e=ne.placeholder,qe=ne.style,ut=ne.width;if(_e&&typeof _e.type!="function")return a().cloneElement(_e,{ref:function(at){return ee.placeholder=at}});var dt=function(at){for(var ht=1;ht<arguments.length;ht++){var ct=arguments[ht]!=null?arguments[ht]:{};ht%2?f(Object(ct),!0).forEach(function(At){m(at,At,ct[At])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(ct)):f(Object(ct)).forEach(function(At){Object.defineProperty(at,At,Object.getOwnPropertyDescriptor(ct,At))})}return at}({display:"inline-block"},qe);return ut!==void 0&&(dt.width=ut),Ee!==void 0&&(dt.height=Ee),a().createElement("span",{className:xe,ref:function(at){return ee.placeholder=at},style:dt},_e)}}],se&&y(q.prototype,se),Object.defineProperty(q,"prototype",{writable:!1}),Ye}(a().Component);j.propTypes={onVisible:l.PropTypes.func.isRequired,className:l.PropTypes.string,height:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string]),placeholder:l.PropTypes.element,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,scrollPosition:l.PropTypes.shape({x:l.PropTypes.number.isRequired,y:l.PropTypes.number.isRequired}),width:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string])},j.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const x=j;var O=t(296),M=t.n(O),B=t(96),Q=t.n(B),D=function(ae){var q=getComputedStyle(ae,null);return q.getPropertyValue("overflow")+q.getPropertyValue("overflow-y")+q.getPropertyValue("overflow-x")};const b=function(ae){if(!(ae instanceof HTMLElement))return window;for(var q=ae;q&&q instanceof HTMLElement;){if(/(scroll|auto)/.test(D(q)))return q;q=q.parentNode}return window};function k(ae){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},k(ae)}var L=["delayMethod","delayTime"];function F(){return F=Object.assign?Object.assign.bind():function(ae){for(var q=1;q<arguments.length;q++){var se=arguments[q];for(var ce in se)Object.prototype.hasOwnProperty.call(se,ce)&&(ae[ce]=se[ce])}return ae},F.apply(this,arguments)}function $(ae,q){for(var se=0;se<q.length;se++){var ce=q[se];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(ae,(ze=function(Ue,Ye){if(k(Ue)!=="object"||Ue===null)return Ue;var ee=Ue[Symbol.toPrimitive];if(ee!==void 0){var ne=ee.call(Ue,"string");if(k(ne)!=="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(ce.key),k(ze)==="symbol"?ze:String(ze)),ce)}var ze}function V(ae,q){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ce){return se.__proto__=ce,se},V(ae,q)}function ge(ae,q){if(q&&(k(q)==="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ke(ae)}function ke(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function ye(ae){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},ye(ae)}var Ie=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},te=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const fe=function(ae){var q=function(se){(function(xe,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),Ee&&V(xe,Ee)})(ne,se);var ce,ze,Ue,Ye,ee=(Ue=ne,Ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var xe,Ee=ye(Ue);if(Ye){var _e=ye(this).constructor;xe=Reflect.construct(Ee,arguments,_e)}else xe=Ee.apply(this,arguments);return ge(this,xe)});function ne(xe){var Ee;if(function(qe,ut){if(!(qe instanceof ut))throw new TypeError("Cannot call a class as a function")}(this,ne),(Ee=ee.call(this,xe)).useIntersectionObserver=xe.useIntersectionObserver&&c(),Ee.useIntersectionObserver)return ge(Ee);var _e=Ee.onChangeScroll.bind(ke(Ee));return xe.delayMethod==="debounce"?Ee.delayedScroll=M()(_e,xe.delayTime):xe.delayMethod==="throttle"&&(Ee.delayedScroll=Q()(_e,xe.delayTime)),Ee.state={scrollPosition:{x:Ie(),y:te()}},Ee.baseComponentRef=a().createRef(),Ee}return ce=ne,(ze=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||b(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=b(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:Ie(),y:te()}})}},{key:"render",value:function(){var xe=this.props,Ee=(xe.delayMethod,xe.delayTime,function(qe,ut){if(qe==null)return{};var dt,at,ht=function(At,nn){if(At==null)return{};var Bn,Zn,Fi={},er=Object.keys(At);for(Zn=0;Zn<er.length;Zn++)Bn=er[Zn],nn.indexOf(Bn)>=0||(Fi[Bn]=At[Bn]);return Fi}(qe,ut);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(qe);for(at=0;at<ct.length;at++)dt=ct[at],ut.indexOf(dt)>=0||Object.prototype.propertyIsEnumerable.call(qe,dt)&&(ht[dt]=qe[dt])}return ht}(xe,L)),_e=this.useIntersectionObserver?null:this.state.scrollPosition;return a().createElement(ae,F({forwardRef:this.baseComponentRef,scrollPosition:_e},Ee))}}])&&$(ce.prototype,ze),Object.defineProperty(ce,"prototype",{writable:!1}),ne}(a().Component);return q.propTypes={delayMethod:l.PropTypes.oneOf(["debounce","throttle"]),delayTime:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool},q.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},q};function re(ae){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},re(ae)}function z(ae,q){for(var se=0;se<q.length;se++){var ce=q[se];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(ae,(ze=function(Ue,Ye){if(re(Ue)!=="object"||Ue===null)return Ue;var ee=Ue[Symbol.toPrimitive];if(ee!==void 0){var ne=ee.call(Ue,"string");if(re(ne)!=="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(ce.key),re(ze)==="symbol"?ze:String(ze)),ce)}var ze}function J(ae,q){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ce){return se.__proto__=ce,se},J(ae,q)}function pe(ae){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},pe(ae)}var Pe=function(ae){(function(ee,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(ne&&ne.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),ne&&J(ee,ne)})(Ye,ae);var q,se,ce,ze,Ue=(ce=Ye,ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ee,ne=pe(ce);if(ze){var xe=pe(this).constructor;ee=Reflect.construct(ne,arguments,xe)}else ee=ne.apply(this,arguments);return function(Ee,_e){if(_e&&(re(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(qe){if(qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qe}(Ee)}(this,ee)});function Ye(ee){return function(ne,xe){if(!(ne instanceof xe))throw new TypeError("Cannot call a class as a function")}(this,Ye),Ue.call(this,ee)}return q=Ye,(se=[{key:"render",value:function(){return a().createElement(x,this.props)}}])&&z(q.prototype,se),Object.defineProperty(q,"prototype",{writable:!1}),Ye}(a().Component);const Ne=fe(Pe);function $e(ae){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},$e(ae)}function Xe(ae,q){for(var se=0;se<q.length;se++){var ce=q[se];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(ae,(ze=function(Ue,Ye){if($e(Ue)!=="object"||Ue===null)return Ue;var ee=Ue[Symbol.toPrimitive];if(ee!==void 0){var ne=ee.call(Ue,"string");if($e(ne)!=="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(ce.key),$e(ze)==="symbol"?ze:String(ze)),ce)}var ze}function Ke(ae,q){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ce){return se.__proto__=ce,se},Ke(ae,q)}function ot(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function mt(ae){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},mt(ae)}var gt=function(ae){(function(ee,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(ne&&ne.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),ne&&Ke(ee,ne)})(Ye,ae);var q,se,ce,ze,Ue=(ce=Ye,ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ee,ne=mt(ce);if(ze){var xe=mt(this).constructor;ee=Reflect.construct(ne,arguments,xe)}else ee=ne.apply(this,arguments);return function(Ee,_e){if(_e&&($e(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ot(Ee)}(this,ee)});function Ye(ee){var ne;(function(ut,dt){if(!(ut instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,Ye),ne=Ue.call(this,ee);var xe=ee.afterLoad,Ee=ee.beforeLoad,_e=ee.scrollPosition,qe=ee.visibleByDefault;return ne.state={visible:qe},qe&&(Ee(),xe()),ne.onVisible=ne.onVisible.bind(ot(ne)),ne.isScrollTracked=!!(_e&&Number.isFinite(_e.x)&&_e.x>=0&&Number.isFinite(_e.y)&&_e.y>=0),ne}return q=Ye,(se=[{key:"componentDidUpdate",value:function(ee,ne){ne.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var ee=this.props,ne=ee.className,xe=ee.delayMethod,Ee=ee.delayTime,_e=ee.height,qe=ee.placeholder,ut=ee.scrollPosition,dt=ee.style,at=ee.threshold,ht=ee.useIntersectionObserver,ct=ee.width;return this.isScrollTracked||ht&&c()?a().createElement(x,{className:ne,height:_e,onVisible:this.onVisible,placeholder:qe,scrollPosition:ut,style:dt,threshold:at,useIntersectionObserver:ht,width:ct}):a().createElement(Ne,{className:ne,delayMethod:xe,delayTime:Ee,height:_e,onVisible:this.onVisible,placeholder:qe,style:dt,threshold:at,width:ct})}}])&&Xe(q.prototype,se),Object.defineProperty(q,"prototype",{writable:!1}),Ye}(a().Component);gt.propTypes={afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool},gt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Ht=gt;function Pt(ae){return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},Pt(ae)}var ai=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function li(ae,q){var se=Object.keys(ae);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ae);q&&(ce=ce.filter(function(ze){return Object.getOwnPropertyDescriptor(ae,ze).enumerable})),se.push.apply(se,ce)}return se}function Li(ae){for(var q=1;q<arguments.length;q++){var se=arguments[q]!=null?arguments[q]:{};q%2?li(Object(se),!0).forEach(function(ce){js(ae,ce,se[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(se)):li(Object(se)).forEach(function(ce){Object.defineProperty(ae,ce,Object.getOwnPropertyDescriptor(se,ce))})}return ae}function js(ae,q,se){return(q=Jn(q))in ae?Object.defineProperty(ae,q,{value:se,enumerable:!0,configurable:!0,writable:!0}):ae[q]=se,ae}function ui(){return ui=Object.assign?Object.assign.bind():function(ae){for(var q=1;q<arguments.length;q++){var se=arguments[q];for(var ce in se)Object.prototype.hasOwnProperty.call(se,ce)&&(ae[ce]=se[ce])}return ae},ui.apply(this,arguments)}function ji(ae,q){for(var se=0;se<q.length;se++){var ce=q[se];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(ae,Jn(ce.key),ce)}}function Jn(ae){var q=function(se,ce){if(Pt(se)!=="object"||se===null)return se;var ze=se[Symbol.toPrimitive];if(ze!==void 0){var Ue=ze.call(se,"string");if(Pt(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(ae);return Pt(q)==="symbol"?q:String(q)}function Un(ae,q){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ce){return se.__proto__=ce,se},Un(ae,q)}function Fr(ae){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},Fr(ae)}var Ur=function(ae){(function(ee,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(ne&&ne.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),ne&&Un(ee,ne)})(Ye,ae);var q,se,ce,ze,Ue=(ce=Ye,ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ee,ne=Fr(ce);if(ze){var xe=Fr(this).constructor;ee=Reflect.construct(ne,arguments,xe)}else ee=ne.apply(this,arguments);return function(Ee,_e){if(_e&&(Pt(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(qe){if(qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qe}(Ee)}(this,ee)});function Ye(ee){var ne;return function(xe,Ee){if(!(xe instanceof Ee))throw new TypeError("Cannot call a class as a function")}(this,Ye),(ne=Ue.call(this,ee)).state={loaded:!1},ne}return q=Ye,(se=[{key:"onImageLoad",value:function(){var ee=this;return this.state.loaded?null:function(ne){ee.props.onLoad(ne),ee.props.afterLoad(),ee.setState({loaded:!0})}}},{key:"getImg",value:function(){var ee=this.props,ne=(ee.afterLoad,ee.beforeLoad,ee.delayMethod,ee.delayTime,ee.effect,ee.placeholder,ee.placeholderSrc,ee.scrollPosition,ee.threshold,ee.useIntersectionObserver,ee.visibleByDefault,ee.wrapperClassName,ee.wrapperProps,function(xe,Ee){if(xe==null)return{};var _e,qe,ut=function(at,ht){if(at==null)return{};var ct,At,nn={},Bn=Object.keys(at);for(At=0;At<Bn.length;At++)ct=Bn[At],ht.indexOf(ct)>=0||(nn[ct]=at[ct]);return nn}(xe,Ee);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(xe);for(qe=0;qe<dt.length;qe++)_e=dt[qe],Ee.indexOf(_e)>=0||Object.prototype.propertyIsEnumerable.call(xe,_e)&&(ut[_e]=xe[_e])}return ut}(ee,ai));return a().createElement("img",ui({},ne,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var ee=this.props,ne=ee.beforeLoad,xe=ee.className,Ee=ee.delayMethod,_e=ee.delayTime,qe=ee.height,ut=ee.placeholder,dt=ee.scrollPosition,at=ee.style,ht=ee.threshold,ct=ee.useIntersectionObserver,At=ee.visibleByDefault,nn=ee.width;return a().createElement(Ht,{beforeLoad:ne,className:xe,delayMethod:Ee,delayTime:_e,height:qe,placeholder:ut,scrollPosition:dt,style:at,threshold:ht,useIntersectionObserver:ct,visibleByDefault:At,width:nn},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(ee){var ne=this.props,xe=ne.effect,Ee=ne.height,_e=ne.placeholderSrc,qe=ne.width,ut=ne.wrapperClassName,dt=ne.wrapperProps,at=this.state.loaded,ht=at?" lazy-load-image-loaded":"",ct=at||!_e?{}:{backgroundImage:"url(".concat(_e,")"),backgroundSize:"100% 100%"};return a().createElement("span",ui({className:ut+" lazy-load-image-background "+xe+ht,style:Li(Li({},ct),{},{color:"transparent",display:"inline-block",height:Ee,width:qe})},dt),ee)}},{key:"render",value:function(){var ee=this.props,ne=ee.effect,xe=ee.placeholderSrc,Ee=ee.visibleByDefault,_e=ee.wrapperClassName,qe=ee.wrapperProps,ut=this.getLazyLoadImage();return(ne||xe)&&!Ee||_e||qe?this.getWrappedLazyLoadImage(ut):ut}}])&&ji(q.prototype,se),Object.defineProperty(q,"prototype",{writable:!1}),Ye}(a().Component);Ur.propTypes={onLoad:l.PropTypes.func,afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,delayMethod:l.PropTypes.string,delayTime:l.PropTypes.number,effect:l.PropTypes.string,placeholderSrc:l.PropTypes.string,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool,wrapperClassName:l.PropTypes.string,wrapperProps:l.PropTypes.object},Ur.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Mi=Ur})(),nm.exports=r})()),nm.exports}var nV=tV();function rV(){const{slug:n}=_n(),[e,t]=A.useState(null);return A.useEffect(()=>{(async()=>{try{const i=vt(it,"ReVerse",n),a=await An(i);a.exists()?t(a.data()):console.error("Document not found")}catch(i){console.error("Error fetching hero data:",i)}})()},[n]),e?E.jsx("header",{className:"header",children:E.jsxs("div",{className:"header-container",children:[E.jsxs("div",{className:"header-text",children:[E.jsx("h1",{children:e.heroTitle}),E.jsx("p",{children:e.heroSubtitle})]}),E.jsx("div",{className:"header-image",children:E.jsx(nV.LazyLoadImage,{src:e.heroImage,alt:"Hero",effect:"blur"})})]})}):null}const Yh=A.createContext(),fI=({children:n,slug:e})=>{const t=()=>{const d=localStorage.getItem(`cartItems_${e}`);return d?JSON.parse(d):{}},[r,i]=A.useState(t);A.useEffect(()=>{e&&localStorage.setItem(`cartItems_${e}`,JSON.stringify(r))},[r,e]);const a=(d,f)=>{if(!d||!(f!=null&&f.label)||!(f!=null&&f.price))return;const m=`${d.id}_${f.label}`;i(y=>{const v=y[m]||{id:d.id,name:d.name,size:f.label,price:f.price,quantity:0,image:d.image||"",collection:f.collection||"products"};return{...y,[m]:{...v,quantity:v.quantity+1}}})},l=(d,f,m="products")=>{const y=`${d}_${f}`;i(v=>{const S=v[y];if(!S)return v;if(S.quantity<=1){const I={...v};return delete I[y],I}return{...v,[y]:{...S,quantity:S.quantity-1}}})},c=()=>{i({}),localStorage.removeItem(`cartItems_${e}`)};return E.jsx(Yh.Provider,{value:{cartItems:r,addToCart:a,removeFromCart:l,clearCart:c},children:n})};function iV({title:n,description:e}){return E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"menu-section__title fade-in",children:n}),E.jsx("p",{className:"menu-section__description fade-in delay",children:e})]})}function sV({items:n,selectedSizes:e,sizeErrors:t,cartItems:r,handleSizeSelect:i,handleAddToCart:a,removeFromCart:l,renderDescription:c,specialTitle:d}){return n!=null&&n.length?(A.useEffect(()=>{n.forEach(f=>{const m=e[f.id],y=(f.sizes||[]).reduce((I,R)=>(R.label&&R.price&&(I[R.label]={price:R.price}),I),{}),v=Object.keys(y),S=v.length===1?v[0]:null;S&&!m&&i(f.id,S)})},[n,e,i]),E.jsxs("div",{className:"menu-special-section",children:[E.jsx("h3",{className:"menu-special-section__title fade-in",children:d}),E.jsx("div",{className:"menu-products-container",children:n.map((f,m)=>{var j,x;const y=e[f.id],v=t[f.id]||!1,S=(f.sizes||[]).reduce((O,M)=>(M.label&&M.price&&(O[M.label]={price:M.price}),O),{}),I=Object.keys(S),R=y?`${f.id}_${y}`:null,P=R&&((j=r[R])!=null&&j.quantity)?r[R].quantity:0;return E.jsxs("div",{className:"menu-item-special fade-in",style:{animationDelay:`${m*.2}s`},children:[E.jsx("img",{loading:"lazy",className:"menu-item__image",src:f.image,alt:f.name}),E.jsx("h4",{className:"menu-item__name",children:f.name}),c(f),E.jsxs("div",{children:[f.oldPrice&&E.jsxs("span",{className:"menu-item__old-price",children:["$",f.oldPrice]}),E.jsx("span",{className:"menu-item__price",children:y?`$${(x=S[y])==null?void 0:x.price.toFixed(2)}`:`$${f.price}`})]}),I.length>1&&E.jsx("div",{className:"choices",children:Object.entries(S).map(([O,M])=>E.jsxs("button",{className:`choice-button ${y===O?"selected":""} ${v?"error-border":""}`,onClick:()=>i(f.id,O),children:[O," ($",parseFloat(M.price).toFixed(2),")"]},O))}),E.jsx("div",{className:"menu-item__actions",children:P===0?E.jsx("button",{className:"add-btn",onClick:()=>a(f,S,"specialItems"),children:"+"}):E.jsxs("div",{className:"quantity-controls",children:[E.jsx("button",{className:"qty-btn",onClick:()=>l(f.id,y,"specialItems"),children:"-"}),E.jsx("span",{className:"qty-count",children:P}),E.jsx("button",{className:"qty-btn",onClick:()=>{var O;return a(f,{label:y,price:((O=S[y])==null?void 0:O.price)||f.price,collection:"specialItems"})},children:"+"})]})})]},`${f.id}`)})})]})):null}function oV({categories:n=[],selectedCategory:e,setSelectedCategory:t}){return n.length?E.jsx("div",{className:"category-list",children:n.map((r,i)=>{const a=typeof r=="string"?r:r.name,l=typeof r=="object"&&r.image;return E.jsxs("button",{onClick:()=>t(c=>c===a?null:a),className:`category-btn fade-in ${e===a?"active":""}`,style:{animationDelay:`${i*.1}s`},children:[l&&E.jsx("img",{className:"category-btn__img",src:l,alt:a,width:"50"}),E.jsx("p",{children:a})]},a)})}):null}const aV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAYNSURBVGhD1Vo9TyRHEJ2Z5RYjIV2GEYGxBMYSgS8gP0iwiJwAoSNfRkCwASGSTUJqzA9ADh2tnQBHgqUNEewJIWFA3AkCAiSvEOJLsOv3aqpaveO1fMcO7GxJj/7Yme56XVX9NQS1Wi0MIPPz8xESgmXL5xL5Dg8vRkdHJSWGh4fzms+PjIxImoTV81l9npD3CbY3PT1t/Ujq6WUIWaf11NUgEpKQkpIXvIcdAXakyhgBU8QU62wAqfcUb1Tv2tL2rQ/27SMyHT0ilNAsYhASimQjRsIgihmBYrH4+eXl5Zvb29ulh4eHYrVafQ/8jfadsA6/bd7c3CxVKpXpvb29Ib4/ODhoxIyUQQYQEB3UWjmPhE8mtgZSIaAP+USsMSPi3ILKQ6nC/f39Zqzqpwvfvbi4eIP26sgkLFNHxtORMCPUEyE8P5XGvEZl9NbW1now8j8lR7wZgaXes030Ye4mKfvW/usIeWQcESnYD0rCXnQEFJ3n5+fj7FT7T13YNl2UfRFKyvSoIwP4ZFyGqT1QR4KNqRWWtL8nF/T1M12X/SsaWcYRMQLCSNMQLwRbW1tWDhCUXw4NDf2Wy+W+Yfm5BK774fj4eBzu/AHFWlwbp5hBg56enhoGOa6nS3kxYTBrdHJmeUpX+j9h34eHh1+piwm4DOgaZusOjRG7k5HxX2g1CRPqQF1ML2/yERcT3X1r2AOcmeifWSBhgmm67MVMHRGFMw8r3QL3nIH9scIJgIPsWcQnE1sDELPxQU5/+m7mhNO/6Qo0JGIbv84suVRSqBuXAuhpRIxMTAIQllxd9Z3MyvX1NXcAFgaOiCMBZNoaJtwaNQh8YSNEshwbSbm6uiqo3kIkgnm4mHB1DLu6ur5H2haSz+e/QxJCf9l9yIoICbHg9EdR9FrLmRdsl16XSqWXWhQyEhs86KjVUpODg4Pa7OysgPm0RXfJstKbWwVwq9StgY6CcrksYD5t6ejoeMWUG9yIO12tfNadbRoCnb9AjDAbRmBD/6qFYdjPmnYS6PwKsS15F+xtSuQltlQS6PzDYOe5/YYVjxXGAM4NWoqF5eXlZcnPzMwE6FTyJr29vYJmBGQ+QyKXDty2R5hVmiKyuroaLC4uaunjZG5uLpiYmNDS48SI0LVCjBxns4r80n4isy7P5y+wCQt3d3f/aiZO6FrJKXZnZ8dZaWFhIRgYGJC8SXd3t+CxwjM9FsavwaHKsuyzcAL7nWZJU7a3t2tjY2MC5tMWXu6p/rIgUkLsenlT0VYCnd/pOhJw0xgA3BqXpaaNBGenTbeOIFNjYX19/Q+paSM5PT19p1lZR7ifZxrC59a5q+QPacjZ2VmwsrIi+cnJyX+tI80I3OpPbFF4fg8Q7DJz2Vk9z5t1jaPMC2baH6gz9QfcUZeQu6w0b9ifSngcp76AI2KzFqVaKBQqCKBftJxZubu7+1WzdKs4o5dzZCV3WhsbG5m6YUyKWYPhoCFh98DuOsiQ5yWYvpc5we5BToUK+9SQ4/U8iRgrIUKm/M6n72ZGqBP0Y2zYoIvugNw02r2vI0Iw8HlxrG20XOhSpVKp0Q0j9c9x/RA2FJhJgl9PjcHJyUl/X1/f2yiKWnro4uZwf3//26mpKcYHPzxx3ZC1AzHuPvZQ+Zy5mMJZ5ujoqOUfeqC4+zaiutVZAxADcPSFDOATMbTsgw9duwEJiWedbal3DFZ4lT4ZR4jBT/98zgmAfVlMsH+dnYQIQD0N8f8G8I/3zdp9glPYy+4DEKe/p7QO28YebVz7EygJ0Un1c/84oLpLTMuGERAy9qDCJ+P2ZFw4ebWfJiFujbCr+NH79lFnBRtgTf3BN/3jP0x9yyhkFLwGHRkDLcSTmurzycJ3uVm1zwTsy1yJ8OJBkCBgqYgjAghTfdjcLEnIrOTI0EIMSt4f07epXNJaHHHW4bciRn6JA2DKJ93I64dwJADfEvKfQgTywkEyfmUDyxDWsBHx4RShUqqY/AsGSTK1Oi075Vn2lU8sA/5g+v8V5IMiafIHg2MO/BchgygBODJMk0obVGmBP/pGQlPrz9fDYEI9IUH4D73WUcZJ0wQDAAAAAElFTkSuQmCC",lV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK/SURBVHgBzZhNbxJBGMf/M922JGrEeFF7WU2aWKQEEj0aqQevtBfP9QNo6cnoRTh48FTrFyhnL+XqSTjXBNryltjonoxHFGuksIzP8NZSdsvwtvBLlp2dGXb/eZ6ZZ54Zhj5IiZRbg8vPIEIAozt0AaG32hmYIQADEOkakPQxTxx9wFQ65UVeNyE2qLhOlxvqFElgnAPRJbZk9Op8oZiGJWYjDHwDQ0KiYr1E2Yo5FPkgh9ghs+sYEfQxcmNtzcu8aat2blWZEbkwjYvPoxQiabyPpzIiE4aKmEORjdBtC2OFb1kJ6nDTgThY5dB24RAC5soyW07gvBg5Y2pjcE0POcUKTm4HWKAon9puorjwxlkhEuaew/xO+0n+NOPId0yIlrvqlpFWwQRhmKl/nw1rlXffPqBwfIS7lxbx8s5zDEoF5WuaCTNoE26UkEL2flMMY0oriy2zcIU4megRpoMgp1XXj6lA+KV/dEwFQtfQR0pQOP6KUvVPR13ruVQtYe9Xqus/D64GoAZzM1oUhWJvPPnyFD/KP1W7Y2H+Bj7d/6jcX7qpiKlAFKVlpG2VBrGVVV7kXqPw96jujreLr7rab5F1FElrlIGlVWeU1YuvaJcvbFdHpGlqm0lMBTzBK6j0lcGPiwr+JXkzl0hgoogY6TC0ehFmlJaFIAbg8fWHWHDdrE/jQaEEKyrv7dUtK3K7FHBW4Tgi5mX3nslSe7k+QVlWOB1zjJZVOsTIsUPuWoOD1FDdlGMF58VIZOpnorYJB6B9WcTHfPHOOgv2aU8zQ3sbjAmyQNjDPNvoEmgDbbIoKnO5h9IxOgwSsk5CLAOtbb4p98OUl67I0Y7R8J7eF7ATIlFKXOk0Qp/FHGXwTE79vo5E6IqRiO2zA3UoMWfJikKIThKCVGweFp26sXHKIA+LkCaTx8so77d2iyr8B6Fv/i4/597HAAAAAElFTkSuQmCC",uV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIKSURBVHgBzZjJTcNAFIb/N3BFMldOpgFIKiCpAOgARAGECggVQAqIkg5IB5AKsjSATzlHyjke/hnbyiLHSxbbn5TF9tjzaZ7teW8EOdCjkcOfGpS6h0gNWrvcdteaeNzn8dgYvj+Uen2AHEiWRpRwKfDKv0/8OMjOnGIDLJcfFPPSGkuKhEOJNv++4lBE+mlSkiDSoEgPm2E4FI/he6TQOO6gQrxIiyI/RxaBvZ5SI3v9LDJ6MmnzhE+cEl4/TmgjTGzwwIbfKArfbzJkv9iWCZ+YU4QmiTmFrik0NxurMJ2dvRcsYnDYby/asCMTjsofyiIMVzAywaiUh4jtX0oflQjfvzQj00AV4HynGKI7VAGtG4pfNVQBZgEmTC6qgXuOfCkB8PICzGbJba6ugG4XOXHOkRcjkiazJ0bGvIqzj06zCSwWyW0uLrAHc+EsPYJJJctnbJ6mMaoAPYzMEFVAxM5NuTL4k8FqQtlcglYoE637JlEPZm1m7SgTrW3/Vsamfqa+KUekH5Uvq0xvuXxG8M4pEi8alQ0Ze++wpkGR+P7belG3UarYcLEBiqG9XYvHVpRhEXfK2qklt7ed7Z1J5W0trKFcHA+zQvEkNzexL1q16yxbDzNrN3c7jsMXr1ffJWL7RAZs0m4yeJEH5F0SAfqU6By8JBIrNp3em3w1dbEoWJeZRNViFv4BR9XKFZuL/aIAAAAASUVORK5CYII=",rm={add_icon_green:lV,add_icon_white:aV,remove_icon_red:uV},cV=(n,e,t,r)=>{var a,l,c,d;const i=[t,{code:e,...r||{}}];if((l=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&l.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);mo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(d=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&d.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Xw={},qm=(n,e,t,r)=>{mo(t)&&Xw[t]||(mo(t)&&(Xw[t]=new Date),cV(n,e,t,r))},pI=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Km=(n,e,t)=>{n.loadNamespaces(e,pI(n,t))},Jw=(n,e,t,r)=>{if(mo(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Km(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,pI(n,r))},dV=(n,e,t={})=>!e.languages||!e.languages.length?(qm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var a;if(((a=t.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),mo=n=>typeof n=="string",hV=n=>typeof n=="object"&&n!==null,fV=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pV={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},mV=n=>pV[n],gV=n=>n.replace(fV,mV);let Gm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:gV};const yV=(n={})=>{Gm={...Gm,...n}},vV=()=>Gm;let mI;const _V=n=>{mI=n},wV=()=>mI,EV={type:"3rdParty",init(n){yV(n.options.react),_V(n)}},TV=A.createContext();class SV{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const IV=(n,e)=>{const t=A.useRef();return A.useEffect(()=>{t.current=n},[n,e]),t.current},gI=(n,e,t,r)=>n.getFixedT(e,t,r),xV=(n,e,t,r)=>A.useCallback(gI(n,e,t,r),[n,e,t,r]),Ot=(n,e={})=>{var M,B,Q,D;const{i18n:t}=e,{i18n:r,defaultNS:i}=A.useContext(TV)||{},a=t||r||wV();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new SV),!a){qm(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const b=(L,F)=>mo(F)?F:hV(F)&&mo(F.defaultValue)?F.defaultValue:Array.isArray(L)?L[L.length-1]:L,k=[b,{},!1];return k.t=b,k.i18n={},k.ready=!1,k}(M=a.options.react)!=null&&M.wait&&qm(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...vV(),...a.options.react,...e},{useSuspense:c,keyPrefix:d}=l;let f=i||((B=a.options)==null?void 0:B.defaultNS);f=mo(f)?[f]:f||["translation"],(D=(Q=a.reportNamespaces).addUsedNamespaces)==null||D.call(Q,f);const m=(a.isInitialized||a.initializedStoreOnce)&&f.every(b=>dV(b,a,l)),y=xV(a,e.lng||null,l.nsMode==="fallback"?f:f[0],d),v=()=>y,S=()=>gI(a,e.lng||null,l.nsMode==="fallback"?f:f[0],d),[I,R]=A.useState(v);let P=f.join();e.lng&&(P=`${e.lng}${P}`);const j=IV(P),x=A.useRef(!0);A.useEffect(()=>{const{bindI18n:b,bindI18nStore:k}=l;x.current=!0,!m&&!c&&(e.lng?Jw(a,e.lng,f,()=>{x.current&&R(S)}):Km(a,f,()=>{x.current&&R(S)})),m&&j&&j!==P&&x.current&&R(S);const L=()=>{x.current&&R(S)};return b&&(a==null||a.on(b,L)),k&&(a==null||a.store.on(k,L)),()=>{x.current=!1,a&&(b==null||b.split(" ").forEach(F=>a.off(F,L))),k&&a&&k.split(" ").forEach(F=>a.store.off(F,L))}},[a,P]),A.useEffect(()=>{x.current&&m&&R(v)},[a,d,m]);const O=[I,a,m];if(O.t=I,O.i18n=a,O.ready=m,m||!m&&!c)return O;throw new Promise(b=>{e.lng?Jw(a,e.lng,f,()=>b()):Km(a,f,()=>b())})};function CV({products:n,selectedSizes:e,sizeErrors:t,cartItems:r,handleSizeSelect:i,handleAddToCart:a,removeFromCart:l,renderDescription:c}){const{t:d}=Ot(),[f,m]=A.useState(!1);if(!(n!=null&&n.length))return E.jsx("p",{children:d("productList.noProduct")});const y=f?n:n.slice(0,5);return E.jsxs("div",{className:"menu-items-wrapper",children:[E.jsx("div",{className:"menu-items-container",children:y.map((v,S)=>{var O,M;const I=e[v.id],R=t[v.id],P=(v.sizes||[]).reduce((B,Q)=>(Q.label&&Q.price&&(B[Q.label]={price:Q.price}),B),{}),j=I?`${v.id}_${I}`:null,x=j&&((O=r[j])!=null&&O.quantity)?r[j].quantity:0;return E.jsxs("div",{className:"food-item fade-in",style:{animationDelay:`${S*.05}s`},children:[E.jsxs("div",{className:"food-item-image-container",children:[E.jsx("img",{className:"food-item-image",src:v.image,alt:v.name}),x?E.jsxs("div",{className:"food-item-counter",children:[E.jsx("img",{onClick:()=>l(v.id,I,"products"),src:rm.remove_icon_red,alt:"remove"}),E.jsx("p",{children:x}),E.jsx("img",{onClick:()=>a(v,P,"products"),src:rm.add_icon_green,alt:"add"})]}):E.jsx("img",{className:"add",onClick:()=>a(v,P,"products"),src:rm.add_icon_white,alt:"add"})]}),E.jsxs("div",{className:"food-item-info",children:[E.jsx("div",{className:"food-item-name-only",children:E.jsx("p",{children:v.name})}),E.jsx("div",{className:"food-item-desc",children:c(v)}),E.jsxs("div",{className:"price-and-sizes",children:[E.jsx("p",{className:"food-item-price",children:I?`$${(M=P[I])==null?void 0:M.price.toFixed(2)}`:d("productList.priceLabel")}),E.jsx("div",{className:"food-item-sizes",children:Object.entries(P).map(([B])=>E.jsx("button",{className:`size-btn ${I===B?"selected":""} ${R?"error-border":""}`,onClick:()=>i(v.id,B),children:B},B))})]})]})]},`${v.id}-${I||"default"}`)})}),n.length>5&&E.jsx("button",{className:"view-toggle-button fade-in",onClick:()=>m(v=>!v),style:{animationDelay:`${y.length*.05}s`},children:d(f?"productList.viewLess":"productList.viewMore")})]})}function bV({showModal:n,setShowModal:e,modalContent:t}){const{t:r}=Ot();return n?E.jsx("div",{className:"menu-modal fade-in-modal",onClick:()=>e(!1),children:E.jsxs("div",{className:"menu-modal-content scale-in",onClick:i=>i.stopPropagation(),children:[E.jsx("h3",{className:"menu-modal-title",children:t.title}),E.jsx("p",{className:"menu-modal-description",children:t.description}),E.jsx("button",{className:"menu-modal-close",onClick:()=>e(!1),children:r("buttons.close")})]})}):null}function PV(){const{slug:n}=_n(),[e,t]=A.useState(null),[r,i]=A.useState([]),[a,l]=A.useState([]),[c,d]=A.useState(null),[f,m]=A.useState({}),[y,v]=A.useState({}),[S,I]=A.useState(!1),[R,P]=A.useState({title:"",description:""}),[j,x]=A.useState("basic"),{cartItems:O,addToCart:M,removeFromCart:B}=A.useContext(Yh);if(A.useEffect(()=>{(async()=>{try{const V=vt(it,"ReVerse",n),ge=await An(V);if(!ge.exists())return;const ke=ge.data();t(ke),x(ke.plan||"basic");const Ie=(await Eo(Lr(it,"ReVerse",n,"specialItems"))).docs.map(z=>({id:z.id,...z.data()}));l(Ie);const te=Lr(V,"products"),re=(await Eo(te)).docs.map(z=>({id:z.id,...z.data()}));i(re)}catch(V){console.error("Error fetching menu data:",V)}})()},[n]),!e)return null;const Q=c?r.filter($=>$.category===c):r,D=($,V)=>{m(ge=>({...ge,[$]:V})),v(ge=>({...ge,[$]:!1}))},b=($,V,ge)=>{const ke=f[$.id];if(Object.keys(V).length&&!ke){v(Ie=>({...Ie,[$.id]:!0}));return}const ye=V[ke];M($,{label:ke,price:(ye==null?void 0:ye.price)||$.price,collection:ge})},k=($,V)=>{const ge=$.split(" ");return ge.length<=V?$:ge.slice(0,V).join(" ")+"..."},L=($,V)=>{P({title:$,description:V}),I(!0)},F=$=>{const V=$.description||"",ke=V.trim().split(" ").length>3,ye=k(V,3);return E.jsx("p",{onClick:()=>ke&&L($.name,V),style:{cursor:ke?"pointer":"default",color:"#444"},className:"menu-item__desc",children:ye})};return E.jsxs("section",{id:"menu",className:"menu-section",children:[E.jsx(iV,{title:e.menuHeaderTitle,description:e.menuHeaderDesc}),j==="premium"&&E.jsx(sV,{items:a,selectedSizes:f,sizeErrors:y,cartItems:O,handleSizeSelect:D,handleAddToCart:b,removeFromCart:B,renderDescription:F,specialTitle:e.specialTitle},"special-items"),E.jsx(oV,{categories:e.categories,selectedCategory:c,setSelectedCategory:d}),E.jsx("hr",{}),e.topDishesTitle&&E.jsx("h3",{children:e.topDishesTitle}),E.jsx(CV,{products:Q,selectedSizes:f,sizeErrors:y,cartItems:O,handleSizeSelect:D,handleAddToCart:b,removeFromCart:B,renderDescription:F}),E.jsx(bV,{showModal:S,setShowModal:I,modalContent:R})]})}function yI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=yI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function go(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=yI(n))&&(r&&(r+=" "),r+=e);return r}function AV(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}AV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var $u=n=>typeof n=="number"&&!isNaN(n),So=n=>typeof n=="string",Oi=n=>typeof n=="function",RV=n=>So(n)||$u(n),Qm=n=>So(n)||Oi(n)?n:null,kV=(n,e)=>n===!1||$u(n)&&n>0?n:e,Ym=n=>A.isValidElement(n)||So(n)||Oi(n)||$u(n);function NV(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function OV({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:l,preventExitTransition:c,done:d,nodeRef:f,isIn:m,playToast:y}){let v=t?`${n}--${l}`:n,S=t?`${e}--${l}`:e,I=A.useRef(0);return A.useLayoutEffect(()=>{let R=f.current,P=v.split(" "),j=x=>{x.target===f.current&&(y(),R.removeEventListener("animationend",j),R.removeEventListener("animationcancel",j),I.current===0&&x.type!=="animationcancel"&&R.classList.remove(...P))};R.classList.add(...P),R.addEventListener("animationend",j),R.addEventListener("animationcancel",j)},[]),A.useEffect(()=>{let R=f.current,P=()=>{R.removeEventListener("animationend",P),r?NV(R,d,i):d()};m||(c?P():(I.current=1,R.className+=` ${S}`,R.addEventListener("animationend",P)))},[m]),tt.createElement(tt.Fragment,null,a)}}function Zw(n,e){return{content:vI(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function vI(n,e,t=!1){return A.isValidElement(n)&&!So(n.type)?A.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Oi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function DV({closeToast:n,theme:e,ariaLabel:t="close"}){return tt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},tt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},tt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function VV({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:a,controlledProgress:l,progress:c,rtl:d,isIn:f,theme:m}){let y=i||l&&c===0,v={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(v.transform=`scaleX(${c})`);let S=go("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),I=Oi(a)?a({rtl:d,type:r,defaultClassName:S}):go(S,a),R={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&t()}};return tt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},tt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),tt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:I,style:v,...R}))}var LV=1,_I=()=>`${LV++}`;function jV(n,e,t){let r=1,i=0,a=[],l=[],c=e,d=new Map,f=new Set,m=x=>(f.add(x),()=>f.delete(x)),y=()=>{l=Array.from(d.values()),f.forEach(x=>x())},v=({containerId:x,toastId:O,updateId:M})=>{let B=x?x!==n:n!==1,Q=d.has(O)&&M==null;return B||Q},S=(x,O)=>{d.forEach(M=>{var B;(O==null||O===M.props.toastId)&&((B=M.toggle)==null||B.call(M,x))})},I=x=>{var O,M;(M=(O=x.props)==null?void 0:O.onClose)==null||M.call(O,x.removalReason),x.isActive=!1},R=x=>{if(x==null)d.forEach(I);else{let O=d.get(x);O&&I(O)}y()},P=()=>{i-=a.length,a=[]},j=x=>{var O,M;let{toastId:B,updateId:Q}=x.props,D=Q==null;x.staleId&&d.delete(x.staleId),x.isActive=!0,d.set(B,x),y(),t(Zw(x,D?"added":"updated")),D&&((M=(O=x.props).onOpen)==null||M.call(O))};return{id:n,props:c,observe:m,toggle:S,removeToast:R,toasts:d,clearQueue:P,buildToast:(x,O)=>{if(v(O))return;let{toastId:M,updateId:B,data:Q,staleId:D,delay:b}=O,k=B==null;k&&i++;let L={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(O).filter(([$,V])=>V!=null)),toastId:M,updateId:B,data:Q,isIn:!1,className:Qm(O.className||c.toastClassName),progressClassName:Qm(O.progressClassName||c.progressClassName),autoClose:O.isLoading?!1:kV(O.autoClose,c.autoClose),closeToast($){d.get(M).removalReason=$,R(M)},deleteToast(){let $=d.get(M);if($!=null){if(t(Zw($,"removed")),d.delete(M),i--,i<0&&(i=0),a.length>0){j(a.shift());return}y()}}};L.closeButton=c.closeButton,O.closeButton===!1||Ym(O.closeButton)?L.closeButton=O.closeButton:O.closeButton===!0&&(L.closeButton=Ym(c.closeButton)?c.closeButton:!0);let F={content:x,props:L,staleId:D};c.limit&&c.limit>0&&i>c.limit&&k?a.push(F):$u(b)?setTimeout(()=>{j(F)},b):j(F)},setProps(x){c=x},setToggle:(x,O)=>{let M=d.get(x);M&&(M.toggle=O)},isToastActive:x=>{var O;return(O=d.get(x))==null?void 0:O.isActive},getSnapshot:()=>l}}var bn=new Map,Eu=[],Xm=new Set,MV=n=>Xm.forEach(e=>e(n)),wI=()=>bn.size>0;function FV(){Eu.forEach(n=>TI(n.content,n.options)),Eu=[]}var UV=(n,{containerId:e})=>{var t;return(t=bn.get(e||1))==null?void 0:t.toasts.get(n)};function EI(n,e){var t;if(e)return!!((t=bn.get(e))!=null&&t.isToastActive(n));let r=!1;return bn.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function BV(n){if(!wI()){Eu=Eu.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||RV(n))bn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=bn.get(n.containerId);e?e.removeToast(n.id):bn.forEach(t=>{t.removeToast(n.id)})}}var $V=(n={})=>{bn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function TI(n,e){Ym(n)&&(wI()||Eu.push({content:n,options:e}),bn.forEach(t=>{t.buildToast(n,e)}))}function zV(n){var e;(e=bn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function SI(n,e){bn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function HV(n){let e=n.containerId||1;return{subscribe(t){let r=jV(e,n,MV);bn.set(e,r);let i=r.observe(t);return FV(),()=>{i(),bn.delete(e)}},setProps(t){var r;(r=bn.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=bn.get(e))==null?void 0:t.getSnapshot()}}}function WV(n){return Xm.add(n),()=>{Xm.delete(n)}}function qV(n){return n&&(So(n.toastId)||$u(n.toastId))?n.toastId:_I()}function zu(n,e){return TI(n,e),e.toastId}function Xh(n,e){return{...e,type:e&&e.type||n,toastId:qV(e)}}function Jh(n){return(e,t)=>zu(e,Xh(n,t))}function ve(n,e){return zu(n,Xh("default",e))}ve.loading=(n,e)=>zu(n,Xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function KV(n,{pending:e,error:t,success:r},i){let a;e&&(a=So(e)?ve.loading(e,i):ve.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,m,y)=>{if(m==null){ve.dismiss(a);return}let v={type:f,...l,...i,data:y},S=So(m)?{render:m}:m;return a?ve.update(a,{...v,...S}):ve(S.render,{...v,...S}),y},d=Oi(n)?n():n;return d.then(f=>c("success",r,f)).catch(f=>c("error",t,f)),d}ve.promise=KV;ve.success=Jh("success");ve.info=Jh("info");ve.error=Jh("error");ve.warning=Jh("warning");ve.warn=ve.warning;ve.dark=(n,e)=>zu(n,Xh("default",{theme:"dark",...e}));function GV(n){BV(n)}ve.dismiss=GV;ve.clearWaitingQueue=$V;ve.isActive=EI;ve.update=(n,e={})=>{let t=UV(n,e);if(t){let{props:r,content:i}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:_I()};a.toastId!==n&&(a.staleId=n);let l=a.render||i;delete a.render,zu(l,a)}};ve.done=n=>{ve.update(n,{progress:1})};ve.onChange=WV;ve.play=n=>SI(!0,n);ve.pause=n=>SI(!1,n);function QV(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=A.useRef(HV(n)).current;i(n);let a=(e=A.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(c){if(!a)return[];let d=new Map;return n.newestOnTop&&a.reverse(),a.forEach(f=>{let{position:m}=f.props;d.has(m)||d.set(m,[]),d.get(m).push(f)}),Array.from(d,f=>c(f[0],f[1]))}return{getToastToRender:l,isToastActive:EI,count:a==null?void 0:a.length}}function YV(n){let[e,t]=A.useState(!1),[r,i]=A.useState(!1),a=A.useRef(null),l=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:f,onClick:m,closeOnClick:y}=n;zV({id:n.toastId,containerId:n.containerId,fn:t}),A.useEffect(()=>{if(n.pauseOnFocusLoss)return v(),()=>{S()}},[n.pauseOnFocusLoss]);function v(){document.hasFocus()||j(),window.addEventListener("focus",P),window.addEventListener("blur",j)}function S(){window.removeEventListener("focus",P),window.removeEventListener("blur",j)}function I(D){if(n.draggable===!0||n.draggable===D.pointerType){x();let b=a.current;l.canCloseOnClick=!0,l.canDrag=!0,b.style.transition="none",n.draggableDirection==="x"?(l.start=D.clientX,l.removalDistance=b.offsetWidth*(n.draggablePercent/100)):(l.start=D.clientY,l.removalDistance=b.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function R(D){let{top:b,bottom:k,left:L,right:F}=a.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=L&&D.clientX<=F&&D.clientY>=b&&D.clientY<=k?j():P()}function P(){t(!0)}function j(){t(!1)}function x(){l.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",B)}function O(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",B)}function M(D){let b=a.current;if(l.canDrag&&b){l.didMove=!0,e&&j(),n.draggableDirection==="x"?l.delta=D.clientX-l.start:l.delta=D.clientY-l.start,l.start!==D.clientX&&(l.canCloseOnClick=!1);let k=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;b.style.transform=`translate3d(${k},0)`,b.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function B(){O();let D=a.current;if(l.canDrag&&l.didMove&&D){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let Q={onPointerDown:I,onPointerUp:R};return c&&d&&(Q.onMouseEnter=j,n.stacked||(Q.onMouseLeave=P)),y&&(Q.onClick=D=>{m&&m(D),l.canCloseOnClick&&f(!0)}),{playToast:P,pauseToast:j,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Q}}var XV=typeof window<"u"?A.useLayoutEffect:A.useEffect,Zh=({theme:n,type:e,isLoading:t,...r})=>tt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function JV(n){return tt.createElement(Zh,{...n},tt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ZV(n){return tt.createElement(Zh,{...n},tt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function eL(n){return tt.createElement(Zh,{...n},tt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function tL(n){return tt.createElement(Zh,{...n},tt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function nL(){return tt.createElement("div",{className:"Toastify__spinner"})}var Jm={info:ZV,warning:JV,success:eL,error:tL,spinner:nL},rL=n=>n in Jm;function iL({theme:n,type:e,isLoading:t,icon:r}){let i=null,a={theme:n,type:e};return r===!1||(Oi(r)?i=r({...a,isLoading:t}):A.isValidElement(r)?i=A.cloneElement(r,a):t?i=Jm.spinner():rL(e)&&(i=Jm[e](a))),i}var sL=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:a}=YV(n),{closeButton:l,children:c,autoClose:d,onClick:f,type:m,hideProgressBar:y,closeToast:v,transition:S,position:I,className:R,style:P,progressClassName:j,updateId:x,role:O,progress:M,rtl:B,toastId:Q,deleteToast:D,isIn:b,isLoading:k,closeOnClick:L,theme:F,ariaLabel:$}=n,V=go("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":B},{"Toastify__toast--close-on-click":L}),ge=Oi(R)?R({rtl:B,position:I,type:m,defaultClassName:V}):go(V,R),ke=iL(n),ye=!!M||!d,Ie={closeToast:v,type:m,theme:F},te=null;return l===!1||(Oi(l)?te=l(Ie):A.isValidElement(l)?te=A.cloneElement(l,Ie):te=DV(Ie)),tt.createElement(S,{isIn:b,done:D,position:I,preventExitTransition:t,nodeRef:r,playToast:a},tt.createElement("div",{id:Q,tabIndex:0,onClick:f,"data-in":b,className:ge,...i,style:P,ref:r,...b&&{role:O,"aria-label":$}},ke!=null&&tt.createElement("div",{className:go("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},ke),vI(c,n,!e),te,!n.customProgressBar&&tt.createElement(VV,{...x&&!ye?{key:`p-${x}`}:{},rtl:B,theme:F,delay:d,isRunning:e,isIn:b,closeToast:v,hide:y,type:m,className:j,controlledProgress:ye,progress:M||0})))},oL=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),aL=OV(oL("bounce",!0)),lL={position:"top-right",transition:aL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Hu(n){let e={...lL,...n},t=n.stacked,[r,i]=A.useState(!0),a=A.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=QV(e),{className:f,style:m,rtl:y,containerId:v,hotKeys:S}=e;function I(P){let j=go("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":y});return Oi(f)?f({position:P,rtl:y,defaultClassName:j}):go(j,Qm(f))}function R(){t&&(i(!0),ve.play())}return XV(()=>{var P;if(t){let j=a.current.querySelectorAll('[data-in="true"]'),x=12,O=(P=e.position)==null?void 0:P.includes("top"),M=0,B=0;Array.from(j).reverse().forEach((Q,D)=>{let b=Q;b.classList.add("Toastify__toast--stacked"),D>0&&(b.dataset.collapsed=`${r}`),b.dataset.pos||(b.dataset.pos=O?"top":"bot");let k=M*(r?.2:1)+(r?0:x*D);b.style.setProperty("--y",`${O?k:k*-1}px`),b.style.setProperty("--g",`${x}`),b.style.setProperty("--s",`${1-(r?B:0)}`),M+=b.offsetHeight,B+=.025})}},[r,d,t]),A.useEffect(()=>{function P(j){var x;let O=a.current;S(j)&&((x=O.querySelector('[tabIndex="0"]'))==null||x.focus(),i(!1),ve.pause()),j.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(i(!0),ve.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[S]),tt.createElement("section",{ref:a,className:"Toastify",id:v,onMouseEnter:()=>{t&&(i(!1),ve.pause())},onMouseLeave:R,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((P,j)=>{let x=j.length?{...m}:{...m,pointerEvents:"none"};return tt.createElement("div",{tabIndex:-1,className:I(P),"data-stacked":t,style:x,key:`c-${P}`},j.map(({content:O,props:M})=>tt.createElement(sL,{...M,stacked:t,collapseAll:R,isIn:c(M.toastId,M.containerId),key:`t-${M.key}`},O)))}))}const uL=({onClose:n,settings:e,reservationId:t,slug:r})=>{var S;const[i,a]=A.useState(""),[l,c]=A.useState(!1),[d,f]=A.useState(!1),{t:m}=Ot();A.useEffect(()=>{const I=setTimeout(()=>f(!0),10);return()=>clearTimeout(I)},[]);const y=()=>({"Vodafone Cash":e.vodafoneNumber?m("modal.instructions.vodafone",{number:e.vodafoneNumber}):null,PayPal:e.paypalAccount?m("modal.instructions.paypal",{account:e.paypalAccount}):null,Stripe:e.stripeLink?m("modal.instructions.stripe",{link:e.stripeLink}):null,Fawry:e.fawryCode?m("modal.instructions.fawry",{code:e.fawryCode}):null})[i]||null,v=async()=>{if(!i){c(!0),ve.error(m("modal.error"));return}const I=vt(it,"ReVerse",r,"bookTable",t);await Ma(I,{paymentMethod:i}),ve.success(m("modal.success")),n()};return E.jsxs("div",{className:"modal-overlay",children:[E.jsxs("div",{className:`modal-content ${d?"fade-scale-in":""}`,children:[E.jsx("h3",{className:"modal-title",children:m("modal.title")}),E.jsx("p",{className:"modal-text",children:m("modal.depositNotice",{amount:e.depositAmount})}),E.jsx("label",{className:"modal-label",children:m("modal.selectMethod")}),E.jsxs("select",{className:`modal-select ${l&&!i?"error-border":""}`,value:i,onChange:I=>{a(I.target.value),c(!1)},children:[E.jsx("option",{value:"",children:m("modal.chooseMethod")}),(S=e.paymentOptions)==null?void 0:S.map((I,R)=>E.jsx("option",{value:I,children:I},R))]}),i&&y()&&E.jsx("p",{className:"payment-instructions",children:y()}),E.jsxs("div",{className:"modal-buttons",children:[E.jsx("button",{onClick:v,className:"confirm-btn",children:m("modal.confirm")}),E.jsx("button",{onClick:n,className:"cancel-btn",children:m("modal.cancel")})]})]}),E.jsx(Hu,{position:"top-center"})]})};function cL({slug:n}){const[e,t]=A.useState(null),[r,i]=A.useState("2"),[a,l]=A.useState(""),[c,d]=A.useState("08:00 PM"),[f,m]=A.useState(""),[y,v]=A.useState(!1),[S,I]=A.useState(null),R=A.useRef(null),{t:P}=Ot();A.useEffect(()=>{(async()=>{const O=vt(it,"ReVerse",n),M=await An(O);if(M.exists()){const B=M.data().reservationSettings;t(B)}})()},[n]);const j=async x=>{if(x.preventDefault(),!f||!a||!c){ve.error(P("reservation.errors.requiredFields"));return}try{const O=Lr(vt(it,"ReVerse",n),"bookTable"),M=await my(O,{name:f,tableSize:r,date:a,time:c,depositAmount:e.depositAmount,createdAt:zt.now(),status:"pending"});I(M.id),v(!0),i("2"),l(""),d("08:00 PM"),m("")}catch(O){console.error("Reservation error:",O),ve.error(P("reservation.errors.general"))}};return e?E.jsxs("section",{id:"book",className:"reservation-section",ref:R,children:[E.jsxs("h2",{className:"reservation-title fade-up",children:["—",P("reservation.title"),"—"]}),E.jsxs("div",{className:"reservation-wrapper",children:[E.jsxs("div",{className:"left-side fade-left",children:[E.jsx("img",{className:"reservation-image",src:e.reservationImage,alt:"Restaurant"}),E.jsxs("p",{className:"reservation-info",children:[E.jsxs("strong",{children:[P("reservation.info.openingHours"),":"]}),E.jsx("br",{}),e.openingHours]}),E.jsxs("p",{className:"reservation-info",children:[E.jsxs("strong",{children:[P("reservation.info.additionalInfo"),":"]}),E.jsx("br",{}),e.additionalInfo]})]}),E.jsx("div",{className:"right-side fade-right",children:E.jsxs("form",{onSubmit:j,children:[E.jsxs("label",{className:"reservation-label",children:[P("reservation.labels.yourName"),":"]}),E.jsx("input",{className:"reservation-input",type:"text",value:f,onChange:x=>m(x.target.value),required:!0}),E.jsxs("label",{className:"reservation-label",children:[P("reservation.labels.tableSize"),":"]}),E.jsx("select",{value:r,onChange:x=>i(x.target.value),children:[2,4,6,8,10,12].map(x=>E.jsx("option",{value:x,children:x},x))}),E.jsxs("label",{className:"reservation-label",children:[P("reservation.labels.chooseADay"),":"]}),E.jsx("input",{className:"reservation-input",type:"date",value:a,onChange:x=>l(x.target.value),required:!0}),E.jsxs("label",{className:"reservation-label",children:[P("reservation.labels.chooseATime"),":"]}),E.jsx("select",{value:c,onChange:x=>d(x.target.value),children:["01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM","06:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM","08:30 PM","09:00 PM"].map(x=>E.jsx("option",{value:x,children:x},x))}),E.jsx("button",{className:"reservation-button",type:"submit",children:P("buttons.submit")})]})})]}),y&&E.jsx(uL,{onClose:()=>v(!1),settings:e,reservationId:S,slug:n}),E.jsx(Hu,{})]}):null}const dL=()=>{const{slug:n}=_n(),e=oi();return A.useEffect(()=>{const r=new URLSearchParams(e.search).get("scrollTo");if(r){const i=document.getElementById(r);i&&setTimeout(()=>{i.scrollIntoView({behavior:"smooth"})},300)}},[e]),E.jsxs("div",{children:[E.jsx(rV,{slug:n}),E.jsx(PV,{slug:n}),E.jsx(cL,{slug:n})]})},by=A.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),ef=A.createContext({});function hL(){return A.useContext(ef).visualElement}const Wu=A.createContext(null),bo=typeof document<"u",oh=bo?A.useLayoutEffect:A.useEffect,II=A.createContext({strict:!1});function fL(n,e,t,r){const i=hL(),a=A.useContext(II),l=A.useContext(Wu),c=A.useContext(by).reducedMotion,d=A.useRef();r=r||a.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:i,props:t,presenceId:l?l.id:void 0,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current;return oh(()=>{f&&f.render()}),A.useEffect(()=>{f&&f.animationState&&f.animationState.animateChanges()}),oh(()=>()=>f&&f.notify("Unmount"),[]),f}function Ta(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pL(n,e,t){return A.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ta(t)&&(t.current=r))},[e])}function Tu(n){return typeof n=="string"||Array.isArray(n)}function tf(n){return typeof n=="object"&&typeof n.start=="function"}const mL=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function nf(n){return tf(n.animate)||mL.some(e=>Tu(n[e]))}function xI(n){return!!(nf(n)||n.variants)}function gL(n,e){if(nf(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Tu(t)?t:void 0,animate:Tu(r)?r:void 0}}return n.inherit!==!1?e:{}}function yL(n){const{initial:e,animate:t}=gL(n,A.useContext(ef));return A.useMemo(()=>({initial:e,animate:t}),[eE(e),eE(t)])}function eE(n){return Array.isArray(n)?n.join(" "):n}const Si=n=>({isEnabled:e=>n.some(t=>!!e[t])}),Su={measureLayout:Si(["layout","layoutId","drag"]),animation:Si(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Si(["exit"]),drag:Si(["drag","dragControls"]),focus:Si(["whileFocus"]),hover:Si(["whileHover","onHoverStart","onHoverEnd"]),tap:Si(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Si(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Si(["whileInView","onViewportEnter","onViewportLeave"])};function vL(n){for(const e in n)e==="projectionNodeConstructor"?Su.projectionNodeConstructor=n[e]:Su[e].Component=n[e]}function rf(n){const e=A.useRef(null);return e.current===null&&(e.current=n()),e.current}const tu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let _L=1;function wL(){return rf(()=>{if(tu.hasEverUpdated)return _L++})}const Py=A.createContext({});class EL extends tt.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:t}=this.props;return e&&e.setProps(t),null}componentDidUpdate(){}render(){return this.props.children}}const CI=A.createContext({}),TL=Symbol.for("motionComponentSymbol");function SL({preloadedFeatures:n,createVisualElement:e,projectionNodeConstructor:t,useRender:r,useVisualState:i,Component:a}){n&&vL(n);function l(d,f){const m={...A.useContext(by),...d,layoutId:IL(d)},{isStatic:y}=m;let v=null;const S=yL(d),I=y?void 0:wL(),R=i(d,y);if(!y&&bo){S.visualElement=fL(a,R,m,e);const P=A.useContext(II).strict,j=A.useContext(CI);S.visualElement&&(v=S.visualElement.loadFeatures(m,P,n,I,t||Su.projectionNodeConstructor,j))}return A.createElement(EL,{visualElement:S.visualElement,props:m},v,A.createElement(ef.Provider,{value:S},r(a,d,I,pL(R,S.visualElement,f),R,y,S.visualElement)))}const c=A.forwardRef(l);return c[TL]=a,c}function IL({layoutId:n}){const e=A.useContext(Py).id;return e&&n!==void 0?e+"-"+n:n}function xL(n){function e(r,i={}){return SL(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const CL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","text","tspan","use","view"];function Ay(n){return typeof n!="string"||n.includes("-")?!1:!!(CL.indexOf(n)>-1||/[A-Z]/.test(n))}const ah={};function bL(n){Object.assign(ah,n)}const lh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],el=new Set(lh);function bI(n,{layout:e,layoutId:t}){return el.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ah[n]||n==="opacity")}const si=n=>!!(n!=null&&n.getVelocity),PL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AL=(n,e)=>lh.indexOf(n)-lh.indexOf(e);function RL({transform:n,transformKeys:e},{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},i,a){let l="";e.sort(AL);for(const c of e)l+=`${PL[c]||c}(${n[c]}) `;return t&&!n.z&&(l+="translateZ(0)"),l=l.trim(),a?l=a(n,i?"":l):r&&i&&(l="none"),l}function PI(n){return n.startsWith("--")}const kL=(n,e)=>e&&typeof n=="number"?e.transform(n):n,AI=(n,e)=>t=>Math.max(Math.min(t,e),n),nu=n=>n%1?Number(n.toFixed(5)):n,Iu=/(-)?([\d]*\.?[\d])+/g,Zm=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,NL=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function qu(n){return typeof n=="string"}const Po={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ru=Object.assign(Object.assign({},Po),{transform:AI(0,1)}),vd=Object.assign(Object.assign({},Po),{default:1}),Ku=n=>({test:e=>qu(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),cs=Ku("deg"),ri=Ku("%"),Le=Ku("px"),OL=Ku("vh"),DL=Ku("vw"),tE=Object.assign(Object.assign({},ri),{parse:n=>ri.parse(n)/100,transform:n=>ri.transform(n*100)}),Ry=(n,e)=>t=>!!(qu(t)&&NL.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),RI=(n,e,t)=>r=>{if(!qu(r))return r;const[i,a,l,c]=r.match(Iu);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},po={test:Ry("hsl","hue"),parse:RI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ri.transform(nu(e))+", "+ri.transform(nu(t))+", "+nu(ru.transform(r))+")"},VL=AI(0,255),im=Object.assign(Object.assign({},Po),{transform:n=>Math.round(VL(n))}),ys={test:Ry("rgb","red"),parse:RI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+im.transform(n)+", "+im.transform(e)+", "+im.transform(t)+", "+nu(ru.transform(r))+")"};function LL(n){let e="",t="",r="",i="";return n.length>5?(e=n.substr(1,2),t=n.substr(3,2),r=n.substr(5,2),i=n.substr(7,2)):(e=n.substr(1,1),t=n.substr(2,1),r=n.substr(3,1),i=n.substr(4,1),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const eg={test:Ry("#"),parse:LL,transform:ys.transform},xn={test:n=>ys.test(n)||eg.test(n)||po.test(n),parse:n=>ys.test(n)?ys.parse(n):po.test(n)?po.parse(n):eg.parse(n),transform:n=>qu(n)?n:n.hasOwnProperty("red")?ys.transform(n):po.transform(n)},kI="${c}",NI="${n}";function jL(n){var e,t,r,i;return isNaN(n)&&qu(n)&&((t=(e=n.match(Iu))===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0)+((i=(r=n.match(Zm))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function OI(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0;const r=n.match(Zm);r&&(t=r.length,n=n.replace(Zm,kI),e.push(...r.map(xn.parse)));const i=n.match(Iu);return i&&(n=n.replace(Iu,NI),e.push(...i.map(Po.parse))),{values:e,numColors:t,tokenised:n}}function DI(n){return OI(n).values}function VI(n){const{values:e,numColors:t,tokenised:r}=OI(n),i=e.length;return a=>{let l=r;for(let c=0;c<i;c++)l=l.replace(c<t?kI:NI,c<t?xn.transform(a[c]):nu(a[c]));return l}}const ML=n=>typeof n=="number"?0:n;function FL(n){const e=DI(n);return VI(n)(e.map(ML))}const Di={test:jL,parse:DI,createTransformer:VI,getAnimatableNone:FL},UL=new Set(["brightness","contrast","saturate","opacity"]);function BL(n){let[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Iu)||[];if(!r)return n;const i=t.replace(r,"");let a=UL.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const $L=/([a-z-]*)\(.*?\)/g,tg=Object.assign(Object.assign({},Di),{getAnimatableNone:n=>{const e=n.match($L);return e?e.map(BL).join(" "):n}}),nE={...Po,transform:Math.round},LI={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,size:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:vd,scaleX:vd,scaleY:vd,scaleZ:vd,skew:cs,skewX:cs,skewY:cs,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:ru,originX:tE,originY:tE,originZ:Le,zIndex:nE,fillOpacity:ru,strokeOpacity:ru,numOctaves:nE};function ky(n,e,t,r){const{style:i,vars:a,transform:l,transformKeys:c,transformOrigin:d}=n;c.length=0;let f=!1,m=!1,y=!0;for(const v in e){const S=e[v];if(PI(v)){a[v]=S;continue}const I=LI[v],R=kL(S,I);if(el.has(v)){if(f=!0,l[v]=R,c.push(v),!y)continue;S!==(I.default||0)&&(y=!1)}else v.startsWith("origin")?(m=!0,d[v]=R):i[v]=R}if(e.transform||(f||r?i.transform=RL(n,t,y,r):i.transform&&(i.transform="none")),m){const{originX:v="50%",originY:S="50%",originZ:I=0}=d;i.transformOrigin=`${v} ${S} ${I}`}}const Ny=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function jI(n,e,t){for(const r in e)!si(e[r])&&!bI(r,t)&&(n[r]=e[r])}function zL({transformTemplate:n},e,t){return A.useMemo(()=>{const r=Ny();return ky(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function HL(n,e,t){const r=n.style||{},i={};return jI(i,r,n),Object.assign(i,zL(n,e,t)),n.transformValues?n.transformValues(i):i}function WL(n,e,t){const r={},i=HL(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),r.style=i,r}const qL=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],KL=["whileTap","onTap","onTapStart","onTapCancel"],GL=["onPan","onPanStart","onPanSessionStart","onPanEnd"],QL=["whileInView","onViewportEnter","onViewportLeave","viewport"],YL=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...QL,...KL,...qL,...GL]);function uh(n){return YL.has(n)}let MI=n=>!uh(n);function XL(n){n&&(MI=e=>e.startsWith("on")?!uh(e):n(e))}try{XL(require("@emotion/is-prop-valid").default)}catch{}function JL(n,e,t){const r={};for(const i in n)(MI(i)||t===!0&&uh(i)||!e&&!uh(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function rE(n,e,t){return typeof n=="string"?n:Le.transform(e+t*n)}function ZL(n,e,t){const r=rE(e,n.x,n.width),i=rE(t,n.y,n.height);return`${r} ${i}`}const ej={offset:"stroke-dashoffset",array:"stroke-dasharray"},tj={offset:"strokeDashoffset",array:"strokeDasharray"};function nj(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?ej:tj;n[a.offset]=Le.transform(-r);const l=Le.transform(e),c=Le.transform(t);n[a.array]=`${l} ${c}`}function Oy(n,{attrX:e,attrY:t,originX:r,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,m){ky(n,d,f,m),n.attrs=n.style,n.style={};const{attrs:y,style:v,dimensions:S}=n;y.transform&&(S&&(v.transform=y.transform),delete y.transform),S&&(r!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=ZL(S,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),a!==void 0&&nj(y,a,l,c,!1)}const FI=()=>({...Ny(),attrs:{}});function rj(n,e){const t=A.useMemo(()=>{const r=FI();return Oy(r,e,{enableHardwareAcceleration:!1},n.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};jI(r,n.style,n),t.style={...r,...t.style}}return t}function ij(n=!1){return(t,r,i,a,{latestValues:l},c)=>{const f=(Ay(t)?rj:WL)(r,l,c),y={...JL(r,typeof t=="string",n),...f,ref:a};return i&&(y["data-projection-id"]=i),A.createElement(t,y)}}const UI=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function BI(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const $I=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function zI(n,e,t,r){BI(n,e,void 0,r);for(const i in e.attrs)n.setAttribute($I.has(i)?i:UI(i),e.attrs[i])}function Dy(n){const{style:e}=n,t={};for(const r in e)(si(e[r])||bI(r,n))&&(t[r]=e[r]);return t}function HI(n){const e=Dy(n);for(const t in n)if(si(n[t])){const r=t==="x"||t==="y"?"attr"+t.toUpperCase():t;e[r]=n[t]}return e}function Vy(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}const xu=n=>Array.isArray(n),sj=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),WI=n=>xu(n)?n[n.length-1]||0:n;function Ld(n){const e=si(n)?n.get():n;return sj(e)?e.toValue():e}function oj({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,a){const l={latestValues:aj(r,i,a,n),renderState:e()};return t&&(l.mount=c=>t(r,c,l)),l}const qI=n=>(e,t)=>{const r=A.useContext(ef),i=A.useContext(Wu),a=()=>oj(n,e,r,i);return t?a():rf(a)};function aj(n,e,t,r){const i={},a=r(n);for(const v in a)i[v]=Ld(a[v]);let{initial:l,animate:c}=n;const d=nf(n),f=xI(n);e&&f&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const y=m?c:l;return y&&typeof y!="boolean"&&!tf(y)&&(Array.isArray(y)?y:[y]).forEach(S=>{const I=Vy(n,S);if(!I)return;const{transitionEnd:R,transition:P,...j}=I;for(const x in j){let O=j[x];if(Array.isArray(O)){const M=m?O.length-1:0;O=O[M]}O!==null&&(i[x]=O)}for(const x in R)i[x]=R[x]}),i}const lj={useVisualState:qI({scrapeMotionValuesFromProps:HI,createRenderState:FI,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}Oy(t,r,{enableHardwareAcceleration:!1},n.transformTemplate),zI(e,t)}})},uj={useVisualState:qI({scrapeMotionValuesFromProps:Dy,createRenderState:Ny})};function cj(n,{forwardMotionProps:e=!1},t,r,i){return{...Ay(n)?lj:uj,preloadedFeatures:t,useRender:ij(e),createVisualElement:r,projectionNodeConstructor:i,Component:n}}var Et;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(Et||(Et={}));function sf(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function ng(n,e,t,r){A.useEffect(()=>{const i=n.current;if(t&&i)return sf(i,e,t,r)},[n,e,t,r])}function dj({whileFocus:n,visualElement:e}){const{animationState:t}=e,r=()=>{t&&t.setActive(Et.Focus,!0)},i=()=>{t&&t.setActive(Et.Focus,!1)};ng(e,"focus",n?r:void 0),ng(e,"blur",n?i:void 0)}function KI(n){return typeof PointerEvent<"u"&&n instanceof PointerEvent?n.pointerType==="mouse":n instanceof MouseEvent}function GI(n){return!!n.touches}function hj(n){return e=>{const t=e instanceof MouseEvent;(!t||t&&e.button===0)&&n(e)}}const fj={pageX:0,pageY:0};function pj(n,e="page"){const r=n.touches[0]||n.changedTouches[0]||fj;return{x:r[e+"X"],y:r[e+"Y"]}}function mj(n,e="page"){return{x:n[e+"X"],y:n[e+"Y"]}}function Ly(n,e="page"){return{point:GI(n)?pj(n,e):mj(n,e)}}const QI=(n,e=!1)=>{const t=r=>n(r,Ly(r));return e?hj(t):t},gj=()=>bo&&window.onpointerdown===null,yj=()=>bo&&window.ontouchstart===null,vj=()=>bo&&window.onmousedown===null,_j={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},wj={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function YI(n){return gj()?n:yj()?wj[n]:vj()?_j[n]:n}function Pa(n,e,t,r){return sf(n,YI(e),QI(t,e==="pointerdown"),r)}function ch(n,e,t,r){return ng(n,YI(e),t&&QI(t,e==="pointerdown"),r)}function XI(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const iE=XI("dragHorizontal"),sE=XI("dragVertical");function JI(n){let e=!1;if(n==="y")e=sE();else if(n==="x")e=iE();else{const t=iE(),r=sE();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function ZI(){const n=JI(!0);return n?(n(),!1):!0}function oE(n,e,t){return(r,i)=>{!KI(r)||ZI()||(n.animationState&&n.animationState.setActive(Et.Hover,e),t&&t(r,i))}}function Ej({onHoverStart:n,onHoverEnd:e,whileHover:t,visualElement:r}){ch(r,"pointerenter",n||t?oE(r,!0,n):void 0,{passive:!n}),ch(r,"pointerleave",e||t?oE(r,!1,e):void 0,{passive:!e})}const ex=(n,e)=>e?n===e?!0:ex(n,e.parentElement):!1;function jy(n){return A.useEffect(()=>()=>n(),[])}function tx(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}var dh=function(){};const hh=(n,e,t)=>Math.min(Math.max(t,n),e),sm=.001,Tj=.01,Sj=10,Ij=.05,xj=1;function Cj({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,a,l=1-e;l=hh(Ij,xj,l),n=hh(Tj,Sj,n/1e3),l<1?(i=f=>{const m=f*l,y=m*n,v=m-t,S=rg(f,l),I=Math.exp(-y);return sm-v/S*I},a=f=>{const y=f*l*n,v=y*t+t,S=Math.pow(l,2)*Math.pow(f,2)*n,I=Math.exp(-y),R=rg(Math.pow(f,2),l);return(-i(f)+sm>0?-1:1)*((v-S)*I)/R}):(i=f=>{const m=Math.exp(-f*n),y=(f-t)*n+1;return-sm+m*y},a=f=>{const m=Math.exp(-f*n),y=(t-f)*(n*n);return m*y});const c=5/n,d=Pj(i,a,c);if(n=n*1e3,isNaN(d))return{stiffness:100,damping:10,duration:n};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const bj=12;function Pj(n,e,t){let r=t;for(let i=1;i<bj;i++)r=r-n(r)/e(r);return r}function rg(n,e){return n*Math.sqrt(1-e*e)}const Aj=["duration","bounce"],Rj=["stiffness","damping","mass"];function aE(n,e){return e.some(t=>n[t]!==void 0)}function kj(n){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!aE(n,Rj)&&aE(n,Aj)){const t=Cj(n);e=Object.assign(Object.assign(Object.assign({},e),t),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function My(n){var{from:e=0,to:t=1,restSpeed:r=2,restDelta:i}=n,a=tx(n,["from","to","restSpeed","restDelta"]);const l={done:!1,value:e};let{stiffness:c,damping:d,mass:f,velocity:m,duration:y,isResolvedFromDuration:v}=kj(a),S=lE,I=lE;function R(){const P=m?-(m/1e3):0,j=t-e,x=d/(2*Math.sqrt(c*f)),O=Math.sqrt(c/f)/1e3;if(i===void 0&&(i=Math.min(Math.abs(t-e)/100,.4)),x<1){const M=rg(O,x);S=B=>{const Q=Math.exp(-x*O*B);return t-Q*((P+x*O*j)/M*Math.sin(M*B)+j*Math.cos(M*B))},I=B=>{const Q=Math.exp(-x*O*B);return x*O*Q*(Math.sin(M*B)*(P+x*O*j)/M+j*Math.cos(M*B))-Q*(Math.cos(M*B)*(P+x*O*j)-M*j*Math.sin(M*B))}}else if(x===1)S=M=>t-Math.exp(-O*M)*(j+(P+O*j)*M);else{const M=O*Math.sqrt(x*x-1);S=B=>{const Q=Math.exp(-x*O*B),D=Math.min(M*B,300);return t-Q*((P+x*O*j)*Math.sinh(D)+M*j*Math.cosh(D))/M}}}return R(),{next:P=>{const j=S(P);if(v)l.done=P>=y;else{const x=I(P)*1e3,O=Math.abs(x)<=r,M=Math.abs(t-j)<=i;l.done=O&&M}return l.value=l.done?t:j,l},flipTarget:()=>{m=-m,[e,t]=[t,e],R()}}}My.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const lE=n=>0,Cu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Vt=(n,e,t)=>-t*n+t*e+n;function om(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function uE({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,l=0;if(!e)i=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;i=om(d,c,n+1/3),a=om(d,c,n),l=om(d,c,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Nj=(n,e,t)=>{const r=n*n,i=e*e;return Math.sqrt(Math.max(0,t*(i-r)+r))},Oj=[eg,ys,po],cE=n=>Oj.find(e=>e.test(n)),nx=(n,e)=>{let t=cE(n),r=cE(e),i=t.parse(n),a=r.parse(e);t===po&&(i=uE(i),t=ys),r===po&&(a=uE(a),r=ys);const l=Object.assign({},i);return c=>{for(const d in l)d!=="alpha"&&(l[d]=Nj(i[d],a[d],c));return l.alpha=Vt(i.alpha,a.alpha,c),t.transform(l)}},ig=n=>typeof n=="number",Dj=(n,e)=>t=>e(n(t)),of=(...n)=>n.reduce(Dj);function rx(n,e){return ig(n)?t=>Vt(n,e,t):xn.test(n)?nx(n,e):sx(n,e)}const ix=(n,e)=>{const t=[...n],r=t.length,i=n.map((a,l)=>rx(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=i[l](a);return t}},Vj=(n,e)=>{const t=Object.assign(Object.assign({},n),e),r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=rx(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}};function dE(n){const e=Di.parse(n),t=e.length;let r=0,i=0,a=0;for(let l=0;l<t;l++)r||typeof e[l]=="number"?r++:e[l].hue!==void 0?a++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:a}}const sx=(n,e)=>{const t=Di.createTransformer(e),r=dE(n),i=dE(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?of(ix(r.parsed,i.parsed),t):l=>`${l>0?e:n}`},Lj=(n,e)=>t=>Vt(n,e,t);function jj(n){if(typeof n=="number")return Lj;if(typeof n=="string")return xn.test(n)?nx:sx;if(Array.isArray(n))return ix;if(typeof n=="object")return Vj}function Mj(n,e,t){const r=[],i=t||jj(n[0]),a=n.length-1;for(let l=0;l<a;l++){let c=i(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]:e;c=of(d,c)}r.push(c)}return r}function Fj([n,e],[t]){return r=>t(Cu(n,e,r))}function Uj(n,e){const t=n.length,r=t-1;return i=>{let a=0,l=!1;if(i<=n[0]?l=!0:i>=n[r]&&(a=r-1,l=!0),!l){let d=1;for(;d<t&&!(n[d]>i||d===r);d++);a=d-1}const c=Cu(n[a],n[a+1],i);return e[a](c)}}function ox(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;dh(a===e.length),dh(!r||!Array.isArray(r)||r.length===a-1),n[0]>n[a-1]&&(n=[].concat(n),e=[].concat(e),n.reverse(),e.reverse());const l=Mj(e,r,i),c=a===2?Fj(n,l):Uj(n,l);return t?d=>c(hh(n[0],n[a-1],d)):c}const af=n=>e=>1-n(1-e),Fy=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Bj=n=>e=>Math.pow(e,n),ax=n=>e=>e*e*((n+1)*e-n),$j=n=>{const e=ax(n);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))},lx=1.525,zj=4/11,Hj=8/11,Wj=9/10,Uy=n=>n,By=Bj(2),qj=af(By),ux=Fy(By),cx=n=>1-Math.sin(Math.acos(n)),$y=af(cx),Kj=Fy($y),zy=ax(lx),Gj=af(zy),Qj=Fy(zy),Yj=$j(lx),Xj=4356/361,Jj=35442/1805,Zj=16061/1805,fh=n=>{if(n===1||n===0)return n;const e=n*n;return n<zj?7.5625*e:n<Hj?9.075*e-9.9*n+3.4:n<Wj?Xj*e-Jj*n+Zj:10.8*n*n-20.52*n+10.72},eM=af(fh),tM=n=>n<.5?.5*(1-fh(1-n*2)):.5*fh(n*2-1)+.5;function nM(n,e){return n.map(()=>e||ux).splice(0,n.length-1)}function rM(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function iM(n,e){return n.map(t=>t*e)}function jd({from:n=0,to:e=1,ease:t,offset:r,duration:i=300}){const a={done:!1,value:n},l=Array.isArray(e)?e:[n,e],c=iM(r&&r.length===l.length?r:rM(l),i);function d(){return ox(c,l,{ease:Array.isArray(t)?t:nM(l,t)})}let f=d();return{next:m=>(a.value=f(m),a.done=m>=i,a),flipTarget:()=>{l.reverse(),f=d()}}}function sM({velocity:n=0,from:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:a}){const l={done:!1,value:e};let c=t*n;const d=e+c,f=a===void 0?d:a(d);return f!==d&&(c=f-e),{next:m=>{const y=-c*Math.exp(-m/r);return l.done=!(y>i||y<-i),l.value=l.done?f:f+y,l},flipTarget:()=>{}}}const hE={keyframes:jd,spring:My,decay:sM};function oM(n){if(Array.isArray(n.to))return jd;if(hE[n.type])return hE[n.type];const e=new Set(Object.keys(n));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?jd:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?My:jd}const dx=1/60*1e3,aM=typeof performance<"u"?()=>performance.now():()=>Date.now(),hx=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(aM()),dx);function lM(n){let e=[],t=[],r=0,i=!1,a=!1;const l=new WeakSet,c={schedule:(d,f=!1,m=!1)=>{const y=m&&i,v=y?e:t;return f&&l.add(d),v.indexOf(d)===-1&&(v.push(d),y&&i&&(r=e.length)),d},cancel:d=>{const f=t.indexOf(d);f!==-1&&t.splice(f,1),l.delete(d)},process:d=>{if(i){a=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let f=0;f<r;f++){const m=e[f];m(d),l.has(m)&&(c.schedule(m),n())}i=!1,a&&(a=!1,c.process(d))}};return c}const uM=40;let sg=!0,bu=!1,og=!1;const Aa={delta:0,timestamp:0},Gu=["read","update","preRender","render","postRender"],lf=Gu.reduce((n,e)=>(n[e]=lM(()=>bu=!0),n),{}),hr=Gu.reduce((n,e)=>{const t=lf[e];return n[e]=(r,i=!1,a=!1)=>(bu||dM(),t.schedule(r,i,a)),n},{}),Ns=Gu.reduce((n,e)=>(n[e]=lf[e].cancel,n),{}),am=Gu.reduce((n,e)=>(n[e]=()=>lf[e].process(Aa),n),{}),cM=n=>lf[n].process(Aa),fx=n=>{bu=!1,Aa.delta=sg?dx:Math.max(Math.min(n-Aa.timestamp,uM),1),Aa.timestamp=n,og=!0,Gu.forEach(cM),og=!1,bu&&(sg=!1,hx(fx))},dM=()=>{bu=!0,sg=!0,og||hx(fx)},ph=()=>Aa;function px(n,e,t=0){return n-e-t}function hM(n,e,t=0,r=!0){return r?px(e+-n,e,t):e-(n-e)+t}function fM(n,e,t,r){return r?n>=e+t:n<=-t}const pM=n=>{const e=({delta:t})=>n(t);return{start:()=>hr.update(e,!0),stop:()=>Ns.update(e)}};function mx(n){var e,t,{from:r,autoplay:i=!0,driver:a=pM,elapsed:l=0,repeat:c=0,repeatType:d="loop",repeatDelay:f=0,onPlay:m,onStop:y,onComplete:v,onRepeat:S,onUpdate:I}=n,R=tx(n,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:P}=R,j,x=0,O=R.duration,M,B=!1,Q=!0,D;const b=oM(R);!((t=(e=b).needsInterpolation)===null||t===void 0)&&t.call(e,r,P)&&(D=ox([0,100],[r,P],{clamp:!1}),r=0,P=100);const k=b(Object.assign(Object.assign({},R),{from:r,to:P}));function L(){x++,d==="reverse"?(Q=x%2===0,l=hM(l,O,f,Q)):(l=px(l,O,f),d==="mirror"&&k.flipTarget()),B=!1,S&&S()}function F(){j.stop(),v&&v()}function $(ge){if(Q||(ge=-ge),l+=ge,!B){const ke=k.next(Math.max(0,l));M=ke.value,D&&(M=D(M)),B=Q?ke.done:l<=0}I==null||I(M),B&&(x===0&&(O??(O=l)),x<c?fM(l,O,f,Q)&&L():F())}function V(){m==null||m(),j=a($),j.start()}return i&&V(),{stop:()=>{y==null||y(),j.stop()}}}function gx(n,e){return e?n*(1e3/e):0}function mM({from:n=0,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:a=750,bounceStiffness:l=500,bounceDamping:c=10,restDelta:d=1,modifyTarget:f,driver:m,onUpdate:y,onComplete:v,onStop:S}){let I;function R(O){return t!==void 0&&O<t||r!==void 0&&O>r}function P(O){return t===void 0?r:r===void 0||Math.abs(t-O)<Math.abs(r-O)?t:r}function j(O){I==null||I.stop(),I=mx(Object.assign(Object.assign({},O),{driver:m,onUpdate:M=>{var B;y==null||y(M),(B=O.onUpdate)===null||B===void 0||B.call(O,M)},onComplete:v,onStop:S}))}function x(O){j(Object.assign({type:"spring",stiffness:l,damping:c,restDelta:d},O))}if(R(n))x({from:n,velocity:e,to:P(n)});else{let O=i*e+n;typeof f<"u"&&(O=f(O));const M=P(O),B=M===t?-1:1;let Q,D;const b=k=>{Q=D,D=k,e=gx(k-Q,ph().delta),(B===1&&k>M||B===-1&&k<M)&&x({from:k,to:M,velocity:e})};j({type:"decay",from:n,velocity:e,timeConstant:a,power:i,restDelta:d,modifyTarget:f,onUpdate:R(O)?b:void 0})}return{stop:()=>I==null?void 0:I.stop()}}const ag=n=>n.hasOwnProperty("x")&&n.hasOwnProperty("y"),fE=n=>ag(n)&&n.hasOwnProperty("z"),_d=(n,e)=>Math.abs(n-e);function gM(n,e){if(ig(n)&&ig(e))return _d(n,e);if(ag(n)&&ag(e)){const t=_d(n.x,e.x),r=_d(n.y,e.y),i=fE(n)&&fE(e)?_d(n.z,e.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(r,2)+Math.pow(i,2))}}const yx=(n,e)=>1-3*e+3*n,vx=(n,e)=>3*e-6*n,_x=n=>3*n,mh=(n,e,t)=>((yx(e,t)*n+vx(e,t))*n+_x(e))*n,wx=(n,e,t)=>3*yx(e,t)*n*n+2*vx(e,t)*n+_x(e),yM=1e-7,vM=10;function _M(n,e,t,r,i){let a,l,c=0;do l=e+(t-e)/2,a=mh(l,r,i)-n,a>0?t=l:e=l;while(Math.abs(a)>yM&&++c<vM);return l}const wM=8,EM=.001;function TM(n,e,t,r){for(let i=0;i<wM;++i){const a=wx(e,t,r);if(a===0)return e;const l=mh(e,t,r)-n;e-=l/a}return e}const Md=11,wd=1/(Md-1);function SM(n,e,t,r){if(n===e&&t===r)return Uy;const i=new Float32Array(Md);for(let l=0;l<Md;++l)i[l]=mh(l*wd,n,t);function a(l){let c=0,d=1;const f=Md-1;for(;d!==f&&i[d]<=l;++d)c+=wd;--d;const m=(l-i[d])/(i[d+1]-i[d]),y=c+m*wd,v=wx(y,n,t);return v>=EM?TM(l,y,n,t):v===0?y:_M(l,c,c+wd,n,t)}return l=>l===0||l===1?l:mh(a(l),e,r)}function IM({onTap:n,onTapStart:e,onTapCancel:t,whileTap:r,visualElement:i}){const a=n||e||t||r,l=A.useRef(!1),c=A.useRef(null),d={passive:!(e||n||t||S)};function f(){c.current&&c.current(),c.current=null}function m(){return f(),l.current=!1,i.animationState&&i.animationState.setActive(Et.Tap,!1),!ZI()}function y(I,R){m()&&(ex(i.current,I.target)?n&&n(I,R):t&&t(I,R))}function v(I,R){m()&&t&&t(I,R)}function S(I,R){f(),!l.current&&(l.current=!0,c.current=of(Pa(window,"pointerup",y,d),Pa(window,"pointercancel",v,d)),i.animationState&&i.animationState.setActive(Et.Tap,!0),e&&e(I,R))}ch(i,"pointerdown",a?S:void 0,d),jy(f)}var xM={};const CM="production",Ex=typeof process>"u"||xM===void 0?CM:"production",pE=new Set;function Tx(n,e,t){pE.has(e)||(console.warn(e),pE.add(e))}const lg=new WeakMap,lm=new WeakMap,bM=n=>{const e=lg.get(n.target);e&&e(n)},PM=n=>{n.forEach(bM)};function AM({root:n,...e}){const t=n||document;lm.has(t)||lm.set(t,{});const r=lm.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(PM,{root:n,...e})),r[i]}function RM(n,e,t){const r=AM(e);return lg.set(n,t),r.observe(n),()=>{lg.delete(n),r.unobserve(n)}}function kM({visualElement:n,whileInView:e,onViewportEnter:t,onViewportLeave:r,viewport:i={}}){const a=A.useRef({hasEnteredView:!1,isInView:!1});let l=!!(e||t||r);i.once&&a.current.hasEnteredView&&(l=!1),(typeof IntersectionObserver>"u"?DM:OM)(l,a.current,n,i)}const NM={some:0,all:1};function OM(n,e,t,{root:r,margin:i,amount:a="some",once:l}){A.useEffect(()=>{if(!n||!t.current)return;const c={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof a=="number"?a:NM[a]},d=f=>{const{isIntersecting:m}=f;if(e.isInView===m||(e.isInView=m,l&&!m&&e.hasEnteredView))return;m&&(e.hasEnteredView=!0),t.animationState&&t.animationState.setActive(Et.InView,m);const y=t.getProps(),v=m?y.onViewportEnter:y.onViewportLeave;v&&v(f)};return RM(t.current,c,d)},[n,r,i,a])}function DM(n,e,t,{fallback:r=!0}){A.useEffect(()=>{!n||!r||(Ex!=="production"&&Tx(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=t.getProps();i&&i(null),t.animationState&&t.animationState.setActive(Et.InView,!0)}))},[n])}const vs=n=>e=>(n(e),null),VM={inView:vs(kM),tap:vs(IM),focus:vs(dj),hover:vs(Ej)};function Sx(){const n=A.useContext(Wu);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=A.useId();return A.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}function Ix(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const gh=n=>n*1e3,LM={linear:Uy,easeIn:By,easeInOut:ux,easeOut:qj,circIn:cx,circInOut:Kj,circOut:$y,backIn:zy,backInOut:Qj,backOut:Gj,anticipate:Yj,bounceIn:eM,bounceInOut:tM,bounceOut:fh},mE=n=>{if(Array.isArray(n)){dh(n.length===4);const[e,t,r,i]=n;return SM(e,t,r,i)}else if(typeof n=="string")return LM[n];return n},jM=n=>Array.isArray(n)&&typeof n[0]!="number",gE=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Di.test(e)&&!e.startsWith("url(")),ao=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Ed=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),um=()=>({type:"keyframes",ease:"linear",duration:.3}),MM=n=>({type:"keyframes",duration:.8,values:n}),yE={x:ao,y:ao,z:ao,rotate:ao,rotateX:ao,rotateY:ao,rotateZ:ao,scaleX:Ed,scaleY:Ed,scale:Ed,opacity:um,backgroundColor:um,color:um,default:Ed},FM=(n,e)=>{let t;return xu(e)?t=MM:t=yE[n]||yE.default,{to:e,...t(e)}},UM={...LI,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:tg,WebkitFilter:tg},Hy=n=>UM[n];function Wy(n,e){var t;let r=Hy(n);return r!==tg&&(r=Di),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,e)}function xx(n,e){const t=performance.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(Ns.read(r),n(a-e))};return hr.read(r,!0),()=>Ns.read(r)}function BM({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:d,...f}){return!!Object.keys(f).length}function $M({ease:n,times:e,yoyo:t,flip:r,loop:i,...a}){const l={...a};return e&&(l.offset=e),a.duration&&(l.duration=gh(a.duration)),a.repeatDelay&&(l.repeatDelay=gh(a.repeatDelay)),n&&(l.ease=jM(n)?n.map(mE):mE(n)),a.type==="tween"&&(l.type="keyframes"),(t||i||r)&&(t?l.repeatType="reverse":i?l.repeatType="loop":r&&(l.repeatType="mirror"),l.repeat=i||t||r||a.repeat),a.type!=="spring"&&(l.type="keyframes"),l}function zM(n,e){var t,r;return(r=(t=(qy(n,e)||{}).delay)!==null&&t!==void 0?t:n.delay)!==null&&r!==void 0?r:0}function HM(n){return Array.isArray(n.to)&&n.to[0]===null&&(n.to=[...n.to],n.to[0]=n.from),n}function WM(n,e,t){return Array.isArray(e.to)&&n.duration===void 0&&(n.duration=.8),HM(e),BM(n)||(n={...n,...FM(t,e.to)}),{...e,...$M(n)}}function qM(n,e,t,r,i){const a=qy(r,n)||{};let l=a.from!==void 0?a.from:e.get();const c=gE(n,t);l==="none"&&c&&typeof t=="string"?l=Wy(n,t):vE(l)&&typeof t=="string"?l=_E(t):!Array.isArray(t)&&vE(t)&&typeof l=="string"&&(t=_E(l));const d=gE(n,l);function f(){const y={from:l,to:t,velocity:e.getVelocity(),onComplete:i,onUpdate:v=>e.set(v)};return a.type==="inertia"||a.type==="decay"?mM({...y,...a}):mx({...WM(a,y,n),onUpdate:v=>{y.onUpdate(v),a.onUpdate&&a.onUpdate(v)},onComplete:()=>{y.onComplete(),a.onComplete&&a.onComplete()}})}function m(){const y=WI(t);return e.set(y),i(),a.onUpdate&&a.onUpdate(y),a.onComplete&&a.onComplete(),{stop:()=>{}}}return!d||!c||a.type===!1?m:f}function vE(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function _E(n){return typeof n=="number"?0:Wy("",n)}function qy(n,e){return n[e]||n.default||n}function Ky(n,e,t,r={}){return e.start(i=>{let a;const l=qM(n,e,t,r,i),c=zM(r,n),d=()=>a=l();let f;return c?f=xx(d,gh(c)):d(),()=>{f&&f(),a&&a.stop()}})}const KM=n=>/^\-?\d*\.?\d+$/.test(n),GM=n=>/^0[^.\s]+$/.test(n);function Gy(n,e){n.indexOf(e)===-1&&n.push(e)}function Qy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class iu{constructor(){this.subscriptions=[]}add(e){return Gy(this.subscriptions,e),()=>Qy(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const QM=n=>!isNaN(parseFloat(n));class YM{constructor(e){this.version="7.6.16",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new iu,this.velocityUpdateSubscribers=new iu,this.renderSubscribers=new iu,this.canTrackVelocity=!1,this.updateAndNotify=(t,r=!0)=>{this.prev=this.current,this.current=t;const{delta:i,timestamp:a}=ph();this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,hr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),r&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>hr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=QM(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.stopAnimation=e(t)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function Ua(n){return new YM(n)}const Cx=n=>e=>e.test(n),XM={test:n=>n==="auto",parse:n=>n},bx=[Po,Le,ri,cs,DL,OL,XM],Ul=n=>bx.find(Cx(n)),JM=[...bx,xn,Di],ZM=n=>JM.find(Cx(n));function e4(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function t4(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function uf(n,e,t){const r=n.getProps();return Vy(r,e,t!==void 0?t:r.custom,e4(n),t4(n))}function n4(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ua(t))}function r4(n,e){const t=uf(n,e);let{transitionEnd:r={},transition:i={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const l in a){const c=WI(a[l]);n4(n,l,c)}}function i4(n,e,t){var r,i;const a=Object.keys(e).filter(c=>!n.hasValue(c)),l=a.length;if(l)for(let c=0;c<l;c++){const d=a[c],f=e[d];let m=null;Array.isArray(f)&&(m=f[0]),m===null&&(m=(i=(r=t[d])!==null&&r!==void 0?r:n.readValue(d))!==null&&i!==void 0?i:e[d]),m!=null&&(typeof m=="string"&&(KM(m)||GM(m))?m=parseFloat(m):!ZM(m)&&Di.test(f)&&(m=Wy(d,f)),n.addValue(d,Ua(m)),t[d]===void 0&&(t[d]=m),m!==null&&n.setBaseTarget(d,m))}}function s4(n,e){return e?(e[n]||e.default||e).from:void 0}function o4(n,e,t){var r;const i={};for(const a in n){const l=s4(a,e);i[a]=l!==void 0?l:(r=t.getValue(a))===null||r===void 0?void 0:r.get()}return i}function yh(n){return!!(si(n)&&n.add)}function a4(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>ug(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=ug(n,e,t);else{const i=typeof e=="function"?uf(n,e,t.custom):e;r=Px(n,i,t)}return r.then(()=>n.notify("AnimationComplete",e))}function ug(n,e,t={}){var r;const i=uf(n,e,t.custom);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const l=i?()=>Px(n,i,t):()=>Promise.resolve(),c=!((r=n.variantChildren)===null||r===void 0)&&r.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return l4(n,e,m+f,y,v,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,m]=d==="beforeChildren"?[l,c]:[c,l];return f().then(m)}else return Promise.all([l(),c(t.delay)])}function Px(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=n.makeTargetAnimatable(e);const f=n.getValue("willChange");r&&(l=r);const m=[],y=i&&((a=n.animationState)===null||a===void 0?void 0:a.getState()[i]);for(const v in d){const S=n.getValue(v),I=d[v];if(!S||I===void 0||y&&c4(y,v))continue;let R={delay:t,...l};n.shouldReduceMotion&&el.has(v)&&(R={...R,type:!1,delay:0});let P=Ky(v,S,I,R);yh(f)&&(f.add(v),P=P.then(()=>f.remove(v))),m.push(P)}return Promise.all(m).then(()=>{c&&r4(n,c)})}function l4(n,e,t=0,r=0,i=1,a){const l=[],c=(n.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(n.variantChildren).sort(u4).forEach((f,m)=>{l.push(ug(f,e,{...a,delay:t+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function u4(n,e){return n.sortNodePosition(e)}function c4({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}const Yy=[Et.Animate,Et.InView,Et.Focus,Et.Hover,Et.Tap,Et.Drag,Et.Exit],d4=[...Yy].reverse(),h4=Yy.length;function f4(n){return e=>Promise.all(e.map(({animation:t,options:r})=>a4(n,t,r)))}function p4(n){let e=f4(n);const t=g4();let r=!0;const i=(d,f)=>{const m=uf(n,f);if(m){const{transition:y,transitionEnd:v,...S}=m;d={...d,...S,...v}}return d};function a(d){e=d(n)}function l(d,f){var m;const y=n.getProps(),v=n.getVariantContext(!0)||{},S=[],I=new Set;let R={},P=1/0;for(let x=0;x<h4;x++){const O=d4[x],M=t[O],B=(m=y[O])!==null&&m!==void 0?m:v[O],Q=Tu(B),D=O===f?M.isActive:null;D===!1&&(P=x);let b=B===v[O]&&B!==y[O]&&Q;if(b&&r&&n.manuallyAnimateOnMount&&(b=!1),M.protectedKeys={...R},!M.isActive&&D===null||!B&&!M.prevProp||tf(B)||typeof B=="boolean")continue;const k=m4(M.prevProp,B);let L=k||O===f&&M.isActive&&!b&&Q||x>P&&Q;const F=Array.isArray(B)?B:[B];let $=F.reduce(i,{});D===!1&&($={});const{prevResolvedValues:V={}}=M,ge={...V,...$},ke=ye=>{L=!0,I.delete(ye),M.needsAnimating[ye]=!0};for(const ye in ge){const Ie=$[ye],te=V[ye];R.hasOwnProperty(ye)||(Ie!==te?xu(Ie)&&xu(te)?!Ix(Ie,te)||k?ke(ye):M.protectedKeys[ye]=!0:Ie!==void 0?ke(ye):I.add(ye):Ie!==void 0&&I.has(ye)?ke(ye):M.protectedKeys[ye]=!0)}M.prevProp=B,M.prevResolvedValues=$,M.isActive&&(R={...R,...$}),r&&n.blockInitialAnimation&&(L=!1),L&&!b&&S.push(...F.map(ye=>({animation:ye,options:{type:O,...d}})))}if(I.size){const x={};I.forEach(O=>{const M=n.getBaseTarget(O);M!==void 0&&(x[O]=M)}),S.push({animation:x})}let j=!!S.length;return r&&y.initial===!1&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(S):Promise.resolve()}function c(d,f,m){var y;if(t[d].isActive===f)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(S=>{var I;return(I=S.animationState)===null||I===void 0?void 0:I.setActive(d,f)}),t[d].isActive=f;const v=l(m,d);for(const S in t)t[S].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t}}function m4(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Ix(e,n):!1}function lo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g4(){return{[Et.Animate]:lo(!0),[Et.InView]:lo(),[Et.Hover]:lo(),[Et.Tap]:lo(),[Et.Drag]:lo(),[Et.Focus]:lo(),[Et.Exit]:lo()}}const y4={animation:vs(({visualElement:n,animate:e})=>{n.animationState||(n.animationState=p4(n)),tf(e)&&A.useEffect(()=>e.subscribe(n),[e])}),exit:vs(n=>{const{custom:e,visualElement:t}=n,[r,i]=Sx(),a=A.useContext(Wu);A.useEffect(()=>{t.isPresent=r;const l=t.animationState&&t.animationState.setActive(Et.Exit,!r,{custom:a&&a.custom||e});l&&!r&&l.then(i)},[r])})};class Ax{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=gM(f.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:v}=f,{timestamp:S}=ph();this.history.push({...v,timestamp:S});const{onStart:I,onMove:R}=this.handlers;m||(I&&I(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{if(this.lastMoveEvent=f,this.lastMoveEventInfo=cm(m,this.transformPagePoint),KI(f)&&f.buttons===0){this.handlePointerUp(f,m);return}hr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:v}=this.handlers,S=dm(cm(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,S),v&&v(f,S)},GI(e)&&e.touches.length>1)return;this.handlers=t,this.transformPagePoint=r;const i=Ly(e),a=cm(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=ph();this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,dm(a,this.history)),this.removeListeners=of(Pa(window,"pointermove",this.handlePointerMove),Pa(window,"pointerup",this.handlePointerUp),Pa(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ns.update(this.updatePoint)}}function cm(n,e){return e?{point:e(n.point)}:n}function wE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function dm({point:n},e){return{point:n,delta:wE(n,Rx(e)),offset:wE(n,v4(e)),velocity:_4(e,.1)}}function v4(n){return n[0]}function Rx(n){return n[n.length-1]}function _4(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Rx(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>gh(e)));)t--;if(!r)return{x:0,y:0};const a=(i.timestamp-r.timestamp)/1e3;if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Yn(n){return n.max-n.min}function cg(n,e=0,t=.01){return Math.abs(n-e)<=t}function EE(n,e,t,r=.5){n.origin=r,n.originPoint=Vt(e.min,e.max,n.origin),n.scale=Yn(t)/Yn(e),(cg(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Vt(t.min,t.max,n.origin)-n.originPoint,(cg(n.translate)||isNaN(n.translate))&&(n.translate=0)}function su(n,e,t,r){EE(n.x,e.x,t.x,r==null?void 0:r.originX),EE(n.y,e.y,t.y,r==null?void 0:r.originY)}function TE(n,e,t){n.min=t.min+e.min,n.max=n.min+Yn(e)}function w4(n,e,t){TE(n.x,e.x,t.x),TE(n.y,e.y,t.y)}function SE(n,e,t){n.min=e.min-t.min,n.max=n.min+Yn(e)}function ou(n,e,t){SE(n.x,e.x,t.x),SE(n.y,e.y,t.y)}function E4(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Vt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Vt(t,n,r.max):Math.min(n,t)),n}function IE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function T4(n,{top:e,left:t,bottom:r,right:i}){return{x:IE(n.x,t,i),y:IE(n.y,e,r)}}function xE(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function S4(n,e){return{x:xE(n.x,e.x),y:xE(n.y,e.y)}}function I4(n,e){let t=.5;const r=Yn(n),i=Yn(e);return i>r?t=Cu(e.min,e.max-r,n.min):r>i&&(t=Cu(n.min,n.max-i,e.min)),hh(0,1,t)}function x4(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const dg=.35;function C4(n=dg){return n===!1?n=0:n===!0&&(n=dg),{x:CE(n,"left","right"),y:CE(n,"top","bottom")}}function CE(n,e,t){return{min:bE(n,e),max:bE(n,t)}}function bE(n,e){var t;return typeof n=="number"?n:(t=n[e])!==null&&t!==void 0?t:0}const PE=()=>({translate:0,scale:1,origin:0,originPoint:0}),au=()=>({x:PE(),y:PE()}),AE=()=>({min:0,max:0}),Gt=()=>({x:AE(),y:AE()});function Yr(n){return[n("x"),n("y")]}function kx({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function b4({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function P4(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function hm(n){return n===void 0||n===1}function hg({scale:n,scaleX:e,scaleY:t}){return!hm(n)||!hm(e)||!hm(t)}function co(n){return hg(n)||Nx(n)||n.z||n.rotate||n.rotateX||n.rotateY}function Nx(n){return RE(n.x)||RE(n.y)}function RE(n){return n&&n!=="0%"}function vh(n,e,t){const r=n-t,i=e*r;return t+i}function kE(n,e,t,r,i){return i!==void 0&&(n=vh(n,i,r)),vh(n,t,r)+e}function fg(n,e=0,t=1,r,i){n.min=kE(n.min,e,t,r,i),n.max=kE(n.max,e,t,r,i)}function Ox(n,{x:e,y:t}){fg(n.x,e.translate,e.scale,e.originPoint),fg(n.y,t.translate,t.scale,t.originPoint)}function A4(n,e,t,r=!1){var i,a;const l=t.length;if(!l)return;e.x=e.y=1;let c,d;for(let f=0;f<l;f++)c=t[f],d=c.projectionDelta,((a=(i=c.instance)===null||i===void 0?void 0:i.style)===null||a===void 0?void 0:a.display)!=="contents"&&(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Sa(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,Ox(n,d)),r&&co(c.latestValues)&&Sa(n,c.latestValues));e.x=NE(e.x),e.y=NE(e.y)}function NE(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function ds(n,e){n.min=n.min+e,n.max=n.max+e}function OE(n,e,[t,r,i]){const a=e[i]!==void 0?e[i]:.5,l=Vt(n.min,n.max,a);fg(n,e[t],e[r],l,e.scale)}const R4=["x","scaleX","originX"],k4=["y","scaleY","originY"];function Sa(n,e){OE(n.x,e,R4),OE(n.y,e,k4)}function Dx(n,e){return kx(P4(n.getBoundingClientRect(),e))}function N4(n,e,t){const r=Dx(n,t),{scroll:i}=e;return i&&(ds(r.x,i.offset.x),ds(r.y,i.offset.y)),r}const O4=new WeakMap;class D4{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){if(this.visualElement.isPresent===!1)return;const r=c=>{this.stopAnimation(),t&&this.snapToCursor(Ly(c,"page").point)},i=(c,d)=>{var f;const{drag:m,dragPropagation:y,onDragStart:v}=this.getProps();m&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=JI(m),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yr(S=>{var I,R;let P=this.getAxisMotionValue(S).get()||0;if(ri.test(P)){const j=(R=(I=this.visualElement.projection)===null||I===void 0?void 0:I.layout)===null||R===void 0?void 0:R.layoutBox[S];j&&(P=Yn(j)*(parseFloat(P)/100))}this.originPoint[S]=P}),v==null||v(c,d),(f=this.visualElement.animationState)===null||f===void 0||f.setActive(Et.Drag,!0))},a=(c,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=d;if(m&&this.currentDirection===null){this.currentDirection=V4(S),this.currentDirection!==null&&(y==null||y(this.currentDirection));return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),v==null||v(c,d)},l=(c,d)=>this.stop(c,d);this.panSession=new Ax(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a==null||a(e,t)}cancel(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(Et.Drag,!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Td(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=E4(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Ta(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=T4(r.layoutBox,e):this.constraints=!1,this.elastic=C4(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Yr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=x4(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ta(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=N4(r,i.root,this.visualElement.getTransformPagePoint());let l=S4(i.layout.layoutBox,a);if(t){const c=t(b4(l));this.hasMutatedConstraints=!!c,c&&(l=kx(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Yr(m=>{var y;if(!Td(m,t,this.currentDirection))return;let v=(y=d==null?void 0:d[m])!==null&&y!==void 0?y:{};l&&(v={min:0,max:0});const S=i?200:1e6,I=i?40:1e7,R={type:"inertia",velocity:r?e[m]:0,bounceStiffness:S,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(m,R)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Ky(e,r,0,t)}stopAnimation(){Yr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var t,r;const i="_drag"+e.toUpperCase(),a=this.visualElement.getProps()[i];return a||this.visualElement.getValue(e,(r=(t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])!==null&&r!==void 0?r:0)}snapToCursor(e){Yr(t=>{const{drag:r}=this.getProps();if(!Td(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[t];a.set(e[t]-Vt(l,c,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Ta(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Yr(c=>{const d=this.getAxisMotionValue(c);if(d){const f=d.get();a[c]=I4({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),Yr(c=>{if(!Td(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Vt(f,m,a[c]))})}addListeners(){var e;if(!this.visualElement.current)return;O4.set(this.visualElement,this);const t=this.visualElement.current,r=Pa(t,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Ta(f)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&((e=a.root)===null||e===void 0||e.updateScroll(),a.updateLayout()),i();const c=sf(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Yr(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())});return()=>{c(),r(),l(),d==null||d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=dg,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Td(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function V4(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function L4(n){const{dragControls:e,visualElement:t}=n,r=rf(()=>new D4(t));A.useEffect(()=>e&&e.subscribe(r),[r,e]),A.useEffect(()=>r.addListeners(),[r])}function j4({onPan:n,onPanStart:e,onPanEnd:t,onPanSessionStart:r,visualElement:i}){const a=n||e||t||r,l=A.useRef(null),{transformPagePoint:c}=A.useContext(by),d={onSessionStart:r,onStart:e,onMove:n,onEnd:(m,y)=>{l.current=null,t&&t(m,y)}};A.useEffect(()=>{l.current!==null&&l.current.updateHandlers(d)});function f(m){l.current=new Ax(m,d,{transformPagePoint:c})}ch(i,"pointerdown",a&&f),jy(()=>l.current&&l.current.end())}const M4={pan:vs(j4),drag:vs(L4)};function pg(n){return typeof n=="string"&&n.startsWith("var(--")}const Vx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function F4(n){const e=Vx.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function mg(n,e,t=1){const[r,i]=F4(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);return a?a.trim():pg(i)?mg(i,e,t+1):i}function U4(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const a=i.get();if(!pg(a))return;const l=mg(a,r);l&&i.set(l)});for(const i in e){const a=e[i];if(!pg(a))continue;const l=mg(a,r);l&&(e[i]=l,t&&t[i]===void 0&&(t[i]=a))}return{target:e,transitionEnd:t}}const B4=new Set(["width","height","top","left","right","bottom","x","y"]),Lx=n=>B4.has(n),$4=n=>Object.keys(n).some(Lx),jx=(n,e)=>{n.set(e,!1),n.set(e)},DE=n=>n===Po||n===Le;var VE;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(VE||(VE={}));const LE=(n,e)=>parseFloat(n.split(", ")[e]),jE=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return LE(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?LE(a[1],n):0}},z4=new Set(["x","y","z"]),H4=lh.filter(n=>!z4.has(n));function W4(n){const e=[];return H4.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ME={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:jE(4,13),y:jE(5,14)},q4=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:l}=a,c={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(f=>{c[f]=ME[f](r,a)}),e.render();const d=e.measureViewportBox();return t.forEach(f=>{const m=e.getValue(f);jx(m,c[f]),n[f]=ME[f](d,a)}),n},K4=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Lx);let a=[],l=!1;const c=[];if(i.forEach(d=>{const f=n.getValue(d);if(!n.hasValue(d))return;let m=t[d],y=Ul(m);const v=e[d];let S;if(xu(v)){const I=v.length,R=v[0]===null?1:0;m=v[R],y=Ul(m);for(let P=R;P<I;P++)S?dh(Ul(v[P])===S):S=Ul(v[P])}else S=Ul(v);if(y!==S)if(DE(y)&&DE(S)){const I=f.get();typeof I=="string"&&f.set(parseFloat(I)),typeof v=="string"?e[d]=parseFloat(v):Array.isArray(v)&&S===Le&&(e[d]=v.map(parseFloat))}else y!=null&&y.transform&&(S!=null&&S.transform)&&(m===0||v===0)?m===0?f.set(S.transform(m)):e[d]=y.transform(v):(l||(a=W4(n),l=!0),c.push(d),r[d]=r[d]!==void 0?r[d]:e[d],jx(f,v))}),c.length){const d=c.indexOf("height")>=0?window.pageYOffset:null,f=q4(e,n,c);return a.length&&a.forEach(([m,y])=>{n.getValue(m).set(y)}),n.render(),bo&&d!==null&&window.scrollTo({top:d}),{target:f,transitionEnd:r}}else return{target:e,transitionEnd:r}};function G4(n,e,t,r){return $4(e)?K4(n,e,t,r):{target:e,transitionEnd:r}}const Q4=(n,e,t,r)=>{const i=U4(n,e,r);return e=i.target,r=i.transitionEnd,G4(n,e,t,r)},gg={current:null},Mx={current:!1};function Y4(){if(Mx.current=!0,!!bo)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>gg.current=n.matches;n.addListener(e),e()}else gg.current=!1}function X4(n,e,t){const{willChange:r}=e;for(const i in e){const a=e[i],l=t[i];if(si(a))n.addValue(i,a),yh(r)&&r.add(i);else if(si(l))n.addValue(i,Ua(a)),yh(r)&&r.remove(i);else if(l!==a)if(n.hasValue(i)){const c=n.getValue(i);!c.hasAnimated&&c.set(a)}else{const c=n.getStaticValue(i);n.addValue(i,Ua(c!==void 0?c:a))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const Fx=Object.keys(Su),J4=Fx.length,FE=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Z4{constructor({parent:e,props:t,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>hr.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=nf(t),this.isVariantNode=xI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(t);for(const m in f){const y=f[m];l[m]!==void 0&&si(y)&&(y.set(l[m],!1),yh(d)&&d.add(m))}}scrapeMotionValuesFromProps(e){return{}}mount(e){var t;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(t=this.parent)===null||t===void 0?void 0:t.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Mx.current||Y4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gg.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,t,r;(e=this.projection)===null||e===void 0||e.unmount(),Ns.update(this.notifyUpdate),Ns.render(this.render),this.valueSubscriptions.forEach(i=>i()),(t=this.removeFromVariantTree)===null||t===void 0||t.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,t){const r=el.has(e),i=t.onChange(l=>{this.latestValues[e]=l,this.props.onUpdate&&hr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures(e,t,r,i,a,l){const c=[];for(let d=0;d<J4;d++){const f=Fx[d],{isEnabled:m,Component:y}=Su[f];m(e)&&y&&c.push(A.createElement(y,{key:f,...e,visualElement:this}))}if(!this.projection&&a){this.projection=new a(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:f,drag:m,dragConstraints:y,layoutScroll:v}=e;this.projection.setOptions({layoutId:d,layout:f,alwaysMeasureLayout:!!m||y&&Ta(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:l,layoutScroll:v})}return c}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let t=0;t<FE.length;t++){const r=FE[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=X4(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var t;return(t=this.props.variants)===null||t===void 0?void 0:t[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var t,r;if(e)return(t=this.parent)===null||t===void 0?void 0:t.getVariantContext();if(!this.isControllingVariants){const a=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const i={};for(let a=0;a<e3;a++){const l=Ux[a],c=this.props[l];(Tu(c)||c===!1)&&(i[l]=c)}return i}addVariantChild(e){var t;const r=this.getClosestVariantNode();if(r)return(t=r.variantChildren)===null||t===void 0||t.add(e),()=>r.variantChildren.delete(e)}addValue(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.latestValues[e]=t.get(),this.bindToMotionValue(e,t)}removeValue(e){var t;this.values.delete(e),(t=this.valueSubscriptions.get(e))===null||t===void 0||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Ua(t),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=Vy(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!si(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new iu),this.events[e].add(t)}notify(e,...t){var r;(r=this.events[e])===null||r===void 0||r.notify(...t)}}const Ux=["initial",...Yy],e3=Ux.length;class Bx extends Z4{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},a){let l=o4(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),l&&(l=i(l))),a){i4(this,r,l);const c=Q4(this,r,l,t);t=c.transitionEnd,r=c.target}return{transition:e,transitionEnd:t,...r}}}function t3(n){return window.getComputedStyle(n)}class n3 extends Bx{readValueFromInstance(e,t){if(el.has(t)){const r=Hy(t);return r&&r.default||0}else{const r=t3(e),i=(PI(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Dx(e,t)}build(e,t,r,i){ky(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e){return Dy(e)}renderInstance(e,t,r,i){BI(e,t,r,i)}}class r3 extends Bx{getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){var r;return el.has(t)?((r=Hy(t))===null||r===void 0?void 0:r.default)||0:(t=$I.has(t)?t:UI(t),e.getAttribute(t))}measureInstanceViewportBox(){return Gt()}scrapeMotionValuesFromProps(e){return HI(e)}build(e,t,r,i){Oy(e,t,r,i.transformTemplate)}renderInstance(e,t,r,i){zI(e,t,r,i)}}const i3=(n,e)=>Ay(n)?new r3(e,{enableHardwareAcceleration:!1}):new n3(e,{enableHardwareAcceleration:!0});function UE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Bl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Le.test(n))n=parseFloat(n);else return n;const t=UE(n,e.target.x),r=UE(n,e.target.y);return`${t}% ${r}%`}},BE="_$css",s3={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=n.includes("var("),a=[];i&&(n=n.replace(Vx,S=>(a.push(S),BE)));const l=Di.parse(n);if(l.length>5)return r;const c=Di.createTransformer(n),d=typeof l[0]!="number"?1:0,f=t.x.scale*e.x,m=t.y.scale*e.y;l[0+d]/=f,l[1+d]/=m;const y=Vt(f,m,.5);typeof l[2+d]=="number"&&(l[2+d]/=y),typeof l[3+d]=="number"&&(l[3+d]/=y);let v=c(l);if(i){let S=0;v=v.replace(BE,()=>{const I=a[S];return S++,I})}return v}};class o3 extends tt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;bL(l3),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),tu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||hr.postRender(()=>{var c;!((c=l.getStack())===null||c===void 0)&&c.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t!=null&&t.group&&t.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function a3(n){const[e,t]=Sx(),r=A.useContext(Py);return tt.createElement(o3,{...n,layoutGroup:r,switchLayoutGroup:A.useContext(CI),isPresent:e,safeToRemove:t})}const l3={borderRadius:{...Bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bl,borderTopRightRadius:Bl,borderBottomLeftRadius:Bl,borderBottomRightRadius:Bl,boxShadow:s3},u3={measureLayout:a3};function c3(n,e,t={}){const r=si(n)?n:Ua(n);return Ky("",r,e,t),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const $x=["TopLeft","TopRight","BottomLeft","BottomRight"],d3=$x.length,$E=n=>typeof n=="string"?parseFloat(n):n,zE=n=>typeof n=="number"||Le.test(n);function h3(n,e,t,r,i,a){var l,c,d,f;i?(n.opacity=Vt(0,(l=t.opacity)!==null&&l!==void 0?l:1,f3(r)),n.opacityExit=Vt((c=e.opacity)!==null&&c!==void 0?c:1,0,p3(r))):a&&(n.opacity=Vt((d=e.opacity)!==null&&d!==void 0?d:1,(f=t.opacity)!==null&&f!==void 0?f:1,r));for(let m=0;m<d3;m++){const y=`border${$x[m]}Radius`;let v=HE(e,y),S=HE(t,y);if(v===void 0&&S===void 0)continue;v||(v=0),S||(S=0),v===0||S===0||zE(v)===zE(S)?(n[y]=Math.max(Vt($E(v),$E(S),r),0),(ri.test(S)||ri.test(v))&&(n[y]+="%")):n[y]=S}(e.rotate||t.rotate)&&(n.rotate=Vt(e.rotate||0,t.rotate||0,r))}function HE(n,e){var t;return(t=n[e])!==null&&t!==void 0?t:n.borderRadius}const f3=zx(0,.5,$y),p3=zx(.5,.95,Uy);function zx(n,e,t){return r=>r<n?0:r>e?1:t(Cu(n,e,r))}function WE(n,e){n.min=e.min,n.max=e.max}function Ar(n,e){WE(n.x,e.x),WE(n.y,e.y)}function qE(n,e,t,r,i){return n-=e,n=vh(n,1/t,r),i!==void 0&&(n=vh(n,1/i,r)),n}function m3(n,e=0,t=1,r=.5,i,a=n,l=n){if(ri.test(e)&&(e=parseFloat(e),e=Vt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Vt(a.min,a.max,r);n===a&&(c-=e),n.min=qE(n.min,e,t,c,i),n.max=qE(n.max,e,t,c,i)}function KE(n,e,[t,r,i],a,l){m3(n,e[t],e[r],e[i],e.scale,a,l)}const g3=["x","scaleX","originX"],y3=["y","scaleY","originY"];function GE(n,e,t,r){KE(n.x,e,g3,t==null?void 0:t.x,r==null?void 0:r.x),KE(n.y,e,y3,t==null?void 0:t.y,r==null?void 0:r.y)}function QE(n){return n.translate===0&&n.scale===1}function Hx(n){return QE(n.x)&&QE(n.y)}function Wx(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function YE(n){return Yn(n.x)/Yn(n.y)}class v3{constructor(){this.members=[]}add(e){Gy(this.members,e),e.scheduleRender()}remove(e){if(Qy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var t,r,i,a,l;(r=(t=e.options).onExitComplete)===null||r===void 0||r.call(t),(l=(i=e.resumingFrom)===null||i===void 0?void 0:(a=i.options).onExitComplete)===null||l===void 0||l.call(a)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XE(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:d,rotateX:f,rotateY:m}=t;d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const _3=(n,e)=>n.depth-e.depth;class w3{constructor(){this.children=[],this.isDirty=!1}add(e){Gy(this.children,e),this.isDirty=!0}remove(e){Qy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_3),this.isDirty=!1,this.children.forEach(e)}}const JE=["","X","Y","Z"],ZE=1e3;let E3=0;function qx({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l,c={},d=e==null?void 0:e()){this.id=E3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(I3),this.nodes.forEach(b3),this.nodes.forEach(P3)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=l,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0,l&&this.root.registerPotentialNode(l,this);for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new w3)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new iu),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d==null||d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}registerPotentialNode(l,c){this.potentialNodes.set(l,c)}mount(l,c=!1){var d;if(this.instance)return;this.isSVG=l instanceof SVGElement&&l.tagName!=="svg",this.instance=l;const{layoutId:f,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),(d=this.parent)===null||d===void 0||d.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),c&&(m||f)&&(this.isLayoutDirty=!0),n){let v;const S=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=xx(S,250),tu.hasAnimatedSinceResize&&(tu.hasAnimatedSinceResize=!1,this.nodes.forEach(tT))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:S,hasRelativeTargetChanged:I,layout:R})=>{var P,j,x,O,M;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=(j=(P=this.options.transition)!==null&&P!==void 0?P:y.getDefaultTransition())!==null&&j!==void 0?j:O3,{onLayoutAnimationStart:Q,onLayoutAnimationComplete:D}=y.getProps(),b=!this.targetLayout||!Wx(this.targetLayout,R)||I,k=!S&&I;if(!((x=this.resumeFrom)===null||x===void 0)&&x.instance||k||S&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,k);const L={...qy(B,"layout"),onPlay:Q,onComplete:D};y.shouldReduceMotion&&(L.delay=0,L.type=!1),this.startAnimation(L)}else!S&&this.animationProgress===0&&tT(this),this.isLead()&&((M=(O=this.options).onExitComplete)===null||M===void 0||M.call(O));this.targetLayout=R})}unmount(){var l,c;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(l=this.getStack())===null||l===void 0||l.remove(this),(c=this.parent)===null||c===void 0||c.children.delete(this),this.instance=void 0,Ns.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var l;return this.isAnimationBlocked||((l=this.parent)===null||l===void 0?void 0:l.isTreeAnimationBlocked())||!1}startUpdate(){var l;this.isUpdateBlocked()||(this.isUpdating=!0,(l=this.nodes)===null||l===void 0||l.forEach(A3),this.animationId++)}willUpdate(l=!0){var c,d,f;if(this.root.isUpdateBlocked()){(d=(c=this.options).onExitComplete)===null||d===void 0||d.call(c);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const I=this.path[S];I.shouldResetTransform=!0,I.updateScroll("snapshot")}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const v=(f=this.options.visualElement)===null||f===void 0?void 0:f.getProps().transformTemplate;this.prevTransformTemplateValue=v==null?void 0:v(this.latestValues,""),this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eT);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(D3),this.potentialNodes.clear()),this.nodes.forEach(C3),this.nodes.forEach(T3),this.nodes.forEach(S3),this.clearAllSnapshots(),am.update(),am.preRender(),am.render())}clearAllSnapshots(){this.nodes.forEach(x3),this.sharedNodes.forEach(R3)}scheduleUpdateProjection(){hr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var l;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(l=this.options.visualElement)===null||l===void 0||l.notify("LayoutMeasure",this.layout.layoutBox,c==null?void 0:c.layoutBox)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){var l;if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!Hx(this.projectionDelta),f=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate,m=f==null?void 0:f(this.latestValues,""),y=m!==this.prevTransformTemplateValue;c&&(d||co(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),V3(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Gt();const c=l.measureViewportBox(),{scroll:d}=this.root;return d&&(ds(c.x,d.offset.x),ds(c.y,d.offset.y)),c}removeElementScroll(l){const c=Gt();Ar(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:y}=f;if(f!==this.root&&m&&y.layoutScroll){if(m.isRoot){Ar(c,l);const{scroll:v}=this.root;v&&(ds(c.x,-v.offset.x),ds(c.y,-v.offset.y))}ds(c.x,m.offset.x),ds(c.y,m.offset.y)}}return c}applyTransform(l,c=!1){const d=Gt();Ar(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Sa(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),co(m.latestValues)&&Sa(d,m.latestValues)}return co(this.latestValues)&&Sa(d,this.latestValues),d}removeTransform(l){var c;const d=Gt();Ar(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!co(m.latestValues))continue;hg(m.latestValues)&&m.updateSnapshot();const y=Gt(),v=m.measurePageBox();Ar(y,v),GE(d,m.latestValues,(c=m.snapshot)===null||c===void 0?void 0:c.layoutBox,y)}return co(this.latestValues)&&GE(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var l;const c=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout?(this.relativeParent=m,this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),ou(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&(!((l=this.relativeParent)===null||l===void 0)&&l.target)?w4(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),Ox(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target?(this.relativeParent=m,this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),ou(this.relativeTargetOrigin,this.target,m.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hg(this.parent.latestValues)||Nx(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var l;const{isProjectionDirty:c,isTransformDirty:d}=this;this.isProjectionDirty=this.isTransformDirty=!1;const f=this.getLead(),m=!!this.resumingFrom||this!==f;let y=!0;if(c&&(y=!1),m&&d&&(y=!1),y)return;const{layout:v,layoutId:S}=this.options;if(this.isTreeAnimating=!!(!((l=this.parent)===null||l===void 0)&&l.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||S))return;Ar(this.layoutCorrected,this.layout.layoutBox),A4(this.layoutCorrected,this.treeScale,this.path,m);const{target:I}=f;if(!I)return;this.projectionDelta||(this.projectionDelta=au(),this.projectionDeltaWithTransform=au());const R=this.treeScale.x,P=this.treeScale.y,j=this.projectionTransform;su(this.projectionDelta,this.layoutCorrected,I,this.latestValues),this.projectionTransform=XE(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==R||this.treeScale.y!==P)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c,d,f;(d=(c=this.options).scheduleRender)===null||d===void 0||d.call(c),l&&((f=this.getStack())===null||f===void 0||f.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){var d,f;const m=this.snapshot,y=(m==null?void 0:m.latestValues)||{},v={...this.latestValues},S=au();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!c;const I=Gt(),R=(m==null?void 0:m.source)!==((d=this.layout)===null||d===void 0?void 0:d.source),P=(((f=this.getStack())===null||f===void 0?void 0:f.members.length)||0)<=1,j=!!(R&&!P&&this.options.crossfade===!0&&!this.path.some(N3));this.animationProgress=0,this.mixTargetDelta=x=>{var O;const M=x/1e3;nT(S.x,l.x,M),nT(S.y,l.y,M),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((O=this.relativeParent)===null||O===void 0)&&O.layout)&&(ou(I,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k3(this.relativeTarget,this.relativeTargetOrigin,I,M)),R&&(this.animationValues=v,h3(v,y,this.latestValues,M,j,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(0)}startAnimation(l){var c,d;this.notifyListeners("animationStart"),(c=this.currentAnimation)===null||c===void 0||c.stop(),this.resumingFrom&&((d=this.resumingFrom.currentAnimation)===null||d===void 0||d.stop()),this.pendingAnimation&&(Ns.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update(()=>{tu.hasAnimatedSinceResize=!0,this.currentAnimation=c3(0,ZE,{...l,onUpdate:f=>{var m;this.mixTargetDelta(f),(m=l.onUpdate)===null||m===void 0||m.call(l,f)},onComplete:()=>{var f;(f=l.onComplete)===null||f===void 0||f.call(l),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var l;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(l=this.getStack())===null||l===void 0||l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var l;this.currentAnimation&&((l=this.mixTargetDelta)===null||l===void 0||l.call(this,ZE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&Kx(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Gt();const y=Yn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const v=Yn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+v}Ar(c,d),Sa(c,m),su(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){var d,f,m;this.sharedNodes.has(l)||this.sharedNodes.set(l,new v3),this.sharedNodes.get(l).add(c),c.promote({transition:(d=c.options.initialPromotionConfig)===null||d===void 0?void 0:d.transition,preserveFollowOpacity:(m=(f=c.options.initialPromotionConfig)===null||f===void 0?void 0:f.shouldPreserveFollowOpacity)===null||m===void 0?void 0:m.call(f,c)})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(c=!0),!c)return;const f={};for(let m=0;m<JE.length;m++){const y="rotate"+JE[m];d[y]&&(f[y]=d[y],l.setStaticValue(y,0))}l==null||l.render();for(const m in f)l.setStaticValue(m,f[m]);l.scheduleRender()}getProjectionStyles(l={}){var c,d,f;const m={};if(!this.instance||this.isSVG)return m;if(this.isVisible)m.visibility="";else return{visibility:"hidden"};const y=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Ld(l.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Ld(l.pointerEvents)||""),this.hasProjected&&!co(this.latestValues)&&(P.transform=y?y({},""):"none",this.hasProjected=!1),P}const S=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=XE(this.projectionDeltaWithTransform,this.treeScale,S),y&&(m.transform=y(S,m.transform));const{x:I,y:R}=this.projectionDelta;m.transformOrigin=`${I.origin*100}% ${R.origin*100}% 0`,v.animationValues?m.opacity=v===this?(f=(d=S.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:m.opacity=v===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const P in ah){if(S[P]===void 0)continue;const{correct:j,applyTo:x}=ah[P],O=j(S[P],v);if(x){const M=x.length;for(let B=0;B<M;B++)m[x[B]]=O}else m[P]=O}return this.options.layoutId&&(m.pointerEvents=v===this?Ld(l.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(eT),this.root.sharedNodes.clear()}}}function T3(n){n.updateLayout()}function S3(n){var e,t,r;const i=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:l}=n.layout,{animationType:c}=n.options,d=i.source!==n.layout.source;c==="size"?Yr(S=>{const I=d?i.measuredBox[S]:i.layoutBox[S],R=Yn(I);I.min=a[S].min,I.max=I.min+R}):Kx(c,i.layoutBox,a)&&Yr(S=>{const I=d?i.measuredBox[S]:i.layoutBox[S],R=Yn(a[S]);I.max=I.min+R});const f=au();su(f,a,i.layoutBox);const m=au();d?su(m,n.applyTransform(l,!0),i.measuredBox):su(m,a,i.layoutBox);const y=!Hx(f);let v=!1;if(!n.resumeFrom){const S=n.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:I,layout:R}=S;if(I&&R){const P=Gt();ou(P,i.layoutBox,I.layoutBox);const j=Gt();ou(j,a,R.layoutBox),Wx(P,j)||(v=!0)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:m,layoutDelta:f,hasLayoutChanged:y,hasRelativeTargetChanged:v})}else n.isLead()&&((r=(t=n.options).onExitComplete)===null||r===void 0||r.call(t));n.options.transition=void 0}function I3(n){n.isProjectionDirty||(n.isProjectionDirty=!!(n.parent&&n.parent.isProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=!!(n.parent&&n.parent.isTransformDirty))}function x3(n){n.clearSnapshot()}function eT(n){n.clearMeasurements()}function C3(n){const{visualElement:e}=n.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function tT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function b3(n){n.resolveTargetDelta()}function P3(n){n.calcProjection()}function A3(n){n.resetRotation()}function R3(n){n.removeLeadSnapshot()}function nT(n,e,t){n.translate=Vt(e.translate,0,t),n.scale=Vt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function rT(n,e,t,r){n.min=Vt(e.min,t.min,r),n.max=Vt(e.max,t.max,r)}function k3(n,e,t,r){rT(n.x,e.x,t.x,r),rT(n.y,e.y,t.y,r)}function N3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const O3={duration:.45,ease:[.4,0,.1,1]};function D3(n,e){let t=n.root;for(let a=n.path.length-1;a>=0;a--)if(n.path[a].instance){t=n.path[a];break}const i=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&n.mount(i,!0)}function iT(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function V3(n){iT(n.x),iT(n.y)}function Kx(n,e,t){return n==="position"||n==="preserve-aspect"&&!cg(YE(e),YE(t),.2)}const L3=qx({attachResizeListener:(n,e)=>sf(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fm={current:void 0},j3=qx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!fm.current){const n=new L3(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),fm.current=n}return fm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),M3={...y4,...VM,...M4,...u3},Cn=xL((n,e)=>cj(n,e,M3,i3,j3));function Gx(){const n=A.useRef(!1);return oh(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function F3(){const n=Gx(),[e,t]=A.useState(0),r=A.useCallback(()=>{n.current&&t(e+1)},[e]);return[A.useCallback(()=>hr.postRender(r),[r]),e]}class U3 extends A.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B3({children:n,isPresent:e}){const t=A.useId(),r=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0});return A.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d}=i.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=t;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),A.createElement(U3,{isPresent:e,childRef:r,sizeRef:i},A.cloneElement(n,{ref:r}))}const pm=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const c=rf($3),d=A.useId(),f=A.useMemo(()=>({id:d,initial:e,isPresent:t,custom:i,onExitComplete:m=>{c.set(m,!0);for(const y of c.values())if(!y)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),a?void 0:[t]);return A.useMemo(()=>{c.forEach((m,y)=>c.set(y,!1))},[t]),A.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),l==="popLayout"&&(n=A.createElement(B3,{isPresent:t},n)),A.createElement(Wu.Provider,{value:f},n)};function $3(){return new Map}const wa=n=>n.key||"";function z3(n,e){n.forEach(t=>{const r=wa(t);e.set(r,t)})}function H3(n){const e=[];return A.Children.forEach(n,t=>{A.isValidElement(t)&&e.push(t)}),e}const Ba=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:l="sync"})=>{i&&(l="wait",Tx(!1,"Replace exitBeforeEnter with mode='wait'"));let[c]=F3();const d=A.useContext(Py).forceRender;d&&(c=d);const f=Gx(),m=H3(n);let y=m;const v=new Set,S=A.useRef(y),I=A.useRef(new Map).current,R=A.useRef(!0);if(oh(()=>{R.current=!1,z3(m,I),S.current=y}),jy(()=>{R.current=!0,I.clear(),v.clear()}),R.current)return A.createElement(A.Fragment,null,y.map(O=>A.createElement(pm,{key:wa(O),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:l},O)));y=[...y];const P=S.current.map(wa),j=m.map(wa),x=P.length;for(let O=0;O<x;O++){const M=P[O];j.indexOf(M)===-1&&v.add(M)}return l==="wait"&&v.size&&(y=[]),v.forEach(O=>{if(j.indexOf(O)!==-1)return;const M=I.get(O);if(!M)return;const B=P.indexOf(O),Q=()=>{I.delete(O),v.delete(O);const D=S.current.findIndex(b=>b.key===O);if(S.current.splice(D,1),!v.size){if(S.current=m,f.current===!1)return;c(),r&&r()}};y.splice(B,0,A.createElement(pm,{key:wa(M),isPresent:!1,onExitComplete:Q,custom:e,presenceAffectsLayout:a,mode:l},M))}),y=y.map(O=>{const M=O.key;return v.has(M)?O:A.createElement(pm,{key:wa(O),isPresent:!0,presenceAffectsLayout:a,mode:l},O)}),Ex!=="production"&&l==="wait"&&y.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),A.createElement(A.Fragment,null,v.size?y:y.map(O=>A.cloneElement(O)))},W3=({item:n,product:e})=>{const{addToCart:t,removeFromCart:r}=A.useContext(Yh),{t:i}=Ot(),[a,l]=A.useState(!1),c=A.useRef(null);A.useEffect(()=>{const f=m=>{c.current&&!c.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=f=>f.split(" ").slice(0,5).join(" ")+"...";return E.jsxs("div",{className:"cart-item",children:[E.jsx("img",{src:e.image,alt:n.name,className:"cart-item-image"}),E.jsxs("div",{className:"cart-item-info",children:[E.jsx("h4",{className:"cart-item-name",children:n.name}),E.jsx("p",{className:"cart-item-desc",onClick:()=>l(!0),style:{color:"#555",cursor:"pointer",textDecoration:"underline"},children:d(e.description)}),E.jsxs("p",{className:"cart-item-price",children:[i("cart.price"),": $",n.price.toFixed(2)]}),E.jsxs("p",{className:"cart-item-size",children:[i("cart.size"),": ",n.size]}),E.jsxs("div",{className:"cart-item-controls",children:[E.jsx("button",{className:"cart-btn",onClick:()=>r(n.id,n.size,n.collection),children:"-"}),E.jsx("span",{className:"cart-quantity",children:n.quantity}),E.jsx("button",{className:"cart-btn",onClick:()=>t({id:n.id,name:n.name,image:e.image},{label:n.size,price:n.price,collection:n.collection}),children:"+"})]}),E.jsxs("span",{className:"cart-item-total",children:[i("cart.total"),": $",(n.price*n.quantity).toFixed(2)]})]}),E.jsx(Ba,{children:a&&E.jsx("div",{className:"modal-overlay",children:E.jsxs(Cn.div,{className:"modal-content desc-modal",ref:c,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[E.jsx("h4",{className:"modal-title",children:i("cart.fullDescription")}),E.jsx("p",{children:e.description})]},"desc-modal")})}),E.jsx("hr",{className:"cart-item-separator"})]})},q3=({subtotal:n,dineOption:e,deliveryFee:t,total:r,setDineOption:i})=>{const{t:a}=Ot();return E.jsxs("div",{className:"cart-details",children:[E.jsx("h3",{className:"summary-title",children:a("cart.totalTitle")}),E.jsxs("p",{className:"summary-line",children:[a("cart.subtotal"),": $",n.toFixed(2)]}),e==="outside"&&E.jsxs("p",{className:"summary-line",children:[a("cart.deliveryFee"),": $",t.toFixed(2)]}),E.jsxs("p",{className:"summary-total",children:[a("cart.total"),": $",r.toFixed(2)]}),!e&&E.jsxs("div",{className:"dine-option-buttons",children:[E.jsx("button",{onClick:()=>i("inside"),children:a("cart.inside")}),E.jsx("button",{onClick:()=>i("outside"),children:a("cart.outside")})]})]})},K3=({tableNumber:n,setTableNumber:e,notes:t,setNotes:r,setShowCashModal:i,setDineOption:a})=>{const{t:l}=Ot(),c=A.useRef(null),[d,f]=A.useState(!1);A.useEffect(()=>{const y=v=>{c.current&&!c.current.contains(v.target)&&a(null)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]);const m=()=>{if(!n||n===""){f(!0);return}f(!1),i(!0)};return E.jsx("div",{className:"modal-overlay",children:E.jsxs(Cn.div,{ref:c,className:"modal-content inside-modal",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[E.jsx("h3",{className:"modal-title",children:l("dinein.title")}),E.jsx("p",{className:"para",style:{color:"#666"},children:l("dinein.instruction")}),E.jsxs("label",{children:[E.jsx("p",{style:{marginBottom:"10px"},children:l("dinein.label")}),E.jsx("input",{type:"number",placeholder:l("dinein.placeholder"),value:n,onChange:y=>e(y.target.value),className:d&&!n?"error-border":"",min:"1",max:"20"})]}),E.jsx("textarea",{placeholder:l("dinein.notesPlaceholder"),value:t,onChange:y=>r(y.target.value),className:"order-notes-input"}),d&&E.jsx("p",{className:"error-text",children:l("dinein.errorMsg")}),E.jsx("button",{className:"confirm-btn",onClick:m,children:l("dinein.proceedBtn")})]},"inside-modal")})},G3=({customerInfo:n,setCustomerInfo:e,notes:t,setNotes:r,setShowCashModal:i,setDineOption:a})=>{const{t:l}=Ot(),c=A.useRef(null),[d,f]=A.useState(!1);A.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),A.useEffect(()=>{const y=v=>{c.current&&!c.current.contains(v.target)&&a(null)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]);const m=()=>{const{name:y,phone:v,address:S}=n;if(!y||!v||!S){f(!0);return}f(!1),i(!0)};return E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{ref:c,className:"modal-content delivery-modal fade-in-modal",children:[E.jsx("h3",{className:"modal-title",children:l("delivery.title")}),E.jsx("p",{className:"para",style:{color:"#666"},children:l("delivery.instruction")}),E.jsx("input",{type:"text",placeholder:l("delivery.namePlaceholder"),value:n.name,onChange:y=>e({...n,name:y.target.value}),className:d&&!n.name?"error-border":""}),E.jsx("input",{type:"tel",placeholder:l("delivery.phonePlaceholder"),value:n.phone,onChange:y=>e({...n,phone:y.target.value}),className:d&&!n.phone?"error-border":""}),E.jsx("input",{type:"text",placeholder:l("delivery.addressPlaceholder"),value:n.address,onChange:y=>e({...n,address:y.target.value}),className:d&&!n.address?"error-border":""}),E.jsx("textarea",{placeholder:l("delivery.notesPlaceholder"),value:t,onChange:y=>r(y.target.value),className:"order-notes-input"}),d&&E.jsx("p",{className:"error-text",children:l("delivery.errorMsg")}),E.jsx("button",{className:"confirm-btn",onClick:m,children:l("delivery.proceedBtn")})]})})},Q3=({onClose:n,onConfirm:e})=>{const{t}=Ot();return E.jsx("div",{className:"modal-overlay",onClick:n,children:E.jsxs(Cn.div,{className:"modal-content payment-modal",onClick:r=>r.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[E.jsx("h3",{className:"modal-title",children:t("payment.title")}),E.jsxs("button",{className:"confirm-btn",onClick:e,children:["💵 ",t("payment.cash")]}),E.jsx("button",{className:"cancel-btn",onClick:n,children:t("payment.cancel")})]},"payment-modal")})},Y3=()=>{const{t:n}=Ot(),{cartItems:e,addToCart:t,removeFromCart:r,clearCart:i}=A.useContext(Yh),[a,l]=A.useState({}),[c,d]=A.useState(!0),[f,m]=A.useState(null),[y,v]=A.useState(1),[S,I]=A.useState(""),[R,P]=A.useState(!1),[j,x]=A.useState({name:"",phone:"",country:"",address:""}),[O,M]=A.useState(null),{slug:B}=_n();A.useEffect(()=>{(async()=>{const F={};for(const $ in e){const V=e[$];if(!V||!V.id)continue;const ge=typeof V.collection=="string"?V.collection:"products";try{const ke=vt(it,"ReVerse",B,ge,V.id),ye=await An(ke);ye.exists()&&(F[V.id]={id:ye.id,...ye.data()})}catch(ke){console.error("Error fetching product:",ke)}}l(F),d(!1)})()},[e,B]),A.useEffect(()=>{(async()=>{const F=vt(it,"ReVerse",B),$=await An(F);$.exists()&&M($.data())})()},[B]);const Q=3,D=Object.values(e).reduce((L,F)=>L+F.price*F.quantity,0),b=D+(f==="outside"?Q:0),k=async()=>{const L={items:Object.values(e).map(F=>({id:F.id,name:F.name,price:F.price,quantity:F.quantity,size:F.size})),dineOption:f,...f==="inside"?{tableNumber:y}:{customerInfo:j},notes:S,total:b,paymentMethod:"cash",paymentStatus:"pending",createdAt:FO(),isSeen:!1};try{await my(Lr(it,"ReVerse",B,"orders"),L),i(),I(""),P(!1),ve.success("Your order has been received and is now being prepared!")}catch(F){console.error("Error placing order:",F),ve.error("An error occurred while submitting your order. Please try again!")}};return c?E.jsx("p",{children:"Loading..."}):E.jsxs(Cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"cart-page",children:[E.jsx(Hu,{position:"top-center",autoClose:3e3}),E.jsx("h2",{className:"cart-title",children:"Your Cart"}),Object.keys(e).length===0?E.jsxs("div",{className:"cart-empty",children:[E.jsx("p",{children:n("cart.emptyMessage")}),E.jsx("hr",{})]}):E.jsxs(E.Fragment,{children:[Object.entries(e).map(([L,F])=>{const $=a[F.id];return E.jsx(W3,{item:F,product:$,addToCart:t,removeFromCart:r},L)}),E.jsxs("div",{className:"cart-bottom",children:[E.jsxs("div",{className:"cart-summary-section",children:[(O==null?void 0:O.checkoutImage)&&E.jsxs("div",{className:"cart-image-box",children:[E.jsx("img",{src:O.checkoutImage,alt:"Checkout"}),(O==null?void 0:O.CartText)&&E.jsx("p",{children:O.CartText})]}),E.jsx(q3,{subtotal:D,deliveryFee:Q,total:b,dineOption:f,setDineOption:m})]}),E.jsx("div",{className:"cart-forms",children:E.jsxs(Ba,{mode:"wait",children:[f==="inside"&&E.jsx(K3,{tableNumber:y,setTableNumber:v,notes:S,setNotes:I,setShowCashModal:P,setDineOption:m},"inside-form"),f==="outside"&&E.jsx(G3,{customerInfo:j,setCustomerInfo:x,notes:S,setNotes:I,setShowCashModal:P,setDineOption:m},"delivery-form")]})})]}),R&&E.jsx(Ba,{mode:"wait",children:E.jsx(Q3,{onConfirm:k,onClose:()=>P(!1)},"payment-modal")})]})]})},X3=({onClose:n,onOpenContact:e,onOpenAdmin:t,slug:r})=>{const{t:i}=Ot(),a=Xn(),l=A.useRef(),[c,d]=A.useState(!1),f=()=>{d(!0),setTimeout(()=>{n()},300)};A.useEffect(()=>{const v=S=>{l.current&&!l.current.contains(S.target)&&f()};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=v=>{a(`/reverse/${r}${v}`),f()},y=v=>{const S=document.getElementById(v);S?(S.scrollIntoView({behavior:"smooth"}),f()):(a(`/reverse/${r}?scrollTo=${v}`),f())};return console.log("✅ SideMenu mounted with slug:",r),E.jsx("div",{className:`side-overlay ${c?"fade-out":"fade-in"}`,children:E.jsxs("div",{ref:l,className:`sidemenu ${c?"slide-out":""}`,children:[E.jsx("button",{className:"close-btn",onClick:f,children:"✕"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx("button",{onClick:()=>m(""),children:i("sidemenu.home")})}),E.jsx("li",{children:E.jsx("button",{onClick:()=>m("/cart"),children:i("sidemenu.cart")})}),E.jsx("li",{children:E.jsx("button",{onClick:()=>y("menu"),children:i("sidemenu.products")})}),E.jsx("li",{children:E.jsx("button",{onClick:()=>y("book"),children:i("sidemenu.book_table")})}),E.jsx("li",{children:E.jsx("button",{onClick:()=>y("footer"),children:i("sidemenu.about_us")})}),E.jsx("li",{children:E.jsx("button",{onClick:t,children:i("sidemenu.admin")})}),E.jsx("li",{children:E.jsx("button",{onClick:e,children:i("sidemenu.contact")})})]})]})})};function J3({onClose:n}){const{t:e}=Ot(),[t,r]=A.useState(""),[i,a]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(!1),[m,y]=A.useState(!1),[v,S]=A.useState(""),[I,R]=A.useState(!1),P=Xn(),{slug:j}=_n(),x=()=>{r(""),a(""),f(!1)};A.useEffect(()=>{j&&c(j)},[j]),A.useEffect(()=>{const B=Iy(kr,async Q=>{if(Q){const D=localStorage.getItem("slug");if(D)try{const b=vt(it,"ReVerse",D),k=await An(b);if(k.exists()){const L=k.data();S(L.adminName||"Admin"),c(D),y(!0)}else ve.error(e("errors.storedProjectNotFound")),M()}catch{ve.error(e("errors.sessionCheck")),M()}}});return()=>B()},[]),A.useEffect(()=>{const B=localStorage.getItem("slug");m&&j&&B&&j!==B&&(ve.info(e("messages.projectSwitched")),M())},[j,m]);const O=async B=>{if(B.preventDefault(),!d){ve.error(e("errors.privacyPolicy"));return}try{const Q=await F2(kr,t,i),D=vt(it,"ReVerse",l),b=await An(D);if(b.exists()){const k=b.data();k.adminEmail===t?(ve.success(e("messages.loginSuccess")),x(),S(k.adminName||"Admin"),y(!0),localStorage.setItem("slug",l)):(ve.error(e("errors.notAuthorized")),x(),await fo(kr))}else ve.error(e("errors.projectNotFound")),x(),await fo(kr)}catch{ve.error(e("errors.loginFailed")),x()}},M=async()=>{await fo(kr),y(!1),S(""),x(),localStorage.removeItem("slug"),ve.success(e("messages.loggedOut"))};return m?E.jsx("div",{className:"admin-overlay",children:E.jsxs("div",{className:"admin-container",children:[E.jsx("button",{className:"admin-close-btn",onClick:n,children:"✕"}),I?E.jsxs("div",{className:"logout-confirm",children:[E.jsx("p",{className:"confirm-text",children:e("confirm.logout")}),E.jsxs("div",{className:"confirm-actions",children:[E.jsx("button",{className:"admin-btn danger",onClick:M,children:e("buttons.yes")}),E.jsx("button",{className:"admin-btn",onClick:()=>R(!1),children:e("buttons.no")})]})]}):E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:"admin-title",children:e("adminO.hello",{name:v})}),E.jsx("p",{className:"admin-subtitle",children:e("adminO.nowYouCan")}),E.jsxs("div",{className:"admin-actions",children:[l&&E.jsx("button",{className:"admin-btn primary",onClick:()=>P(`/reverse/${l}/adminClientH`),children:e("buttons.goToAdmin")}),E.jsx("p",{className:"admin-or",children:e("buttons.or")}),E.jsx("button",{className:"admin-btn danger",onClick:()=>R(!0),children:e("buttons.logout")})]})]})]})}):E.jsx("div",{className:"admin-overlay",children:E.jsxs("div",{className:"admin-container",children:[E.jsx("button",{className:"admin-close-btn",onClick:n,children:"✕"}),E.jsx("p",{children:e("adminO.welcome")}),E.jsx("p",{children:e("adminO.loginPrompt")}),E.jsxs("form",{onSubmit:O,className:"admin-form",children:[E.jsx("input",{type:"email",placeholder:e("placeholders.email"),value:t,onChange:B=>r(B.target.value)}),E.jsx("input",{type:"password",placeholder:e("placeholders.password"),value:i,onChange:B=>a(B.target.value)}),E.jsxs("p",{children:[e("adminO.willLogInto")," ",E.jsx("strong",{children:l})]}),E.jsxs("label",{className:"admin-agree",children:[E.jsx("input",{type:"checkbox",checked:d,onChange:B=>f(B.target.checked)}),e("privacy.agree")]}),E.jsx("button",{type:"submit",children:e("buttons.login")})]})]})})}var Qx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sT=tt.createContext&&tt.createContext(Qx),Z3=["attr","size","title"];function eF(n,e){if(n==null)return{};var t=tF(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function tF(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function _h(){return _h=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_h.apply(this,arguments)}function oT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(t),!0).forEach(function(r){nF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nF(n,e,t){return e=rF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rF(n){var e=iF(n,"string");return typeof e=="symbol"?e:e+""}function iF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yx(n){return n&&n.map((e,t)=>tt.createElement(e.tag,wh({key:t},e.attr),Yx(e.child)))}function Qu(n){return e=>tt.createElement(sF,_h({attr:wh({},n.attr)},e),Yx(n.child))}function sF(n){var e=t=>{var{attr:r,size:i,title:a}=n,l=eF(n,Z3),c=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),tt.createElement("svg",_h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:wh(wh({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&tt.createElement("title",null,a),n.children)};return sT!==void 0?tt.createElement(sT.Consumer,null,t=>e(t)):e(Qx)}function oF(n){return Qu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function Xx(n){return Qu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Jx(n){return Qu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function aF(n){return Qu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}const lF=({onClose:n,slug:e})=>{const[t,r]=A.useState(null),{t:i}=Ot(),[a,l]=A.useState(!1);A.useEffect(()=>{(async()=>{var f;try{const m=vt(it,"ReVerse",e),y=await An(m);if(y.exists()){const S=((f=y.data().footerSettings)==null?void 0:f.socialLinks)||{};r(S),setTimeout(()=>l(!0),10)}}catch(m){console.error("🔥 Error fetching contact info:",m)}})()},[e]);const c=(t==null?void 0:t.facebook)||(t==null?void 0:t.instagram)||(t==null?void 0:t.whatsapp);return E.jsx("div",{className:"contact-modal",children:E.jsxs("div",{className:`contact-container ${a?"fade-in-slide":""}`,children:[E.jsx("button",{className:"contact-close-btn",onClick:n,children:"✕"}),t?E.jsxs(E.Fragment,{children:[E.jsxs("p",{className:"contact-greeting",children:[i("contact.greeting")," ",E.jsx("span",{children:i("contact.contactVia")})]}),c?E.jsxs("div",{className:"contact-icons",children:[t.facebook&&E.jsx("a",{href:t.facebook,target:"_blank",rel:"noreferrer",children:E.jsx(oF,{className:"contact-icon facebook"})}),t.instagram&&E.jsx("a",{href:t.instagram,target:"_blank",rel:"noreferrer",children:E.jsx(Xx,{className:"contact-icon instagram"})}),t.whatsapp&&E.jsx("a",{href:`https://wa.me/${t.whatsapp}`,target:"_blank",rel:"noreferrer",children:E.jsx(Jx,{className:"contact-icon whatsapp"})})]}):E.jsx("p",{className:"contact-nodata",children:i("contact.noData")})]}):E.jsx("p",{className:"contact-loading",children:i("contact.loading")})]})})},uF=({language:n,setLanguage:e})=>E.jsxs("div",{className:"language-switcher",children:[E.jsx("button",{className:n==="ar"?"active":"",onClick:()=>e("ar"),children:"AR"}),E.jsx("button",{className:n==="en"?"active":"",onClick:()=>e("en"),children:"EN"})]});function Zx(){const{t:n,i18n:e}=Ot(),{slug:t}=_n(),r=Xn(),[i,a]=A.useState(null),[l,c]=A.useState(!1),[d,f]=A.useState(!1),[m,y]=A.useState(!1),[v,S]=A.useState(localStorage.getItem("language")||"en");A.useEffect(()=>{(async()=>{try{const P=vt(it,"ReVerse",t),j=await An(P);j.exists()?a(j.data()):console.error("Restaurant not found")}catch(P){console.error("Error fetching data:",P)}})()},[t]);const I=R=>{S(R),localStorage.setItem("language",R),e.changeLanguage(R)};return i?E.jsxs(E.Fragment,{children:[E.jsxs("nav",{className:"navbar fade-in-footer",children:[E.jsx("img",{className:"logo",src:i.logo,alt:"logo",width:"100"}),E.jsxs("div",{className:"menusec",children:[E.jsx(uF,{language:v,setLanguage:I}),E.jsx("button",{onClick:()=>r(`/reverse/${t}/cart`),children:n("navbar.cart")}),E.jsx("button",{onClick:()=>c(!0),children:"≡"})]})]}),l&&E.jsx(X3,{slug:t,onClose:()=>c(!1),onOpenContact:()=>y(!0),onOpenAdmin:()=>f(!0)}),d&&E.jsx(J3,{slug:t,onClose:()=>f(!1),adminEmail:i.adminEmail,onOpenAdmin:()=>{console.log("📩 Open Admin Component")}}),m&&E.jsx(lF,{slug:t,onClose:()=>y(!1)})]}):null}const cF=({sectionTitle:n,sectionContent:e,onClose:t})=>{const[r,i]=A.useState("fade-in-modal");A.useEffect(()=>()=>{i("fade-out-modal")},[]);const a=()=>{i("fade-out-modal"),setTimeout(()=>{t()},300)};return E.jsx("div",{className:"AboutLa",onClick:a,children:E.jsxs("div",{className:`about-container ${r}`,onClick:l=>l.stopPropagation(),children:[E.jsx("button",{className:"close-btn",onClick:a,"aria-label":"Close About Section",children:"×"}),E.jsx("h2",{children:n||"Info"}),E.jsx("p",{children:e||"Sorry, we couldn't find the information you're looking for."})]})})},eC=({slug:n})=>{const[e,t]=A.useState(null),[r,i]=A.useState(null),{t:a}=Ot();if(A.useEffect(()=>{(async()=>{const v=vt(it,"ReVerse",n),S=await An(v);S.exists()&&t(S.data().footerSettings)})()},[n]),!e)return null;const{logoText:l,aboutText:c,socialLinks:d,infoSections:f,copyright:m}=e;return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"footer fade-in-footer",id:"footer",children:[E.jsxs("div",{className:"footer-content",children:[E.jsxs("div",{className:"footer-left",children:[l!=null&&l.startsWith("http")?E.jsx("img",{src:l,alt:"Logo",style:{width:"120px"}}):E.jsx("h2",{children:l}),E.jsx("p",{className:"p-one",children:c}),E.jsx("p",{className:"p-two",children:a("footer.contactUs")}),E.jsxs("div",{className:"footer-icons",children:[(d==null?void 0:d.email)&&E.jsx("a",{href:`mailto:${d.email}`,"aria-label":"Email",children:E.jsx(aF,{})}),(d==null?void 0:d.whatsapp)&&E.jsx("a",{href:`https://wa.me/${d.whatsapp}`,target:"_blank",rel:"noreferrer","aria-label":"WhatsApp",children:E.jsx(Jx,{})}),(d==null?void 0:d.instagram)&&E.jsx("a",{href:d.instagram,target:"_blank",rel:"noreferrer","aria-label":"Instagram",children:E.jsx(Xx,{})})]})]}),E.jsxs("div",{className:"footer-right",children:[E.jsx("h4",{children:a("footer.details")}),E.jsx("ul",{className:"footer-lists",children:Object.keys(f).map(y=>E.jsxs("li",{onClick:()=>i(y),children:[y," >"]},y))})]})]}),E.jsx("hr",{}),E.jsxs("p",{className:"footer-copyright",children:[m," - ",a("footer.developedBy")]})]}),r&&E.jsx(cF,{sectionTitle:r,sectionContent:f[r],onClose:()=>i(null)})]})},dF=()=>{const{t:n}=Ot(),{slug:e}=_n(),t=Xn(),[r,i]=A.useState(null),[a,l]=A.useState(!1),[c,d]=A.useState(!1),f=new Audio("/sounds/notify.mp3"),m=A.useRef(null),[y,v]=A.useState({name:"",email:""}),S=x=>{i(x),t(`/reverse/${e}/adminClientH/${x}`)},I=()=>l(!0),R=()=>l(!1),P=async()=>{try{await fo(kr),localStorage.removeItem("slug"),ve.success("You have been logged out."),t(`/reverse/${e}`)}catch(x){console.error("Logout error:",x),ve.error("Something went wrong while logging out.")}},j=async()=>{try{const x=Bm(Lr(it,"ReVerse",e,"orders"),$m("createdAt","desc")),M=(await Eo(x)).docs.find(B=>!B.data().isSeen);d(!!M),M&&M.id!==m.current&&(f.play().catch(B=>console.warn("🔇 مشكلة تشغيل الصوت",B)),m.current=M.id)}catch(x){console.error("Error checking new orders:",x)}};return A.useEffect(()=>{const x=Iy(kr,async O=>{if(!O||!localStorage.getItem("slug")){await fo(kr),ve.error("Session expired. Please log in again."),t(`/reverse/${e}`);return}try{const M=vt(it,"ReVerse",e),B=await An(M);if(B.exists()){const Q=B.data();v({name:Q.adminName||"Admin",email:Q.adminEmail||"admin@example.com"})}else await fo(kr),ve.error("Project not found!"),t(`/reverse/${e}`)}catch(M){console.error("Error fetching admin info:",M),await fo(kr),ve.error("Error while verifying admin!"),t(`/reverse/${e}`)}});return()=>x()},[e]),A.useEffect(()=>{const x=setInterval(()=>{j()},1e4);return()=>clearInterval(x)},[e]),E.jsxs(Cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"admin-dashboard",children:[E.jsxs("div",{className:"admin-header",children:[E.jsx("h2",{children:n("admin.title",{slug:e})}),E.jsxs("div",{className:"admin-info",children:[E.jsxs("p",{children:["👤 ",y.name]}),E.jsxs("p",{children:["📧 ",y.email]}),E.jsx("button",{className:"logout-btn",onClick:I,children:n("admin.logout")})]})]}),!r&&E.jsxs("div",{className:"button-grid",children:[E.jsxs("button",{onClick:()=>S("add"),children:["➕ ",n("admin.add")]}),E.jsxs("button",{onClick:()=>S("list"),children:["📦 ",n("admin.list")]}),E.jsxs("button",{onClick:()=>S("orders"),className:"order-btn",children:["🧾 ",n("admin.orders"),c&&E.jsx("span",{className:"new-order-alert",children:"•"})]}),E.jsxs("button",{onClick:()=>S("booking"),children:["📅 ",n("admin.bookings")]})]}),r&&E.jsx("button",{className:"back-btn",onClick:()=>{i(null),t(`/reverse/${e}/adminClientH`)},children:"← Back"}),a&&E.jsx("div",{className:"logout-modal",children:E.jsxs("div",{className:"logout-modal-content",children:[E.jsx("p",{children:n("admin.logoutConfirm")}),E.jsxs("div",{className:"logout-modal-buttons",children:[E.jsx("button",{onClick:P,children:n("admin.logoutYes")}),E.jsx("button",{onClick:R,children:n("admin.cancel")})]})]})})]})},hF=()=>{const{slug:n}=_n();return E.jsxs(E.Fragment,{children:[E.jsx(Zx,{slug:n}),E.jsx(VT,{})," ",E.jsx(eC,{slug:n})]})},fF=()=>E.jsx("div",{}),aT=({children:n})=>{const{slug:e}=_n();return E.jsx(fI,{slug:e,children:n})},pF=()=>{const{slug:n}=_n();return E.jsxs(E.Fragment,{children:[E.jsx(Zx,{slug:n}),E.jsx(VT,{})," ",E.jsx(eC,{slug:n})]})};function cf(n){return Qu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(n)}function mF({name:n,description:e,sizes:t,useUnifiedSize:r,unifiedPrice:i,category:a,categoriesList:l,uploadedImageURL:c,imageFile:d,isImageUploading:f,setName:m,setDescription:y,setSizes:v,setUseUnifiedSize:S,setUnifiedPrice:I,setCategory:R,setImageFile:P,setUploadedImageURL:j,handleImageUpload:x,handleSubmit:O}){Xn();const{t:M}=Ot();return E.jsxs("form",{onSubmit:O,className:"add-product-form",children:[E.jsx("p",{className:"form-label",children:M("addProduct.uploadImage")}),E.jsx("input",{type:"file",accept:"image/*",className:"input-file",onChange:B=>{const Q=B.target.files[0];P(Q),x(Q)}}),c&&E.jsxs("div",{className:"image-preview",children:[E.jsx("img",{src:c,alt:"Uploaded Preview",className:"preview-img"}),E.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>{j(""),P(null)},children:M("addCategory.changeImage")})]}),E.jsx("p",{className:"form-label",children:M("addProduct.name")}),E.jsx("input",{type:"text",placeholder:M("addProduct.namePlaceholder"),value:n,onChange:B=>m(B.target.value),className:"input-text"}),E.jsx("p",{className:"form-label",children:M("addProduct.description")}),E.jsx("textarea",{placeholder:M("addProduct.descriptionPlaceholder"),value:e,onChange:B=>y(B.target.value),className:"textarea"}),E.jsx("p",{className:"form-label",children:M("addProduct.sizesTitle")}),["S","M","L"].map(B=>E.jsxs("div",{className:"size-option",children:[E.jsxs("label",{className:"checkbox-label",children:[E.jsx("input",{type:"checkbox",checked:t[B].selected,disabled:r,onChange:()=>v(Q=>({...Q,[B]:{...Q[B],selected:!Q[B].selected,price:Q[B].selected?Q[B].price:""}}))}),B]}),t[B].selected&&!r&&E.jsx("input",{type:"number",placeholder:`${M("addProduct.priceFor")} ${B}`,value:t[B].price,onChange:Q=>v(D=>({...D,[B]:{...D[B],price:Q.target.value}})),className:"input-price"})]},B)),E.jsx("p",{className:"form-label",children:M("addProduct.category")}),E.jsxs("select",{value:a,onChange:B=>R(B.target.value),className:"select-category",children:[E.jsx("option",{value:"",children:M("addProduct.selectCategory")}),l.map((B,Q)=>E.jsx("option",{value:B.name,children:B.name},Q))]}),E.jsx("button",{type:"submit",className:"submit-btn",children:M("addProduct.submit")})]})}function gF({categoryImageURL:n,newCategoryName:e,setNewCategoryName:t,setCategoryImageURL:r,handleCategoryImageUpload:i,handleAddCategory:a,categorySectionRef:l}){const c=Xn(),{t:d}=Ot();return E.jsxs("div",{className:"add-category-wrapper",ref:l,children:[E.jsx("button",{style:{display:"none"},className:"close-category-btn",onClick:()=>c(-1),children:"✕"}),E.jsx("h3",{className:"add-category-title",children:d("addCategory.title")}),E.jsxs("p",{className:"add-category-note",children:[d("addCategory.note")," ",E.jsx("strong",{children:"1:1"})]}),E.jsx("input",{className:"add-category-input",type:"file",accept:"image/*",onChange:f=>{const m=f.target.files[0];m&&i(m)}}),n&&E.jsxs("div",{className:"category-preview",children:[E.jsx("img",{src:n,alt:d("addCategory.previewAlt"),className:"category-preview-img"}),E.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>r(""),children:d("addCategory.changeImage")})]}),E.jsx("input",{className:"add-category-name",type:"text",placeholder:d("addCategory.namePlaceholder"),value:e,onChange:f=>t(f.target.value)}),E.jsx("button",{type:"button",className:"add-category-submit",onClick:()=>{if(!(e!=null&&e.trim())||!n){!(e!=null&&e.trim())&&!n?ve.error(d("addCategory.errors.nameAndImage")):e!=null&&e.trim()?ve.error(d("addCategory.errors.imageOnly")):ve.error(d("addCategory.errors.nameOnly"));return}a()},children:d("addCategory.submit")})]})}function yF(){const{t:n}=Ot(),[e,t]=A.useState(""),[r,i]=A.useState(""),[a,l]=A.useState({S:{selected:!1,price:""},M:{selected:!1,price:""},L:{selected:!1,price:""}}),[c,d]=A.useState(!1),[f,m]=A.useState(""),[y,v]=A.useState(""),[S,I]=A.useState(null),[R,P]=A.useState(""),[j,x]=A.useState(!1),[O,M]=A.useState([]),B=A.useRef(null),[Q,D]=A.useState(""),[b,k]=A.useState(""),{slug:L}=_n(),F=Xn(),[$,V]=A.useState("basic");A.useEffect(()=>{(async()=>{try{const fe=vt(it,"ReVerse",L),re=await An(fe);if(re.exists()){const z=re.data();M(z.categories||[]),V(z.plan||"basic")}else ve.error("Categories not found.")}catch{ve.error("Failed to fetch categories.")}})()},[L]);const ge=async te=>{if(!te)return;x(!0),ve.info("Uploading image... Please wait");const fe=new FormData;fe.append("file",te),fe.append("upload_preset","react_upload");try{const z=await(await fetch("https://api.cloudinary.com/v1_1/dwupyymoc/image/upload",{method:"POST",body:fe})).json(),J=z.public_id,Pe=`https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,dpr_auto/v${z.version}/${J}.jpg`;P(Pe),ve.success("Image uploaded successfully!")}catch{ve.error("Image upload failed.")}finally{x(!1)}},ke=async te=>{x(!0),ve.info("Uploading category image...");const fe=new FormData;fe.append("file",te),fe.append("upload_preset","react_upload");try{const z=await(await fetch("https://api.cloudinary.com/v1_1/dwupyymoc/image/upload",{method:"POST",body:fe})).json(),J=z.public_id,Pe=`https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,dpr_auto/v${z.version}/${J}.jpg`;k(Pe),ve.success("Category image uploaded!")}catch{ve.error("Image upload failed.")}finally{x(!1)}},ye=async()=>{if(!Q.trim()||!b){ve.error("Please enter category name and upload an image.");return}try{const te=vt(it,"ReVerse",L),fe=await An(te);let re=[];fe.exists()&&(re=fe.data().categories||[]);const z=[...re,{name:Q,image:b}];await Ma(te,{categories:z}),ve.success("Category added successfully!"),M(z),D(""),k("")}catch{ve.error("Failed to add category.")}},Ie=async te=>{if(te.preventDefault(),j){ve.warn("Please wait until image finishes uploading.");return}const fe=c?[{label:"Standard",price:parseFloat(f)}]:Object.entries(a).filter(([re,z])=>z.selected&&z.price).map(([re,z])=>({label:re,price:parseFloat(z.price)}));if(!e.trim()||!r.trim()||!y||!R||fe.length===0||c&&!f){ve.error("Please fill in all fields and set the size price.");return}try{const re={name:e,description:r,sizes:fe,category:y,image:R},z=Lr(it,"ReVerse",L,"products");await my(z,re),ve.success("Product added successfully!"),t(""),i(""),l({S:{selected:!1,price:""},M:{selected:!1,price:""},L:{selected:!1,price:""}}),d(!1),m(""),v(""),I(null),P("")}catch{ve.error("Failed to add product.")}};return E.jsxs(Cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},children:[E.jsxs("button",{type:"button",className:"back-btn",onClick:()=>F(-1),children:[E.jsx(cf,{className:"back-icon"}),n("addProduct.back")]}),E.jsxs("div",{className:"nav-buttons",children:[E.jsx("button",{onClick:()=>document.getElementById("add-product-section").scrollIntoView({behavior:"smooth"}),children:n("addProduct.tabs.product")}),E.jsx("button",{onClick:()=>document.getElementById("add-category-section").scrollIntoView({behavior:"smooth"}),children:n("addProduct.tabs.category")}),E.jsx("button",{onClick:()=>document.getElementById("add-special-section").scrollIntoView({behavior:"smooth"}),children:n("addProduct.tabs.special")})]}),E.jsx("div",{id:"add-product-section",children:E.jsx(mF,{name:e,description:r,sizes:a,useUnifiedSize:c,unifiedPrice:f,category:y,categoriesList:O,uploadedImageURL:R,imageFile:S,isImageUploading:j,setName:t,setDescription:i,setSizes:l,setUseUnifiedSize:d,setUnifiedPrice:m,setCategory:v,setImageFile:I,setUploadedImageURL:P,handleImageUpload:ge,handleSubmit:Ie})}),E.jsx("div",{id:"add-category-section",children:E.jsx(gF,{categoryImageURL:b,newCategoryName:Q,setNewCategoryName:D,setCategoryImageURL:k,handleCategoryImageUpload:ke,handleAddCategory:ye,categorySectionRef:B})})]})}function vF(){const{t:n}=Ot(),{slug:e}=_n(),[t,r]=A.useState([]),[i,a]=A.useState(null),[l,c]=A.useState({}),d=async()=>{try{const y=vt(it,"ReVerse",e),v=await An(y);if(v.exists()){const S=v.data();r(S.categories||[])}else ve.error("No categories found.")}catch{ve.error("Failed to fetch categories.")}},f=async()=>{try{const y=Lr(it,"ReVerse",e,"products"),S=(await Eo(y)).docs.map(R=>R.data()),I={};S.forEach(R=>{const P=R.category;P&&(I[P]=(I[P]||0)+1)}),c(I)}catch{ve.error("Failed to fetch product counts.")}},m=async y=>{try{const v=t.filter((I,R)=>R!==y),S=vt(it,"ReVerse",e);await Ma(S,{categories:v}),r(v),ve.success("Category deleted."),a(null)}catch{ve.error("Delete failed.")}};return A.useEffect(()=>{d(),f()},[e]),E.jsxs("div",{style:{padding:"20px"},children:[E.jsx("h2",{style:{marginBottom:"10px"},children:n("categories.title")}),t.length===0?E.jsx("p",{children:n("categories.noCategories")}):E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:t.map((y,v)=>E.jsxs("div",{style:{display:"flex",alignItems:"center",border:"1px solid #eee",borderRadius:"8px",padding:"10px",gap:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[E.jsx("img",{src:y.image,alt:y.name,style:{width:"70px",height:"70px",objectFit:"cover",borderRadius:"4px"}}),E.jsxs("div",{style:{flexGrow:1},children:[E.jsx("strong",{children:y.name}),E.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[l[y.name]||0," product(s)"]})]}),E.jsx("button",{onClick:()=>a(v),style:{background:"#eee",border:"1px solid #ccc",padding:"4px 10px",borderRadius:"4px",cursor:"pointer"},children:"X"}),i===v&&E.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#fff4f4",border:"1px solid #ffcccc",borderRadius:"6px",display:"flex",gap:"10px",alignItems:"center",flex:1},children:[E.jsxs("span",{style:{fontSize:"12px"},children:["Are you sure you want to delete"," ",E.jsxs("strong",{children:['"',y.name,'"']}),"?"]}),E.jsx("button",{onClick:()=>m(v),style:{background:"red",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px"},children:"Yes"}),E.jsx("button",{onClick:()=>a(null),style:{background:"gray",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px"},children:"No"})]})]},v))})]})}function _F(){const{t:n}=Ot(),{slug:e}=_n(),[t,r]=A.useState([]),[i,a]=A.useState(""),[l,c]=A.useState(null),[d,f]=A.useState(null),[m,y]=A.useState(window.innerWidth<768),v=Xn();A.useEffect(()=>{const x=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const S=async()=>{try{const x=Lr(it,"ReVerse",e,"products"),M=(await Eo(x)).docs.map(B=>({id:B.id,...B.data()}));r(M)}catch{ve.error("Failed to fetch products.")}},I=async x=>{try{await Zd(vt(it,"ReVerse",e,"products",x)),ve.success("Item deleted."),S(),c(null)}catch{ve.error("Delete failed.")}};A.useEffect(()=>{S()},[e]);const R=[...new Set(t.map(x=>x.category))],P=i?t.filter(x=>x.category===i):t,j=x=>{if(!x)return"";const O=x.split(" ");return O.length<=3?x:O.slice(0,3).join(" ")+" ..."};return E.jsxs(Cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"product-list-container",children:[E.jsxs("button",{type:"button",className:"back-btn",onClick:()=>v(-1),children:[E.jsx(cf,{className:"back-icon"}),n("orders.back")]}),E.jsx("h2",{className:"product-list-title",children:n("products.title")}),E.jsxs("div",{className:"filter-container",children:[E.jsx("label",{className:"filter-label",children:n("products.filterByCategory")}),E.jsxs("select",{value:i,onChange:x=>a(x.target.value),children:[E.jsx("option",{value:"",children:"All"}),R.map((x,O)=>E.jsx("option",{value:x,children:x},O))]})]}),P.length===0?E.jsx("p",{children:n("products.noProducts")}):E.jsx("div",{className:"product-cards-wrapper",children:P.map(x=>E.jsxs("div",{className:"product-card",children:[E.jsxs("div",{className:`product-card-inner ${m?"mobile":""}`,children:[E.jsx("img",{src:x.image,alt:x.name,className:"product-image"}),E.jsxs("div",{className:"product-info",children:[E.jsx("strong",{children:x.name}),E.jsx("span",{className:"product-description-preview",onClick:()=>f(x.id),children:j(x.description)})]}),E.jsx("span",{children:"-"}),E.jsx("span",{children:Array.isArray(x.sizes)?x.sizes.map(O=>`${O.label} ($${O.price})`).join(", "):"-"}),E.jsx("span",{children:x.category}),E.jsx("div",{children:E.jsx("button",{onClick:()=>c(x.id),className:"delete-btn",children:"X"})})]}),l===x.id&&E.jsxs("div",{className:"confirm-delete-box",children:[E.jsxs("span",{className:"delete-warning-text",children:["Are you sure you want to delete"," ",E.jsxs("strong",{children:['"',x.name,'"']}),"?"]}),E.jsx("button",{onClick:()=>I(x.id),className:"btn-delete-yes",children:"Yes"}),E.jsx("button",{onClick:()=>c(null),className:"btn-delete-no",children:"No"})]}),d===x.id&&E.jsx("div",{className:"overlay",onClick:()=>f(null),children:E.jsxs("div",{className:"description-modal",onClick:O=>O.stopPropagation(),children:[E.jsx("strong",{children:n("products.fullDescription")})," ",x.description]})})]},x.id))}),E.jsx("hr",{className:"divider-line"}),E.jsx(vF,{})]})}const wF=()=>{const{t:n}=Ot(),{slug:e}=_n(),t=Xn(),[r,i]=A.useState([]),[a,l]=A.useState(null),[c,d]=A.useState("all"),[f,m]=A.useState("all"),y=x=>{l(a===x?null:x)},v=()=>{new Audio("/sounds/notify.mp3").play().catch(O=>{console.warn("🔇 فشل تشغيل الصوت:",O)})},S=async()=>{try{const x=Bm(Lr(it,"ReVerse",e,"orders"),$m("createdAt","desc")),M=(await Eo(x)).docs.map(B=>({id:B.id,isSeen:B.data().isSeen||!1,...B.data()}));if(i(M),M.length>80){const B=M.slice(80);for(const Q of B)await Zd(vt(it,"ReVerse",e,"orders",Q.id))}}catch(x){console.error("Error fetching orders:",x)}},I=async(x,O)=>{await Ma(vt(it,"ReVerse",e,"orders",x),{status:O}),S()},R=async x=>{await Zd(vt(it,"ReVerse",e,"orders",x)),ve.success("Order deleted successfully ✅"),S()};A.useEffect(()=>{let x=!1;const O=Bm(Lr(it,"ReVerse",e,"orders"),$m("createdAt","desc")),M=MO(O,B=>{if(!x){x=!0;return}B.docChanges().forEach(Q=>{Q.type==="added"&&(ve.info("🚨 New Order"),v(),S())})});return()=>M()},[e]),A.useEffect(()=>{S()},[e]);const P=r.filter(x=>{var B;const O=c==="all"||((B=x.status)==null?void 0:B.toLowerCase().trim())===c,M=f==="all"||x.dineOption===f;return O&&M}),j=x=>({backgroundColor:x?"#ccc":"#f1f1f1",padding:"6px 10px",borderRadius:"8px",border:"1px solid #ccc",marginRight:"6px",fontSize:"14px",cursor:"pointer"});return E.jsxs(Cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"orders-container",children:[E.jsxs("button",{type:"button",className:"back-btn",onClick:()=>t(-1),children:[E.jsx(cf,{className:"back-icon"}),n("orders.back")]}),E.jsxs("h2",{className:"orders-title",children:["Welcome to Admin Panel for: ",e]}),E.jsxs("h3",{className:"orders-count",children:["Orders: ",P.length]}),E.jsx("p",{className:"orders-note",children:n("orders.note")}),E.jsxs("div",{className:"orders-filter",children:[E.jsx("b",{children:"Filter by Status:"})," ",["all","pending","preparing","ready","delivered","cancelled"].map(x=>E.jsx("button",{onClick:()=>d(x),style:j(c===x),children:x.charAt(0).toUpperCase()+x.slice(1)},x))]}),E.jsxs("div",{className:"orders-type-filter",children:[E.jsx("b",{children:"Order Type:"})," ",["all","inside","outside"].map(x=>E.jsx("button",{onClick:()=>m(x),style:j(f===x),children:x==="inside"?"Inside":x==="outside"?"Delivery":"All"},x))]}),E.jsx(Ba,{children:P.map((x,O)=>{var D;const M=x.items||[],B=x.total||0,Q=x.customerInfo||{};return E.jsxs(Cn.div,{className:`order-card ${x.isSeen?"":"unseen-order"}`,layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:[E.jsxs("div",{onClick:()=>{y(x.id),x.isSeen||Ma(vt(it,"ReVerse",e,"orders",x.id),{isSeen:!0})},className:"order-header",children:[O+1,". items ",M.length," – Date :"," ",(D=x.createdAt)!=null&&D.seconds?new Date(x.createdAt.seconds*1e3).toLocaleString():"—"," ","– ",x.status||"*"]}),a===x.id&&E.jsxs(Cn.div,{className:"order-details",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[E.jsx("hr",{}),M.map((b,k)=>E.jsxs("p",{children:["🍽 ",b.name," | ",b.size," | quantity : ",b.quantity," | $",b.price,b.notes&&E.jsxs(E.Fragment,{children:[" – 📝 Notes: ",b.notes]})]},k)),x.notes&&E.jsxs("p",{className:"order-notes",children:[" Notes: ",x.notes]}),E.jsxs("p",{children:[E.jsx("b",{children:" Total:"})," $",B.toFixed(2)]}),x.dineOption==="outside"&&E.jsxs(E.Fragment,{children:[E.jsxs("p",{children:[n("orders.name"),": ",Q.name]}),E.jsxs("p",{children:[n("orders.address"),": ",Q.address]}),E.jsxs("p",{children:[n("orders.phone"),": ",Q.phone]})]}),x.dineOption==="inside"&&E.jsxs("p",{children:[n("orders.tableNumber")," : ",x.tableNumber]}),x.note&&E.jsxs("p",{children:["📝 ",n("orders.note"),": ",x.note]}),E.jsxs("p",{children:["💳 ",n("orders.payment"),":"," ",x.paymentMethod==="online"&&(x.paymentStatus==="paid"?"✅ Paid Online":"❗ Unpaid - Online Selected"),x.paymentMethod==="cash"&&"💵 Cash on Delivery",!x.paymentMethod&&"—"]}),E.jsxs("div",{className:"order-status-controls",children:[E.jsxs("b",{children:[" ",n("orders.changeStatus"),":"]}),E.jsx("br",{}),["preparing","pending","delivered","cancelled"].map(b=>E.jsx("button",{onClick:()=>I(x.id,b),className:"status-btn",children:b.charAt(0).toUpperCase()+b.slice(1)},b))]}),x.status==="cancelled"&&E.jsxs("div",{className:"cancelled-order-box",children:[E.jsx("p",{children:n("orders.cancelled")}),E.jsx("button",{className:"delete",onClick:()=>R(x.id),children:n("orders.delete")})]})]})]},x.id)})}),E.jsx(Hu,{position:"top-center",autoClose:2e3})]})},EF=()=>{const{t:n}=Ot(),{slug:e}=_n(),[t,r]=A.useState([]),[i,a]=A.useState("all"),[l,c]=A.useState(""),[d,f]=A.useState(null),[m,y]=A.useState(!1),v=Xn();A.useEffect(()=>{(async()=>{if(!e){console.warn("🚫 slug غير موجود");return}try{const j=vt(it,"ReVerse",e),x=Lr(j,"bookTable"),M=(await Eo(x)).docs.map(B=>({id:B.id,...B.data()}));r(M),console.log("✅ الحجوزات التي تم سحبها:",M)}catch(j){console.error("❌ خطأ في سحب الحجوزات:",j)}})()},[e]);const S=async(P,j)=>{const x=vt(it,"ReVerse",e,"bookTable",P);await Ma(x,{status:j}),r(O=>O.map(M=>M.id===P?{...M,status:j}:M))},I=async()=>{const P=vt(it,"ReVerse",e,"bookTable",d);await Zd(P),r(j=>j.filter(x=>x.id!==d)),y(!1),f(null)},R=t.filter(P=>{const j=i==="all"||P.status===i,x=!l||P.date===l;return j&&x});return E.jsxs(Cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"admin-bookings",children:[E.jsxs("button",{type:"button",className:"back-btn",onClick:()=>v(-1),children:[E.jsx(cf,{className:"back-icon"}),n("bookings.back")]}),E.jsx("h2",{children:n("bookings.title")}),E.jsxs("div",{className:"filters",children:[E.jsxs(Cn.select,{onChange:P=>a(P.target.value),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[E.jsx("option",{value:"all",children:n("bookings.filters.all")}),E.jsx("option",{value:"pending",children:n("bookings.filters.pending")}),E.jsx("option",{value:"confirmed",children:n("bookings.filters.confirmed")}),E.jsx("option",{value:"rejected",children:n("bookings.filters.rejected")})]}),E.jsx("input",{type:"date",value:l,onChange:P=>c(P.target.value)})]}),E.jsx(Ba,{mode:"wait",children:R.length===0?E.jsx(Cn.p,{className:"no-bookings",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:n("bookings.noBookings")},"no-bookings"):E.jsx(Cn.div,{className:"table-wrapper",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.4},children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:n("bookings.table.name")}),E.jsx("th",{children:n("bookings.table.seats")}),E.jsx("th",{children:n("bookings.table.date")}),E.jsx("th",{children:n("bookings.table.time")}),E.jsx("th",{children:n("bookings.table.payment")}),E.jsx("th",{children:n("bookings.table.status")}),E.jsx("th",{children:n("bookings.table.actions")})]})}),E.jsx("tbody",{children:R.map(P=>E.jsxs(Cn.tr,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:[E.jsx("td",{children:P.name}),E.jsx("td",{children:P.tableSize}),E.jsx("td",{children:P.date}),E.jsx("td",{children:P.time}),E.jsx("td",{children:P.paymentMethod}),E.jsx("td",{children:E.jsx("span",{className:`status ${P.status}`,children:P.status})}),E.jsxs("td",{children:[E.jsx("button",{onClick:()=>S(P.id,"confirmed"),children:"✅"}),E.jsx("button",{onClick:()=>S(P.id,"rejected"),children:"❌"}),E.jsx("button",{onClick:()=>{f(P.id),y(!0)},children:n("buttons.delete")})]})]},P.id))})]})},"bookings-table")}),m&&E.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:E.jsxs("div",{className:"modal",onClick:P=>P.stopPropagation(),children:[E.jsx("p",{children:"Are you sure you want to delete this booking?"}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{onClick:I,className:"yes-btn",children:"Yes"}),E.jsx("button",{onClick:()=>y(!1),className:"no-btn",children:"No"})]})]})})]})},TF=()=>E.jsx("div",{});function SF({children:n}){const{slug:e}=_n(),[t,r]=A.useState(null);return A.useEffect(()=>{const i=Iy(kr,async a=>{if(!a||!e){r(!1);return}const l=vt(it,"ReVerse",e),c=await An(l);c.exists()&&c.data().adminEmail===a.email?r(!0):r(!1)});return()=>i()},[e]),t===null?null:t?n:E.jsx(cP,{to:`/reverse/${e}`,replace:!0})}const IF=()=>{const n=oi();return E.jsx(Ba,{mode:"wait",children:E.jsxs(hP,{location:n,children:[E.jsx(cr,{path:"/",element:E.jsx(fF,{})}),E.jsxs(cr,{path:"/reverse/:slug",element:E.jsx(aT,{children:E.jsx(hF,{})}),children:[E.jsx(cr,{index:!0,element:E.jsx(dL,{})}),E.jsx(cr,{path:"cart",element:E.jsx(Y3,{})})]}),E.jsxs(cr,{path:"/reverse/:slug/adminClientH/*",element:E.jsx(aT,{children:E.jsx(SF,{children:E.jsx(pF,{})})}),children:[E.jsx(cr,{index:!0,element:E.jsx(dF,{})}),E.jsx(cr,{path:"add",element:E.jsx(yF,{})}),E.jsx(cr,{path:"list",element:E.jsx(_F,{})}),E.jsx(cr,{path:"orders",element:E.jsx(wF,{})}),E.jsx(cr,{path:"booking",element:E.jsx(EF,{})}),E.jsx(cr,{path:"payMethod",element:E.jsx(TF,{})})]})]},n.pathname)})},Be=n=>typeof n=="string",$l=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},lT=n=>n==null?"":""+n,xF=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},CF=/###/g,uT=n=>n&&n.indexOf("###")>-1?n.replace(CF,"."):n,cT=n=>!n||Be(n),lu=(n,e,t)=>{const r=Be(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(cT(n))return{};const a=uT(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return cT(n)?{}:{obj:n,k:uT(r[i])}},dT=(n,e,t)=>{const{obj:r,k:i}=lu(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=lu(n,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=lu(n,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=t},bF=(n,e,t,r)=>{const{obj:i,k:a}=lu(n,e,Object);i[a]=i[a]||[],i[a].push(t)},Eh=(n,e)=>{const{obj:t,k:r}=lu(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},PF=(n,e,t)=>{const r=Eh(n,t);return r!==void 0?r:Eh(e,t)},tC=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Be(n[r])||n[r]instanceof String||Be(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):tC(n[r],e[r],t):n[r]=e[r]);return n},fa=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var AF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const RF=n=>Be(n)?n.replace(/[&<>"'\/]/g,e=>AF[e]):n;class kF{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const NF=[" ",",","?","!",";"],OF=new kF(20),DF=(n,e,t)=>{e=e||"",t=t||"";const r=NF.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const i=OF.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(n);if(!a){const l=n.indexOf(t);l>0&&!i.test(n.substring(0,l))&&(a=!0)}return a},yg=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let d=a;d<r.length;++d)if(d!==a&&(c+=t),c+=r[d],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;a+=d-a+1;break}i=l}return i},Pu=n=>n==null?void 0:n.replace("_","-"),VF={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class Th{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||VF,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Be(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Th(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Th(this.logger,e)}}var Jr=new Th;class df{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...t])})}}class hT extends df{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var f,m;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):Be(r)&&a?c.push(...r.split(a)):c.push(r)));const d=Eh(this.data,c);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),d||!l||!Be(r)?d:yg((m=(f=this.data)==null?void 0:f[e])==null?void 0:m[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=t,t=c[1]),this.addNamespaces(t),dT(this.data,c,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Be(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=t,t=c[1]),this.addNamespaces(t);let d=Eh(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?tC(d,r,a):d={...d,...r},dT(this.data,c,d),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var nC={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var l;e=((l=this.processors[a])==null?void 0:l.process(e,t,r,i))??e}),e}};const fT={},pT=n=>!Be(n)&&typeof n!="boolean"&&typeof n!="number";class Sh extends df{constructor(e,t={}){super(),xF(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Jr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!DF(e,r,i);if(l&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Be(a)?[a]:a};const f=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(i)}return{key:e,namespaces:Be(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],i),f=d[d.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const y=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return v?a?{res:`${f}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:y,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${m}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:y,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:c;const S=this.resolve(e,i);let I=S==null?void 0:S.res;const R=(S==null?void 0:S.usedKey)||c,P=(S==null?void 0:S.exactUsedKey)||c,j=["[object Number]","[object Function]","[object RegExp]"],x=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,M=i.count!==void 0&&!Be(i.count),B=Sh.hasDefaultValue(i),Q=M?this.pluralResolver.getSuffix(y,i.count,i):"",D=i.ordinal&&M?this.pluralResolver.getSuffix(y,i.count,{ordinal:!1}):"",b=M&&!i.ordinal&&i.count===0,k=b&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Q}`]||i[`defaultValue${D}`]||i.defaultValue;let L=I;O&&!I&&B&&(L=k);const F=pT(L),$=Object.prototype.toString.apply(L);if(O&&L&&F&&j.indexOf($)<0&&!(Be(x)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,L,{...i,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(S.res=V,S.usedParams=this.getUsedParamsDetails(i),S):V}if(l){const V=Array.isArray(L),ge=V?[]:{},ke=V?P:R;for(const ye in L)if(Object.prototype.hasOwnProperty.call(L,ye)){const Ie=`${ke}${l}${ye}`;B&&!I?ge[ye]=this.translate(Ie,{...i,defaultValue:pT(k)?k[ye]:void 0,joinArrays:!1,ns:d}):ge[ye]=this.translate(Ie,{...i,joinArrays:!1,ns:d}),ge[ye]===Ie&&(ge[ye]=L[ye])}I=ge}}else if(O&&Be(x)&&Array.isArray(I))I=I.join(x),I&&(I=this.extendTranslation(I,e,i,r));else{let V=!1,ge=!1;!this.isValidLookup(I)&&B&&(V=!0,I=k),this.isValidLookup(I)||(ge=!0,I=c);const ye=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ge?void 0:I,Ie=B&&k!==I&&this.options.updateMissing;if(ge||V||Ie){if(this.logger.log(Ie?"updateKey":"missingKey",y,f,c,Ie?k:I),l){const z=this.resolve(c,{...i,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(let z=0;z<fe.length;z++)te.push(fe[z]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(i.lng||this.language):te.push(i.lng||this.language);const re=(z,J,pe)=>{var Ne;const Pe=B&&pe!==I?pe:ye;this.options.missingKeyHandler?this.options.missingKeyHandler(z,f,J,Pe,Ie,i):(Ne=this.backendConnector)!=null&&Ne.saveMissing&&this.backendConnector.saveMissing(z,f,J,Pe,Ie,i),this.emit("missingKey",z,f,J,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?te.forEach(z=>{const J=this.pluralResolver.getSuffixes(z,i);b&&i[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(pe=>{re([z],c+pe,i[`defaultValue${pe}`]||k)})}):re(te,c,k))}I=this.extendTranslation(I,e,i,S,r),ge&&I===c&&this.options.appendNamespaceToMissingKey&&(I=`${f}${m}${c}`),(ge||V)&&this.options.parseMissingKeyHandler&&(I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${m}${c}`:c,V?I:void 0,i))}return a?(S.res=I,S.usedParams=this.getUsedParamsDetails(i),S):I}extendTranslation(e,t,r,i,a){var d,f;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=Be(e)&&(((f=r==null?void 0:r.interpolation)==null?void 0:f.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(m){const S=e.match(this.interpolator.nestingRegexp);y=S&&S.length}let v=r.replace&&!Be(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||i.usedLng,r),m){const S=e.match(this.interpolator.nestingRegexp),I=S&&S.length;y<I&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...S)=>(a==null?void 0:a[0])===S[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${S[0]} in key: ${t[0]}`),null):this.translate(...S,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Be(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&r.applyPostProcessor!==!1&&(e=nC.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,l,c;return Be(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const f=this.extractFromKey(d,t),m=f.key;i=m;let y=f.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const v=t.count!==void 0&&!Be(t.count),S=v&&!t.ordinal&&t.count===0,I=t.context!==void 0&&(Be(t.context)||typeof t.context=="number")&&t.context!=="",R=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(P=>{var j,x;this.isValidLookup(r)||(c=P,!fT[`${R[0]}-${P}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((x=this.utils)!=null&&x.hasLoadedNamespace(c))&&(fT[`${R[0]}-${P}`]=!0,this.logger.warn(`key "${i}" for languages "${R.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(O=>{var Q;if(this.isValidLookup(r))return;l=O;const M=[m];if((Q=this.i18nFormat)!=null&&Q.addLookupKeys)this.i18nFormat.addLookupKeys(M,m,O,P,t);else{let D;v&&(D=this.pluralResolver.getSuffix(O,t.count,t));const b=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(M.push(m+D),t.ordinal&&D.indexOf(k)===0&&M.push(m+D.replace(k,this.options.pluralSeparator)),S&&M.push(m+b)),I){const L=`${m}${this.options.contextSeparator}${t.context}`;M.push(L),v&&(M.push(L+D),t.ordinal&&D.indexOf(k)===0&&M.push(L+D.replace(k,this.options.pluralSeparator)),S&&M.push(L+b))}}let B;for(;B=M.pop();)this.isValidLookup(r)||(a=B,r=this.getResource(O,P,B,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Be(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class mT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jr.create("languageUtils")}getScriptPartFromCode(e){if(e=Pu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Pu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Be(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Be(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Be(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const gT={zero:0,one:1,two:2,few:3,many:4,other:5},yT={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class LF{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Jr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Pu(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),yT;if(!e.match(/-|_/))return yT;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>gT[i]-gT[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const vT=(n,e,t,r=".",i=!0)=>{let a=PF(n,e,t);return!a&&i&&Be(t)&&(a=yg(n,t,r),a===void 0&&(a=yg(e,t,r))),a},mm=n=>n.replace(/\$/g,"$$$$");class jF{constructor(e={}){var t;this.logger=Jr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:f,unescapeSuffix:m,unescapePrefix:y,nestingPrefix:v,nestingPrefixEscaped:S,nestingSuffix:I,nestingSuffixEscaped:R,nestingOptionsSeparator:P,maxReplaces:j,alwaysFormat:x}=e.interpolation;this.escape=t!==void 0?t:RF,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?fa(a):l||"{{",this.suffix=c?fa(c):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=m?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=v?fa(v):S||fa("$t("),this.nestingSuffix=I?fa(I):R||fa(")"),this.nestingOptionsSeparator=P||",",this.maxReplaces=j||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var S;let a,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=I=>{if(I.indexOf(this.formatSeparator)<0){const x=vT(t,d,I,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...i,...t,interpolationkey:I}):x}const R=I.split(this.formatSeparator),P=R.shift().trim(),j=R.join(this.formatSeparator).trim();return this.format(vT(t,d,P,this.options.keySeparator,this.options.ignoreJSONStructure),j,r,{...i,...t,interpolationkey:P})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((S=i==null?void 0:i.interpolation)==null?void 0:S.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:I=>mm(I)},{regex:this.regexp,safeValue:I=>this.escapeValue?mm(this.escape(I)):mm(I)}].forEach(I=>{for(c=0;a=I.regex.exec(e);){const R=a[1].trim();if(l=f(R),l===void 0)if(typeof m=="function"){const j=m(e,a,i);l=Be(j)?j:""}else if(i&&Object.prototype.hasOwnProperty.call(i,R))l="";else if(y){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${R} for interpolating ${e}`),l="";else!Be(l)&&!this.useRawValueToEscape&&(l=lT(l));const P=I.safeValue(l);if(e=e.replace(a[0],P),y?(I.regex.lastIndex+=l.length,I.regex.lastIndex-=a[0].length):I.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,l;const c=(d,f)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const y=d.split(new RegExp(`${m}[ ]*{`));let v=`{${y[1]}`;d=y[0],v=this.interpolate(v,l);const S=v.match(/'/g),I=v.match(/"/g);(((S==null?void 0:S.length)??0)%2===0&&!I||I.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),f&&(l={...f,...l})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,R),`${d}${m}${v}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!Be(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let f=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const m=i[1].split(this.formatSeparator).map(y=>y.trim());i[1]=m.shift(),d=m,f=!0}if(a=t(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!Be(a))return a;Be(a)||(a=lT(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),f&&(a=d.reduce((m,y)=>this.format(m,y,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const MF=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();t[m]||(t[m]=f),f==="false"&&(t[m]=!1),f==="true"&&(t[m]=!0),isNaN(f)||(t[m]=parseInt(f,10))}})}return{formatName:e,formatOptions:t}},_T=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=n(Pu(r),i),e[l]=c),c(t)}},FF=n=>(e,t,r)=>n(Pu(t),r)(e);class UF{constructor(e={}){this.logger=Jr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?_T:FF;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=_T(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{var y;const{formatName:f,formatOptions:m}=MF(d);if(this.formats[f]){let v=c;try{const S=((y=i==null?void 0:i.formatParams)==null?void 0:y[i.interpolationkey])||{},I=S.locale||S.lng||i.locale||i.lng||r;v=this.formats[f](c,I,{...m,...i,...S})}catch(S){this.logger.warn(S)}return v}else this.logger.warn(`there was no format function for ${f}`);return c},e)}}const BF=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class $F extends df{constructor(e,t,r,i={}){var a,l;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Jr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},l={},c={},d={};return e.forEach(f=>{let m=!0;t.forEach(y=>{const v=`${f}|${y}`;!r.reload&&this.store.hasResourceBundle(f,y)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?l[v]===void 0&&(l[v]=!0):(this.state[v]=1,m=!1,l[v]===void 0&&(l[v]=!0),a[v]===void 0&&(a[v]=!0),d[y]===void 0&&(d[y]=!0)))}),m||(c[f]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,t,r){const i=e.split("|"),a=i[0],l=i[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(d=>{bF(d.loaded,[a],l),BF(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{c[f]||(c[f]={});const m=d.loaded[f];m.length&&m.forEach(y=>{c[f][y]===void 0&&(c[f][y]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,t,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(f,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(f&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,l)},a);return}l(f,m)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const f=d(e,t);f&&typeof f.then=="function"?f.then(m=>c(null,m)).catch(c):c(null,f)}catch(f){c(f)}return}return d(e,t,c)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Be(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,i,a,l={},c=()=>{}){var d,f,m,y,v;if((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace&&!((y=(m=this.services)==null?void 0:m.utils)!=null&&y.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((v=this.backend)!=null&&v.create){const S={...l,isUpdate:a},I=this.backend.create.bind(this.backend);if(I.length<6)try{let R;I.length===5?R=I(e,t,r,i,S):R=I(e,t,r,i),R&&typeof R.then=="function"?R.then(P=>c(null,P)).catch(c):c(null,R)}catch(R){c(R)}else I(e,t,r,i,c,S)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const wT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Be(n[1])&&(e.defaultValue=n[1]),Be(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ET=n=>{var e,t;return Be(n.ns)&&(n.ns=[n.ns]),Be(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Be(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Sd=()=>{},zF=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Au extends df{constructor(e={},t){if(super(),this.options=ET(e),this.services={},this.logger=Jr,this.modules={external:[]},zF(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Be(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=wT();this.options={...r,...this.options,...ET(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Jr.init(i(this.modules.logger),this.options):Jr.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=UF;const m=new mT(this.options);this.store=new hT(this.options.resources,this.options);const y=this.services;y.logger=Jr,y.resourceStore=this.store,y.languageUtils=m,y.pluralResolver=new LF(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=i(f),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new jF(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new $F(i(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.languageDetector&&(y.languageDetector=i(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=i(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Sh(this.services,this.options),this.translator.on("*",(v,...S)=>{this.emit(v,...S)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Sd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...m)=>this.store[f](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...m)=>(this.store[f](...m),this)});const c=$l(),d=()=>{const f=(m,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(y),t(m,y)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,t=Sd){var a,l;let r=t;const i=Be(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],d=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(y=>{y!=="cimode"&&c.indexOf(y)<0&&c.push(y)})};i?d(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,f=>d(f)),this.services.backendConnector.load(c,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(f)})}else r(null)}reloadResources(e,t,r){const i=$l();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Sd),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&nC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=$l();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...f)=>this.t(...f)),t&&t(c,(...f)=>this.t(...f))},l=c=>{var m,y;!e&&!c&&this.services.languageDetector&&(c=[]);const d=Be(c)?c:c&&c[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Be(c)?[c]:c);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),(y=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||y.call(m,f)),this.loadResources(f,v=>{a(v,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const i=(a,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(c)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const f=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(a)?m=a.map(y=>`${d.keyPrefix}${f}${y}`):m=d.keyPrefix?`${d.keyPrefix}${f}${a}`:a,this.t(m,d)};return Be(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const f=this.services.backendConnector.state[`${c}|${d}`];return f===-1||f===0||f===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,t){const r=$l();return this.options.ns?(Be(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=$l();Be(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new mT(wT());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Au(e,t)}cloneInstance(e={},t=Sd){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Au(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((m,y)=>(m[y]={...d[f][y]},m),d[f]),d),{});a.store=new hT(c,i),a.services.resourceStore=a.store}return a.translator=new Sh(a.services,i),a.translator.on("*",(c,...d)=>{a.emit(c,...d)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const wn=Au.createInstance();wn.createInstance=Au.createInstance;wn.createInstance;wn.dir;wn.init;wn.loadResources;wn.reloadResources;wn.use;wn.changeLanguage;wn.getFixedT;wn.t;wn.exists;wn.setDefaultNamespace;wn.hasLoadedNamespace;wn.loadNamespaces;wn.loadLanguages;const{slice:HF,forEach:WF}=[];function qF(n){return WF.call(HF.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function KF(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const TT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,GF=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(r.maxAge>0){const l=r.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(l)}`}if(r.domain){if(!TT.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!TT.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},ST={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=GF(n,e,i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var QF={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return ST.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;t&&typeof document<"u"&&ST.create(t,n,r,i,a)}},YF={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(t=l[c].substring(d+1))}}return t}},XF={name:"hash",lookup(n){var i;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const c=l.split("&");for(let d=0;d<c.length;d++){const f=c[d].indexOf("=");f>0&&c[d].substring(0,f)===e&&(r=c[d].substring(f+1))}}if(r)return r;if(!r&&t>-1){const c=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?(i=c[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let pa=null;const IT=()=>{if(pa!==null)return pa;try{if(pa=typeof window<"u"&&window.localStorage!==null,!pa)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{pa=!1}return pa};var JF={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&IT())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&IT()&&window.localStorage.setItem(t,n)}};let ma=null;const xT=()=>{if(ma!==null)return ma;try{if(ma=typeof window<"u"&&window.sessionStorage!==null,!ma)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{ma=!1}return ma};var ZF={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&xT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&xT()&&window.sessionStorage.setItem(t,n)}},e6={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},t6={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},n6={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},r6={name:"subdomain",lookup(n){var i,a;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let rC=!1;try{document.cookie,rC=!0}catch{}const iC=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];rC||iC.splice(1,1);const i6=()=>({order:iC,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class sC{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=qF(t,this.options||{},i6()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(QF),this.addDetector(YF),this.addDetector(JF),this.addDetector(ZF),this.addDetector(e6),this.addDetector(t6),this.addDetector(n6),this.addDetector(r6),this.addDetector(XF)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!KF(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}sC.type="languageDetector";const s6={hello:"Hello 👋",nowYouCan:"Now You Can",welcome:"Hi Admin!",loginPrompt:"Please enter your information to log in.",willLogInto:"You will log into"},o6={login:"Login",goToAdmin:"Go to Admin Panel",logout:"Logout",yes:"Yes",no:"No",or:"or",submit:"Place Order",close:"Close",delete:"Delete"},a6={email:"Email",password:"Password"},l6={agree:"I agree to the Privacy Policy"},u6={logout:"Are you sure you want to log out?"},c6={privacyPolicy:"Please agree to the privacy policy!",storedProjectNotFound:"Stored project not found",sessionCheck:"Error while checking saved session",notAuthorized:"You do not have permission to access this project!",projectNotFound:"This project does not exist!",loginFailed:"Login failed!"},d6={loginSuccess:"Login successful!",loggedOut:"You have been logged out.",projectSwitched:"You switched to a different project. Please log in again."},h6={title:"BOOK A TABLE",labels:{yourName:"Your Name",tableSize:"Choose Table Size",chooseADay:"Choose a Day",chooseATime:"Choose a Time"},info:{openingHours:"Opening Hours",additionalInfo:"Additional Info"},errors:{requiredFields:"Please fill all required fields.",general:"Something went wrong."}},f6={title:"Complete Your Payment",depositNotice:"A deposit of {{amount}}$ is required to confirm your reservation.",selectMethod:"Select Payment Method:",chooseMethod:"Choose Method",confirm:"Confirm",cancel:"Cancel",error:"Please select a payment method.",success:"Reservation confirmed successfully!",instructions:{vodafone:"Send the deposit to: {{number}}",paypal:"Send the deposit to: {{account}}",stripe:"Pay via Stripe: {{link}}",fawry:"Fawry Code: {{code}}"}},p6={greeting:"Hi!",contactVia:"You can contact us via:",noData:"There is no data available",loading:"Uploading Data..."},m6={contactUs:"Contact Us",details:"Details",developedBy:"Developed by ReVerse"},g6={menu:"Menu",cart:"Cart",contact_us:"Contact Us",admin_login:"Admin Login"},y6={home:"Home",cart:"Cart",products:"Products",book_table:"Book a Table",about_us:"About Us",admin:"Admin",contact:"Let’s Contact"},v6={title:"Add Category",note:"Preferred image ratio is 1:1 (square)",previewAlt:"Category Preview",changeImage:"Change Image",namePlaceholder:"Category Name",submit:"Add Category",errors:{nameAndImage:"Please enter a category name and upload an image.",nameOnly:"Category name is required.",imageOnly:"Category image is required."}},_6={back:"Back",tabs:{product:"Add Product",category:"Add Category",special:"Special Items"},uploadImage:"Please upload main image:",name:"Product name:",namePlaceholder:"Product Name",description:"Product description:",descriptionPlaceholder:"Description",sizesTitle:"Select sizes and prices:",standard:"Standard",price:"Price",priceFor:"Price for",category:"Product Category:",selectCategory:"Select Category",submit:"Add Product"},w6={addSpecialItems:"Add Special Items",sectionTitlePlaceholder:"Special Section Title",saveTitle:"Save Title",name:"Name",description:"Description",oldPrice:"Old Price",price:"Price",uploadImage:"Upload Image",changeImage:"Change Image",addItem:"Add Item",confirmDeleteSection:"Are you sure you want to delete the entire section",confirmDeleteItem:"Are you sure you want to delete",fullDescription:"Full Description:"},E6={specialItemsTitle:"Special Items are Premium-only",description:"To access this feature and highlight your top dishes, please upgrade to the Premium Plan.",contactBtn:"Contact Us to Upgrade"},T6={back:"Back",title:"Reservations Management",filters:{all:"All",pending:"Pending",confirmed:"Confirmed",rejected:"Rejected"},table:{name:"Name",seats:"Seats",date:"Date",time:"Time",payment:"Payment",status:"Status",actions:"Actions"},noBookings:"There are no future bookings.",confirmDelete:"Are you sure you want to delete this booking?"},S6={title:"Category List",noCategories:"No categories found.",count:"{{count}} product(s)",confirmDelete:'Are you sure you want to delete "{{name}}"?'},I6={title:"Product List",filterByCategory:"Filter by Category:",noProducts:"No products found.",fullDescription:"Full Description:",confirmDelete:'Are you sure you want to delete "{{name}}"?'},x6={back:"Back",title:"Welcome to Admin Panel for: {{slug}}",count:"Orders: {{count}}",note:"Note that the orders older than the most recent 80 will be automatically deleted to maintain performance.",filterByStatus:"Filter by Status:",orderType:"Order Type:",header:"{{index}}. Items {{count}} – Date: {{date}} – {{status}}",item:"🍽 {{name}} | {{size}} | quantity: {{quantity}} | ${{price}}",notes:"Notes",total:"Total",name:"Name",address:"Address",phone:"Phone",tableNumber:"Table Number",payment:"Payment",paidOnline:"✅ Paid Online",unpaidOnline:"❗ Unpaid - Online Selected",cashOnDelivery:"💵 Cash on Delivery",changeStatus:"Order Status:",cancelled:"This order is cancelled",delete:"Delete"},C6={title:"Admin Panel - {{slug}}",name:"Name",email:"Email",logout:"Logout",add:"Add",list:"Product List",orders:"Orders",bookings:"Bookings",back:"Back",logoutConfirm:"Are you sure you want to logout?",logoutYes:"Yes, Logout",cancel:"Cancel"},b6={totalTitle:"Cart Total",subtotal:"Subtotal",deliveryFee:"Delivery Fee",total:"Total",inside:"I'm dining inside",outside:"I want delivery",price:"Price",size:"Size",emptyMessage:"Your cart is currently empty. Please add some products to your cart.",fullDescription:"Product Description"},P6={title:"Delivery Details",instruction:"Please fill these fields",namePlaceholder:"Full Name",phonePlaceholder:"Phone Number",addressPlaceholder:"Address",notesPlaceholder:"Any notes or requests?",errorMsg:"Please fill all required fields.",proceedBtn:"Proceed to Checkout"},A6={title:"Dine-In Details",instruction:"Please fill these fields",label:"Type your table number:",placeholder:"Enter your table number",notesPlaceholder:"Any notes or requests?",errorMsg:"Please select a table number.",proceedBtn:"Proceed to Checkout"},R6={title:"Select Payment Method",cash:"Confirm Cash Payment",cancel:"Cancel"},k6={noProduct:"There is no product",priceLabel:"Price",viewMore:"View More ▼",viewLess:"View Less ▲"},N6={adminO:s6,buttons:o6,placeholders:a6,privacy:l6,confirm:u6,errors:c6,messages:d6,reservation:h6,modal:f6,contact:p6,footer:m6,navbar:g6,sidemenu:y6,addCategory:v6,addProduct:_6,special:w6,upgrade:E6,bookings:T6,categories:S6,products:I6,orders:x6,admin:C6,cart:b6,delivery:P6,dinein:A6,payment:R6,productList:k6},O6={hello:"مرحبًا 👋",nowYouCan:"يمكنك الآن",welcome:"مرحبًا أيها المدير!",loginPrompt:"يرجى إدخال بياناتك لتسجيل الدخول.",willLogInto:"ستسجّل الدخول إلى"},D6={login:"تسجيل الدخول",goToAdmin:"الذهاب إلى لوحة التحكم",logout:"تسجيل الخروج",yes:"نعم",no:"لا",or:"أو",submit:"تأكيد الطلب",close:"إغلاق",delete:"حذف"},V6={email:"البريد الإلكتروني",password:"كلمة المرور"},L6={agree:"أوافق على سياسة الخصوصية"},j6={logout:"هل أنت متأكد أنك تريد تسجيل الخروج؟"},M6={privacyPolicy:"يرجى الموافقة على سياسة الخصوصية!",storedProjectNotFound:"لم يتم العثور على المشروع المحفوظ",sessionCheck:"حدث خطأ أثناء التحقق من الجلسة المحفوظة",notAuthorized:"ليس لديك صلاحية للوصول إلى هذا المشروع!",projectNotFound:"هذا المشروع غير موجود!",loginFailed:"فشل تسجيل الدخول!"},F6={loginSuccess:"تم تسجيل الدخول بنجاح!",loggedOut:"تم تسجيل الخروج.",projectSwitched:"تم التبديل إلى مشروع مختلف. يرجى تسجيل الدخول مجددًا."},U6={title:"احجز طاولتك",labels:{yourName:"الاسم الكامل",tableSize:"اختر عدد المقاعد",chooseADay:"اختر اليوم",chooseATime:"اختر الوقت"},info:{openingHours:"ساعات العمل",additionalInfo:"معلومات إضافية"},errors:{requiredFields:"يرجى ملء جميع الحقول المطلوبة.",general:"حدث خطأ ما، حاول مرة أخرى."}},B6={title:"إكمال عملية الدفع",depositNotice:"يتطلب تأكيد الحجز دفع مبلغ مقدّم بقيمة {{amount}}$.",selectMethod:"اختر طريقة الدفع:",chooseMethod:"اختر الطريقة",confirm:"تأكيد",cancel:"إلغاء",error:"يرجى اختيار طريقة الدفع.",success:"تم تأكيد الحجز بنجاح!",instructions:{vodafone:"أرسل المبلغ إلى: {{number}}",paypal:"أرسل المبلغ إلى: {{account}}",stripe:"ادفع عبر Stripe: {{link}}",fawry:"كود فوري: {{code}}"}},$6={greeting:"أهلاً بك!",contactVia:"يمكنك التواصل معنا عبر:",noData:"لا توجد بيانات متاحة حاليًا",loading:"جارٍ تحميل البيانات..."},z6={contactUs:"تواصل معنا",details:"تفاصيل",developedBy:"تم التطوير بواسطة ReVerse"},H6={menu:"القائمة",cart:"السلة",contact_us:"تواصل معنا",admin_login:"دخول المدير"},W6={home:"الرئيسية",cart:"السلة",products:"المنتجات",book_table:"احجز طاولة",about_us:"من نحن",admin:"الإدارة",contact:"تواصل معنا"},q6={title:"قائمة المنتجات",filterByCategory:"تصفية حسب التصنيف:",noProducts:"لم يتم العثور على منتجات.",fullDescription:"الوصف الكامل:",confirmDelete:'هل أنت متأكد أنك تريد حذف "{{name}}"؟'},K6={back:"رجوع",title:"مرحبًا بك في لوحة تحكم المطعم: {{slug}}",count:"عدد الطلبات: {{count}}",note:"يرجى ملاحظة أنه سيتم حذف الطلبات الأقدم من آخر 80 طلبًا تلقائيًا للحفاظ على الأداء.",filterByStatus:"تصفية حسب الحالة:",orderType:"نوع الطلب:",header:"{{index}}. العناصر {{count}} – التاريخ: {{date}} – الحالة: {{status}}",item:"🍽 {{name}} | {{size}} | الكمية: {{quantity}} | ${{price}}",notes:"ملاحظات",total:"الإجمالي",name:"الاسم",address:"العنوان",phone:"رقم الهاتف",tableNumber:"رقم الطاولة",payment:"الدفع",paidOnline:"✅ تم الدفع أونلاين",unpaidOnline:"❗ لم يتم الدفع - تم اختيار أونلاين",cashOnDelivery:"💵 الدفع عند الاستلام",changeStatus:"حالة الطلب:",cancelled:"تم إلغاء هذا الطلب",delete:"حذف"},G6={title:"لوحة تحكم المطعم - {{slug}}",name:"الاسم",email:"البريد الإلكتروني",logout:"تسجيل الخروج",add:"إضافة",list:"قائمة المنتجات",orders:"الطلبات",bookings:"الحجوزات",back:"رجوع",logoutConfirm:"هل أنت متأكد أنك تريد تسجيل الخروج؟",logoutYes:"نعم، سجل الخروج",cancel:"إلغاء"},Q6={totalTitle:"إجمالي السلة",subtotal:"المجموع الفرعي",deliveryFee:"رسوم التوصيل",total:"الإجمالي",inside:"داخل المطعم",outside:"توصيل للمنزل",price:"السعر",size:"الحجم",emptyMessage:"سلة المشتريات فارغة حالياً. يرجى إضافة بعض المنتجات.",fullDescription:"وصف المنتج"},Y6={title:"إضافة تصنيف",note:"يُفضّل أن تكون أبعاد الصورة بنسبة 1:1 (مربعة)",previewAlt:"معاينة التصنيف",changeImage:"تغيير الصورة",namePlaceholder:"اسم التصنيف",submit:"إضافة التصنيف",errors:{nameAndImage:"يرجى إدخال اسم التصنيف ورفع صورة.",nameOnly:"اسم التصنيف مطلوب.",imageOnly:"صورة التصنيف مطلوبة."}},X6={back:"رجوع",tabs:{product:"إضافة منتج",category:"إضافة تصنيف",special:"عروض مميزة"},uploadImage:"يرجى رفع الصورة الرئيسية:",name:"اسم المنتج:",namePlaceholder:"اسم المنتج",description:"وصف المنتج:",descriptionPlaceholder:"الوصف",sizesTitle:"اختر الأحجام والأسعار:",standard:"سعر موحّد",price:"السعر",priceFor:"السعر لـ",category:"تصنيف المنتج:",selectCategory:"اختر التصنيف",submit:"إضافة المنتج"},J6={addSpecialItems:"إضافة عناصر مميزة",sectionTitlePlaceholder:"عنوان القسم المميز",saveTitle:"حفظ العنوان",name:"الاسم",description:"الوصف",oldPrice:"السعر القديم",price:"السعر",uploadImage:"رفع الصورة",changeImage:"تغيير الصورة",addItem:"إضافة عنصر",confirmDeleteSection:"هل أنت متأكد أنك تريد حذف القسم بالكامل؟",confirmDeleteItem:"هل أنت متأكد أنك تريد حذف",fullDescription:"الوصف الكامل:"},Z6={specialItemsTitle:"العناصر المميزة متاحة فقط في الخطة المميزة",description:"للوصول إلى هذه الميزة وتسليط الضوء على أفضل أطباقك، يرجى الترقية إلى الخطة المميزة.",contactBtn:"تواصل معنا للترقية"},e9={back:"رجوع",title:"إدارة الحجوزات",filters:{all:"الكل",pending:"قيد الانتظار",confirmed:"تم التأكيد",rejected:"مرفوض"},table:{name:"الاسم",seats:"عدد المقاعد",date:"التاريخ",time:"الوقت",payment:"الدفع",status:"الحالة",actions:"إجراءات"},noBookings:"لا توجد حجوزات قادمة.",confirmDelete:"هل أنت متأكد أنك تريد حذف هذا الحجز؟"},t9={title:"قائمة التصنيفات",noCategories:"لا توجد تصنيفات.",count:"{{count}} منتج(ات)",confirmDelete:'هل أنت متأكد أنك تريد حذف "{{name}}"؟'},n9={title:"تفاصيل التوصيل",instruction:"يرجى تعبئة الحقول التالية",namePlaceholder:"الاسم الكامل",phonePlaceholder:"رقم الهاتف",addressPlaceholder:"العنوان",notesPlaceholder:"ملاحظات أو طلبات إضافية؟",errorMsg:"يرجى تعبئة جميع الحقول المطلوبة.",proceedBtn:"المتابعة إلى الدفع"},r9={title:"تفاصيل الطلب داخل المطعم",instruction:"يرجى تعبئة الحقول التالية",label:"أدخل رقم الطاولة:",placeholder:"اكتب رقم طاولتك",notesPlaceholder:"ملاحظات أو طلبات إضافية؟",errorMsg:"يرجى تحديد رقم الطاولة.",proceedBtn:"المتابعة إلى الدفع"},i9={title:"اختر وسيلة الدفع",cash:"تأكيد الدفع نقدًا",cancel:"إلغاء"},s9={noProduct:"لا توجد منتجات حالياً",priceLabel:"السعر",viewMore:"عرض المزيد ▼",viewLess:"عرض أقل ▲"},o9={adminO:O6,buttons:D6,placeholders:V6,privacy:L6,confirm:j6,errors:M6,messages:F6,reservation:U6,modal:B6,contact:$6,footer:z6,navbar:H6,sidemenu:W6,products:q6,orders:K6,admin:G6,cart:Q6,addCategory:Y6,addProduct:X6,special:J6,upgrade:Z6,bookings:e9,categories:t9,delivery:n9,dinein:r9,payment:i9,productList:s9};wn.use(sC).use(EV).init({resources:{en:{translation:N6},ar:{translation:o9}},fallbackLng:"en",interpolation:{escapeValue:!1}});function a9(){const n=Xn();return A.useEffect(()=>{const e=window.location.search.slice(1);e&&n("/"+e)},[]),null}vb.createRoot(document.getElementById("root")).render(E.jsx(LP,{children:E.jsx(E.Fragment,{children:E.jsxs(fI,{children:[E.jsx(a9,{})," ",E.jsx(IF,{}),E.jsx(Hu,{})]})})}));
