(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function gC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $p={exports:{}},Fl={},zp={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function yC(){if(l_)return Ye;l_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,R={};function A(z,Z,pe){this.props=z,this.context=Z,this.refs=R,this.updater=pe||T}A.prototype.isReactComponent={},A.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=A.prototype;function I(z,Z,pe){this.props=z,this.context=Z,this.refs=R,this.updater=pe||T}var N=I.prototype=new j;N.constructor=I,x(N,A.prototype),N.isPureReactComponent=!0;var M=Array.isArray,B=Object.prototype.hasOwnProperty,Y={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(z,Z,pe){var Se,Ne={},$e=null,Ze=null;if(Z!=null)for(Se in Z.ref!==void 0&&(Ze=Z.ref),Z.key!==void 0&&($e=""+Z.key),Z)B.call(Z,Se)&&!D.hasOwnProperty(Se)&&(Ne[Se]=Z[Se]);var Ge=arguments.length-2;if(Ge===1)Ne.children=pe;else if(1<Ge){for(var at=Array(Ge),vt=0;vt<Ge;vt++)at[vt]=arguments[vt+2];Ne.children=at}if(z&&z.defaultProps)for(Se in Ge=z.defaultProps,Ge)Ne[Se]===void 0&&(Ne[Se]=Ge[Se]);return{$$typeof:n,type:z,key:$e,ref:Ze,props:Ne,_owner:Y.current}}function k(z,Z){return{$$typeof:n,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function F(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return Z[pe]})}var $=/\/+/g;function V(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):Z.toString(36)}function ye(z,Z,pe,Se,Ne){var $e=typeof z;($e==="undefined"||$e==="boolean")&&(z=null);var Ze=!1;if(z===null)Ze=!0;else switch($e){case"string":case"number":Ze=!0;break;case"object":switch(z.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=z,Ne=Ne(Ze),z=Se===""?"."+V(Ze,0):Se,M(Ne)?(pe="",z!=null&&(pe=z.replace($,"$&/")+"/"),ye(Ne,Z,pe,"",function(vt){return vt})):Ne!=null&&(L(Ne)&&(Ne=k(Ne,pe+(!Ne.key||Ze&&Ze.key===Ne.key?"":(""+Ne.key).replace($,"$&/")+"/")+z)),Z.push(Ne)),1;if(Ze=0,Se=Se===""?".":Se+":",M(z))for(var Ge=0;Ge<z.length;Ge++){$e=z[Ge];var at=Se+V($e,Ge);Ze+=ye($e,Z,pe,at,Ne)}else if(at=_(z),typeof at=="function")for(z=at.call(z),Ge=0;!($e=z.next()).done;)$e=$e.value,at=Se+V($e,Ge++),Ze+=ye($e,Z,pe,at,Ne);else if($e==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ze}function Re(z,Z,pe){if(z==null)return z;var Se=[],Ne=0;return ye(z,Se,"","",function($e){return Z.call(pe,$e,Ne++)}),Se}function ve(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var Ee={current:null},Q={transition:null},ae={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Q,ReactCurrentOwner:Y};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:Re,forEach:function(z,Z,pe){Re(z,function(){Z.apply(this,arguments)},pe)},count:function(z){var Z=0;return Re(z,function(){Z++}),Z},toArray:function(z){return Re(z,function(Z){return Z})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ye.Component=A,Ye.Fragment=t,Ye.Profiler=i,Ye.PureComponent=I,Ye.StrictMode=r,Ye.Suspense=d,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ye.act=ne,Ye.cloneElement=function(z,Z,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Se=x({},z.props),Ne=z.key,$e=z.ref,Ze=z._owner;if(Z!=null){if(Z.ref!==void 0&&($e=Z.ref,Ze=Y.current),Z.key!==void 0&&(Ne=""+Z.key),z.type&&z.type.defaultProps)var Ge=z.type.defaultProps;for(at in Z)B.call(Z,at)&&!D.hasOwnProperty(at)&&(Se[at]=Z[at]===void 0&&Ge!==void 0?Ge[at]:Z[at])}var at=arguments.length-2;if(at===1)Se.children=pe;else if(1<at){Ge=Array(at);for(var vt=0;vt<at;vt++)Ge[vt]=arguments[vt+2];Se.children=Ge}return{$$typeof:n,type:z.type,key:Ne,ref:$e,props:Se,_owner:Ze}},Ye.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ye.createElement=C,Ye.createFactory=function(z){var Z=C.bind(null,z);return Z.type=z,Z},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(z){return{$$typeof:c,render:z}},Ye.isValidElement=L,Ye.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:ve}},Ye.memo=function(z,Z){return{$$typeof:f,type:z,compare:Z===void 0?null:Z}},Ye.startTransition=function(z){var Z=Q.transition;Q.transition={};try{z()}finally{Q.transition=Z}},Ye.unstable_act=ne,Ye.useCallback=function(z,Z){return Ee.current.useCallback(z,Z)},Ye.useContext=function(z){return Ee.current.useContext(z)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(z){return Ee.current.useDeferredValue(z)},Ye.useEffect=function(z,Z){return Ee.current.useEffect(z,Z)},Ye.useId=function(){return Ee.current.useId()},Ye.useImperativeHandle=function(z,Z,pe){return Ee.current.useImperativeHandle(z,Z,pe)},Ye.useInsertionEffect=function(z,Z){return Ee.current.useInsertionEffect(z,Z)},Ye.useLayoutEffect=function(z,Z){return Ee.current.useLayoutEffect(z,Z)},Ye.useMemo=function(z,Z){return Ee.current.useMemo(z,Z)},Ye.useReducer=function(z,Z,pe){return Ee.current.useReducer(z,Z,pe)},Ye.useRef=function(z){return Ee.current.useRef(z)},Ye.useState=function(z){return Ee.current.useState(z)},Ye.useSyncExternalStore=function(z,Z,pe){return Ee.current.useSyncExternalStore(z,Z,pe)},Ye.useTransition=function(){return Ee.current.useTransition()},Ye.version="18.3.1",Ye}var u_;function Ih(){return u_||(u_=1,zp.exports=yC()),zp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function vC(){if(c_)return Fl;c_=1;var n=Ih(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,y={},_=null,T=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:_,ref:T,props:y,_owner:i.current}}return Fl.Fragment=t,Fl.jsx=l,Fl.jsxs=l,Fl}var d_;function _C(){return d_||(d_=1,$p.exports=vC()),$p.exports}var v=_C(),dd={},Hp={exports:{}},Mn={},Wp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function wC(){return h_||(h_=1,function(n){function e(Q,ae){var ne=Q.length;Q.push(ae);e:for(;0<ne;){var z=ne-1>>>1,Z=Q[z];if(0<i(Z,ae))Q[z]=ae,Q[ne]=Z,ne=z;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ae=Q[0],ne=Q.pop();if(ne!==ae){Q[0]=ne;e:for(var z=0,Z=Q.length,pe=Z>>>1;z<pe;){var Se=2*(z+1)-1,Ne=Q[Se],$e=Se+1,Ze=Q[$e];if(0>i(Ne,ne))$e<Z&&0>i(Ze,Ne)?(Q[z]=Ze,Q[$e]=ne,z=$e):(Q[z]=Ne,Q[Se]=ne,z=Se);else if($e<Z&&0>i(Ze,ne))Q[z]=Ze,Q[$e]=ne,z=$e;else break e}}return ae}function i(Q,ae){var ne=Q.sortIndex-ae.sortIndex;return ne!==0?ne:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,y=null,_=3,T=!1,x=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Q){for(var ae=t(f);ae!==null;){if(ae.callback===null)r(f);else if(ae.startTime<=Q)r(f),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=t(f)}}function M(Q){if(R=!1,N(Q),!x)if(t(d)!==null)x=!0,ve(B);else{var ae=t(f);ae!==null&&Ee(M,ae.startTime-Q)}}function B(Q,ae){x=!1,R&&(R=!1,j(C),C=-1),T=!0;var ne=_;try{for(N(ae),y=t(d);y!==null&&(!(y.expirationTime>ae)||Q&&!F());){var z=y.callback;if(typeof z=="function"){y.callback=null,_=y.priorityLevel;var Z=z(y.expirationTime<=ae);ae=n.unstable_now(),typeof Z=="function"?y.callback=Z:y===t(d)&&r(d),N(ae)}else r(d);y=t(d)}if(y!==null)var pe=!0;else{var Se=t(f);Se!==null&&Ee(M,Se.startTime-ae),pe=!1}return pe}finally{y=null,_=ne,T=!1}}var Y=!1,D=null,C=-1,k=5,L=-1;function F(){return!(n.unstable_now()-L<k)}function $(){if(D!==null){var Q=n.unstable_now();L=Q;var ae=!0;try{ae=D(!0,Q)}finally{ae?V():(Y=!1,D=null)}}else Y=!1}var V;if(typeof I=="function")V=function(){I($)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Re=ye.port2;ye.port1.onmessage=$,V=function(){Re.postMessage(null)}}else V=function(){A($,0)};function ve(Q){D=Q,Y||(Y=!0,V())}function Ee(Q,ae){C=A(function(){Q(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){x||T||(x=!0,ve(B))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var ne=_;_=ae;try{return Q()}finally{_=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=_;_=Q;try{return ae()}finally{_=ne}},n.unstable_scheduleCallback=function(Q,ae,ne){var z=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,Q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ne+Z,Q={id:m++,callback:ae,priorityLevel:Q,startTime:ne,expirationTime:Z,sortIndex:-1},ne>z?(Q.sortIndex=ne,e(f,Q),t(d)===null&&Q===t(f)&&(R?(j(C),C=-1):R=!0,Ee(M,ne-z))):(Q.sortIndex=Z,e(d,Q),x||T||(x=!0,ve(B))),Q},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Q){var ae=_;return function(){var ne=_;_=ae;try{return Q.apply(this,arguments)}finally{_=ne}}}}(qp)),qp}var f_;function EC(){return f_||(f_=1,Wp.exports=wC()),Wp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function TC(){if(p_)return Mn;p_=1;var n=Ih(),e=EC();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(s){return d.call(y,s)?!0:d.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,o,u,p){if(o===null||typeof o>"u"||T(s,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(s,o,u,p,g,E,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=E,this.removeEmptyString=b}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];A[o]=new R(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function I(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(j,I);A[o]=new R(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(j,I);A[o]=new R(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(j,I);A[o]=new R(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,o,u,p){var g=A.hasOwnProperty(o)?A[o]:null;(g!==null?g.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,u,g,p)&&(u=null),p||g===null?_(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,p=g.attributeNamespace,u===null?s.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,p?s.setAttributeNS(p,o,u):s.setAttribute(o,u))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),Y=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,z;function Z(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var pe=!1;function Se(s,o){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var p=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){p=J}s.call(o.prototype)}else{try{throw Error()}catch(J){p=J}s()}}catch(J){if(J&&p&&typeof J.stack=="string"){for(var g=J.stack.split(`
`),E=p.stack.split(`
`),b=g.length-1,U=E.length-1;1<=b&&0<=U&&g[b]!==E[U];)U--;for(;1<=b&&0<=U;b--,U--)if(g[b]!==E[U]){if(b!==1||U!==1)do if(b--,U--,0>U||g[b]!==E[U]){var H=`
`+g[b].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=b&&0<=U);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Z(s):""}function Ne(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function $e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Y:return"Portal";case k:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case ye:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case $:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Re:return o=s.displayName||null,o!==null?o:$e(s.type)||"Memo";case ve:o=s._payload,s=s._init;try{return $e(s(o))}catch{}}return null}function Ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function at(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vt(s){var o=at(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,E=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(b){p=""+b,E.call(this,b)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(b){p=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function _t(s){s._valueTracker||(s._valueTracker=vt(s))}function Wt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=at(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function Rt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function li(s,o){var u=o.checked;return ne({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function ui(s,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Ge(o.value!=null?o.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Mi(s,o){o=o.checked,o!=null&&N(s,"checked",o,!1)}function Us(s,o){Mi(s,o);var u=Ge(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Fi(s,o.type,u):o.hasOwnProperty("defaultValue")&&Fi(s,o.type,Ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ci(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Fi(s,o,u){(o!=="number"||Rt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var er=Array.isArray;function $n(s,o,u,p){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Ge(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Ur(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Br(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(er(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ge(u)}}function Ui(s,o){var u=Ge(o.value),p=Ge(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function le(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function q(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?q(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var de,ze=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,g){MSApp.execUnsafeLocalFunction(function(){return s(o,u,p,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(de=de||document.createElement("div"),de.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=de.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ue(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},te=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(s){te.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Xe[o]=Xe[s]})});function re(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Xe.hasOwnProperty(s)&&Xe[s]?(""+o).trim():o+"px"}function be(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,g=re(u,o[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,g):s[u]=g}}var Te=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(s,o){if(o){if(Te[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function qe(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dt=null;function pt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lt=null,mt=null,ht=null;function kt(s){if(s=xl(s)){if(typeof lt!="function")throw Error(t(280));var o=s.stateNode;o&&(o=bc(o),lt(s.stateNode,s.type,o))}}function on(s){mt?ht?ht.push(s):ht=[s]:mt=s}function zn(){if(mt){var s=mt,o=ht;if(ht=mt=null,kt(s),o)for(s=0;s<o.length;s++)kt(o[s])}}function tr(s,o){return s(o)}function Bi(){}var nr=!1;function rl(s,o,u){if(nr)return s(o,u);nr=!0;try{return tr(s,o,u)}finally{nr=!1,(mt!==null||ht!==null)&&(Bi(),zn())}}function jt(s,o){var u=s.stateNode;if(u===null)return null;var p=bc(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var ko=!1;if(c)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){ko=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{ko=!1}function Bs(s,o,u,p,g,E,b,U,H){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(ce){this.onError(ce)}}var $s=!1,No=null,yr=!1,il=null,gf={onError:function(s){$s=!0,No=s}};function Oo(s,o,u,p,g,E,b,U,H){$s=!1,No=null,Bs.apply(gf,arguments)}function Xu(s,o,u,p,g,E,b,U,H){if(Oo.apply(this,arguments),$s){if($s){var J=No;$s=!1,No=null}else throw Error(t(198));yr||(yr=!0,il=J)}}function vr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function zs(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function _r(s){if(vr(s)!==s)throw Error(t(188))}function Ju(s){var o=s.alternate;if(!o){if(o=vr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,p=o;;){var g=u.return;if(g===null)break;var E=g.alternate;if(E===null){if(p=g.return,p!==null){u=p;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===u)return _r(g),s;if(E===p)return _r(g),o;E=E.sibling}throw Error(t(188))}if(u.return!==p.return)u=g,p=E;else{for(var b=!1,U=g.child;U;){if(U===u){b=!0,u=g,p=E;break}if(U===p){b=!0,p=g,u=E;break}U=U.sibling}if(!b){for(U=E.child;U;){if(U===u){b=!0,u=E,p=g;break}if(U===p){b=!0,p=E,u=g;break}U=U.sibling}if(!b)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function sl(s){return s=Ju(s),s!==null?Do(s):null}function Do(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Do(s);if(o!==null)return o;s=s.sibling}return null}var Vo=e.unstable_scheduleCallback,ol=e.unstable_cancelCallback,Zu=e.unstable_shouldYield,yf=e.unstable_requestPaint,Et=e.unstable_now,ec=e.unstable_getCurrentPriorityLevel,Hs=e.unstable_ImmediatePriority,$i=e.unstable_UserBlockingPriority,rr=e.unstable_NormalPriority,al=e.unstable_LowPriority,tc=e.unstable_IdlePriority,Ws=null,Hn=null;function nc(s){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Ws,s,void 0,(s.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:ic,ll=Math.log,rc=Math.LN2;function ic(s){return s>>>=0,s===0?32:31-(ll(s)/rc|0)|0}var Lo=64,jo=4194304;function zi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function qs(s,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,E=s.pingedLanes,b=u&268435455;if(b!==0){var U=b&~g;U!==0?p=zi(U):(E&=b,E!==0&&(p=zi(E)))}else b=u&~g,b!==0?p=zi(b):E!==0&&(p=zi(E));if(p===0)return 0;if(o!==0&&o!==p&&(o&g)===0&&(g=p&-p,E=o&-o,g>=E||g===16&&(E&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)u=31-xn(o),g=1<<u,p|=s[u],o&=~g;return p}function vf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,E=s.pendingLanes;0<E;){var b=31-xn(E),U=1<<b,H=g[b];H===-1?((U&u)===0||(U&p)!==0)&&(g[b]=vf(U,o)):H<=o&&(s.expiredLanes|=U),E&=~U}}function Wn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ks(){var s=Lo;return Lo<<=1,(Lo&4194240)===0&&(Lo=64),s}function Hi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Wi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-xn(o),s[o]=u}function wt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-xn(u),E=1<<g;o[g]=0,p[g]=-1,s[g]=-1,u&=~E}}function qi(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-xn(u),g=1<<p;g&o|s[p]&o&&(s[p]|=o),u&=~g}}var nt=0;function Ki(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var sc,Mo,oc,ac,lc,ul=!1,$r=[],an=null,wr=null,Er=null,Gi=new Map,ir=new Map,zr=[],_f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(s,o){switch(s){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(o.pointerId)}}function kn(s,o,u,p,g,E){return s===null||s.nativeEvent!==E?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:E,targetContainers:[g]},o!==null&&(o=xl(o),o!==null&&Mo(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function wf(s,o,u,p,g){switch(o){case"focusin":return an=kn(an,s,o,u,p,g),!0;case"dragenter":return wr=kn(wr,s,o,u,p,g),!0;case"mouseover":return Er=kn(Er,s,o,u,p,g),!0;case"pointerover":var E=g.pointerId;return Gi.set(E,kn(Gi.get(E)||null,s,o,u,p,g)),!0;case"gotpointercapture":return E=g.pointerId,ir.set(E,kn(ir.get(E)||null,s,o,u,p,g)),!0}return!1}function cc(s){var o=Js(s.target);if(o!==null){var u=vr(o);if(u!==null){if(o=u.tag,o===13){if(o=zs(u),o!==null){s.blockedOn=o,lc(s.priority,function(){oc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Fo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);dt=p,u.target.dispatchEvent(p),dt=null}else return o=xl(u),o!==null&&Mo(o),s.blockedOn=u,!1;o.shift()}return!0}function Gs(s,o,u){hi(s)&&u.delete(o)}function dc(){ul=!1,an!==null&&hi(an)&&(an=null),wr!==null&&hi(wr)&&(wr=null),Er!==null&&hi(Er)&&(Er=null),Gi.forEach(Gs),ir.forEach(Gs)}function Tr(s,o){s.blockedOn===o&&(s.blockedOn=null,ul||(ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dc)))}function Sr(s){function o(g){return Tr(g,s)}if(0<$r.length){Tr($r[0],s);for(var u=1;u<$r.length;u++){var p=$r[u];p.blockedOn===s&&(p.blockedOn=null)}}for(an!==null&&Tr(an,s),wr!==null&&Tr(wr,s),Er!==null&&Tr(Er,s),Gi.forEach(o),ir.forEach(o),u=0;u<zr.length;u++)p=zr[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<zr.length&&(u=zr[0],u.blockedOn===null);)cc(u),u.blockedOn===null&&zr.shift()}var fi=M.ReactCurrentBatchConfig,Qi=!0;function Ct(s,o,u,p){var g=nt,E=fi.transition;fi.transition=null;try{nt=1,cl(s,o,u,p)}finally{nt=g,fi.transition=E}}function Ef(s,o,u,p){var g=nt,E=fi.transition;fi.transition=null;try{nt=4,cl(s,o,u,p)}finally{nt=g,fi.transition=E}}function cl(s,o,u,p){if(Qi){var g=Fo(s,o,u,p);if(g===null)Nf(s,o,p,Qs,u),uc(s,p);else if(wf(g,s,o,u,p))p.stopPropagation();else if(uc(s,p),o&4&&-1<_f.indexOf(s)){for(;g!==null;){var E=xl(g);if(E!==null&&sc(E),E=Fo(s,o,u,p),E===null&&Nf(s,o,p,Qs,u),E===g)break;g=E}g!==null&&p.stopPropagation()}else Nf(s,o,p,null,u)}}var Qs=null;function Fo(s,o,u,p){if(Qs=null,s=pt(p),s=Js(s),s!==null)if(o=vr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=zs(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Qs=s,null}function dl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case Hs:return 1;case $i:return 4;case rr:case al:return 16;case tc:return 536870912;default:return 16}default:return 16}}var qn=null,Uo=null,Nn=null;function hl(){if(Nn)return Nn;var s,o=Uo,u=o.length,p,g="value"in qn?qn.value:qn.textContent,E=g.length;for(s=0;s<u&&o[s]===g[s];s++);var b=u-s;for(p=1;p<=b&&o[u-p]===g[E-p];p++);return Nn=g.slice(s,1<p?1-p:void 0)}function Bo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Hr(){return!0}function fl(){return!1}function ln(s){function o(u,p,g,E,b){this._reactName=u,this._targetInst=g,this.type=p,this.nativeEvent=E,this.target=b,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(u=s[U],this[U]=u?u(E):E[U]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Hr:fl,this.isPropagationStopped=fl,this}return ne(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),o}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=ln(xr),Wr=ne({},xr,{view:0,detail:0}),Tf=ln(Wr),zo,pi,Yi,Ys=ne({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yi&&(Yi&&s.type==="mousemove"?(zo=s.screenX-Yi.screenX,pi=s.screenY-Yi.screenY):pi=zo=0,Yi=s),zo)},movementY:function(s){return"movementY"in s?s.movementY:pi}}),Ho=ln(Ys),pl=ne({},Ys,{dataTransfer:0}),hc=ln(pl),Wo=ne({},Wr,{relatedTarget:0}),qo=ln(Wo),fc=ne({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),mi=ln(fc),pc=ne({},xr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mc=ln(pc),gc=ne({},xr,{data:0}),ml=ln(gc),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=yc[s])?!!o[s]:!1}function qr(){return vc}var h=ne({},Wr,{key:function(s){if(s.key){var o=Ko[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Bo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?In[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(s){return s.type==="keypress"?Bo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=ln(h),S=ne({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=ln(S),K=ne({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),ee=ln(K),ge=ne({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yt=ln(ge),qt=ne({},Ys,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),it=ln(qt),Zt=[9,13,27,32],Ut=c&&"CompositionEvent"in window,sr=null;c&&"documentMode"in document&&(sr=document.documentMode);var Kn=c&&"TextEvent"in window&&!sr,Xs=c&&(!Ut||sr&&8<sr&&11>=sr),Go=" ",nv=!1;function rv(s,o){switch(s){case"keyup":return Zt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qo=!1;function fb(s,o){switch(s){case"compositionend":return iv(o);case"keypress":return o.which!==32?null:(nv=!0,Go);case"textInput":return s=o.data,s===Go&&nv?null:s;default:return null}}function pb(s,o){if(Qo)return s==="compositionend"||!Ut&&rv(s,o)?(s=hl(),Nn=Uo=qn=null,Qo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xs&&o.locale!=="ko"?null:o.data;default:return null}}var mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!mb[s.type]:o==="textarea"}function ov(s,o,u,p){on(p),o=Sc(o,"onChange"),0<o.length&&(u=new $o("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var gl=null,yl=null;function gb(s){xv(s,0)}function _c(s){var o=ea(s);if(Wt(o))return s}function yb(s,o){if(s==="change")return o}var av=!1;if(c){var Sf;if(c){var xf="oninput"in document;if(!xf){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),xf=typeof lv.oninput=="function"}Sf=xf}else Sf=!1;av=Sf&&(!document.documentMode||9<document.documentMode)}function uv(){gl&&(gl.detachEvent("onpropertychange",cv),yl=gl=null)}function cv(s){if(s.propertyName==="value"&&_c(yl)){var o=[];ov(o,yl,s,pt(s)),rl(gb,o)}}function vb(s,o,u){s==="focusin"?(uv(),gl=o,yl=u,gl.attachEvent("onpropertychange",cv)):s==="focusout"&&uv()}function _b(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _c(yl)}function wb(s,o){if(s==="click")return _c(o)}function Eb(s,o){if(s==="input"||s==="change")return _c(o)}function Tb(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ir=typeof Object.is=="function"?Object.is:Tb;function vl(s,o){if(Ir(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var g=u[p];if(!d.call(o,g)||!Ir(s[g],o[g]))return!1}return!0}function dv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hv(s,o){var u=dv(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=dv(u)}}function fv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?fv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function pv(){for(var s=window,o=Rt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Rt(s.document)}return o}function If(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Sb(s){var o=pv(),u=s.focusedElem,p=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&fv(u.ownerDocument.documentElement,u)){if(p!==null&&If(u)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,E=Math.min(p.start,g);p=p.end===void 0?E:Math.min(p.end,g),!s.extend&&E>p&&(g=p,p=E,E=g),g=hv(u,E);var b=hv(u,p);g&&b&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),E>p?(s.addRange(o),s.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var xb=c&&"documentMode"in document&&11>=document.documentMode,Yo=null,bf=null,_l=null,Cf=!1;function mv(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cf||Yo==null||Yo!==Rt(p)||(p=Yo,"selectionStart"in p&&If(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),_l&&vl(_l,p)||(_l=p,p=Sc(bf,"onSelect"),0<p.length&&(o=new $o("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=Yo)))}function wc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Xo={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},Pf={},gv={};c&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Ec(s){if(Pf[s])return Pf[s];if(!Xo[s])return s;var o=Xo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in gv)return Pf[s]=o[u];return s}var yv=Ec("animationend"),vv=Ec("animationiteration"),_v=Ec("animationstart"),wv=Ec("transitionend"),Ev=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(s,o){Ev.set(s,o),a(o,[s])}for(var Af=0;Af<Tv.length;Af++){var Rf=Tv[Af],Ib=Rf.toLowerCase(),bb=Rf[0].toUpperCase()+Rf.slice(1);Xi(Ib,"on"+bb)}Xi(yv,"onAnimationEnd"),Xi(vv,"onAnimationIteration"),Xi(_v,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(wv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Sv(s,o,u){var p=s.type||"unknown-event";s.currentTarget=u,Xu(p,o,void 0,s),s.currentTarget=null}function xv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],g=p.event;p=p.listeners;e:{var E=void 0;if(o)for(var b=p.length-1;0<=b;b--){var U=p[b],H=U.instance,J=U.currentTarget;if(U=U.listener,H!==E&&g.isPropagationStopped())break e;Sv(g,U,J),E=H}else for(b=0;b<p.length;b++){if(U=p[b],H=U.instance,J=U.currentTarget,U=U.listener,H!==E&&g.isPropagationStopped())break e;Sv(g,U,J),E=H}}}if(yr)throw s=il,yr=!1,il=null,s}function xt(s,o){var u=o[Mf];u===void 0&&(u=o[Mf]=new Set);var p=s+"__bubble";u.has(p)||(Iv(o,s,2,!1),u.add(p))}function kf(s,o,u){var p=0;o&&(p|=4),Iv(u,s,p,o)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function El(s){if(!s[Tc]){s[Tc]=!0,r.forEach(function(u){u!=="selectionchange"&&(Cb.has(u)||kf(u,!1,s),kf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Tc]||(o[Tc]=!0,kf("selectionchange",!1,o))}}function Iv(s,o,u,p){switch(dl(o)){case 1:var g=Ct;break;case 4:g=Ef;break;default:g=cl}u=g.bind(null,o,u,s),g=void 0,!ko||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function Nf(s,o,u,p,g){var E=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var b=p.tag;if(b===3||b===4){var U=p.stateNode.containerInfo;if(U===g||U.nodeType===8&&U.parentNode===g)break;if(b===4)for(b=p.return;b!==null;){var H=b.tag;if((H===3||H===4)&&(H=b.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;b=b.return}for(;U!==null;){if(b=Js(U),b===null)return;if(H=b.tag,H===5||H===6){p=E=b;continue e}U=U.parentNode}}p=p.return}rl(function(){var J=E,ce=pt(u),he=[];e:{var ue=Ev.get(s);if(ue!==void 0){var we=$o,Pe=s;switch(s){case"keypress":if(Bo(u)===0)break e;case"keydown":case"keyup":we=w;break;case"focusin":Pe="focus",we=qo;break;case"focusout":Pe="blur",we=qo;break;case"beforeblur":case"afterblur":we=qo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ee;break;case yv:case vv:case _v:we=mi;break;case wv:we=yt;break;case"scroll":we=Tf;break;case"wheel":we=it;break;case"copy":case"cut":case"paste":we=mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=O}var Ae=(o&4)!==0,Mt=!Ae&&s==="scroll",G=Ae?ue!==null?ue+"Capture":null:ue;Ae=[];for(var W=J,X;W!==null;){X=W;var me=X.stateNode;if(X.tag===5&&me!==null&&(X=me,G!==null&&(me=jt(W,G),me!=null&&Ae.push(Tl(W,me,X)))),Mt)break;W=W.return}0<Ae.length&&(ue=new we(ue,Pe,null,u,ce),he.push({event:ue,listeners:Ae}))}}if((o&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",ue&&u!==dt&&(Pe=u.relatedTarget||u.fromElement)&&(Js(Pe)||Pe[gi]))break e;if((we||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,we?(Pe=u.relatedTarget||u.toElement,we=J,Pe=Pe?Js(Pe):null,Pe!==null&&(Mt=vr(Pe),Pe!==Mt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(we=null,Pe=J),we!==Pe)){if(Ae=Ho,me="onMouseLeave",G="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=O,me="onPointerLeave",G="onPointerEnter",W="pointer"),Mt=we==null?ue:ea(we),X=Pe==null?ue:ea(Pe),ue=new Ae(me,W+"leave",we,u,ce),ue.target=Mt,ue.relatedTarget=X,me=null,Js(ce)===J&&(Ae=new Ae(G,W+"enter",Pe,u,ce),Ae.target=X,Ae.relatedTarget=Mt,me=Ae),Mt=me,we&&Pe)t:{for(Ae=we,G=Pe,W=0,X=Ae;X;X=Jo(X))W++;for(X=0,me=G;me;me=Jo(me))X++;for(;0<W-X;)Ae=Jo(Ae),W--;for(;0<X-W;)G=Jo(G),X--;for(;W--;){if(Ae===G||G!==null&&Ae===G.alternate)break t;Ae=Jo(Ae),G=Jo(G)}Ae=null}else Ae=null;we!==null&&bv(he,ue,we,Ae,!1),Pe!==null&&Mt!==null&&bv(he,Mt,Pe,Ae,!0)}}e:{if(ue=J?ea(J):window,we=ue.nodeName&&ue.nodeName.toLowerCase(),we==="select"||we==="input"&&ue.type==="file")var ke=yb;else if(sv(ue))if(av)ke=Eb;else{ke=_b;var De=vb}else(we=ue.nodeName)&&we.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(ke=wb);if(ke&&(ke=ke(s,J))){ov(he,ke,u,ce);break e}De&&De(s,ue,J),s==="focusout"&&(De=ue._wrapperState)&&De.controlled&&ue.type==="number"&&Fi(ue,"number",ue.value)}switch(De=J?ea(J):window,s){case"focusin":(sv(De)||De.contentEditable==="true")&&(Yo=De,bf=J,_l=null);break;case"focusout":_l=bf=Yo=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,mv(he,u,ce);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":mv(he,u,ce)}var Ve;if(Ut)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Qo?rv(s,u)&&(Fe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Fe="onCompositionStart");Fe&&(Xs&&u.locale!=="ko"&&(Qo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Qo&&(Ve=hl()):(qn=ce,Uo="value"in qn?qn.value:qn.textContent,Qo=!0)),De=Sc(J,Fe),0<De.length&&(Fe=new ml(Fe,s,null,u,ce),he.push({event:Fe,listeners:De}),Ve?Fe.data=Ve:(Ve=iv(u),Ve!==null&&(Fe.data=Ve)))),(Ve=Kn?fb(s,u):pb(s,u))&&(J=Sc(J,"onBeforeInput"),0<J.length&&(ce=new ml("onBeforeInput","beforeinput",null,u,ce),he.push({event:ce,listeners:J}),ce.data=Ve))}xv(he,o)})}function Tl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Sc(s,o){for(var u=o+"Capture",p=[];s!==null;){var g=s,E=g.stateNode;g.tag===5&&E!==null&&(g=E,E=jt(s,u),E!=null&&p.unshift(Tl(s,E,g)),E=jt(s,o),E!=null&&p.push(Tl(s,E,g))),s=s.return}return p}function Jo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function bv(s,o,u,p,g){for(var E=o._reactName,b=[];u!==null&&u!==p;){var U=u,H=U.alternate,J=U.stateNode;if(H!==null&&H===p)break;U.tag===5&&J!==null&&(U=J,g?(H=jt(u,E),H!=null&&b.unshift(Tl(u,H,U))):g||(H=jt(u,E),H!=null&&b.push(Tl(u,H,U)))),u=u.return}b.length!==0&&s.push({event:o,listeners:b})}var Pb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function Cv(s){return(typeof s=="string"?s:""+s).replace(Pb,`
`).replace(Ab,"")}function xc(s,o,u){if(o=Cv(o),Cv(s)!==o&&u)throw Error(t(425))}function Ic(){}var Of=null,Df=null;function Vf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(s){return Pv.resolve(null).then(s).catch(Nb)}:Lf;function Nb(s){setTimeout(function(){throw s})}function jf(s,o){var u=o,p=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(p===0){s.removeChild(g),Sr(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=g}while(u);Sr(o)}function Ji(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Av(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Zo,Sl="__reactProps$"+Zo,gi="__reactContainer$"+Zo,Mf="__reactEvents$"+Zo,Ob="__reactListeners$"+Zo,Db="__reactHandles$"+Zo;function Js(s){var o=s[Kr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[gi]||u[Kr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Av(s);s!==null;){if(u=s[Kr])return u;s=Av(s)}return o}s=u,u=s.parentNode}return null}function xl(s){return s=s[Kr]||s[gi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function bc(s){return s[Sl]||null}var Ff=[],ta=-1;function Zi(s){return{current:s}}function It(s){0>ta||(s.current=Ff[ta],Ff[ta]=null,ta--)}function Tt(s,o){ta++,Ff[ta]=s.current,s.current=o}var es={},pn=Zi(es),On=Zi(!1),Zs=es;function na(s,o){var u=s.type.contextTypes;if(!u)return es;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var g={},E;for(E in u)g[E]=o[E];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function Dn(s){return s=s.childContextTypes,s!=null}function Cc(){It(On),It(pn)}function Rv(s,o,u){if(pn.current!==es)throw Error(t(168));Tt(pn,o),Tt(On,u)}function kv(s,o,u){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var g in p)if(!(g in o))throw Error(t(108,Ze(s)||"Unknown",g));return ne({},u,p)}function Pc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||es,Zs=pn.current,Tt(pn,s),Tt(On,On.current),!0}function Nv(s,o,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=kv(s,o,Zs),p.__reactInternalMemoizedMergedChildContext=s,It(On),It(pn),Tt(pn,s)):It(On),Tt(On,u)}var yi=null,Ac=!1,Uf=!1;function Ov(s){yi===null?yi=[s]:yi.push(s)}function Vb(s){Ac=!0,Ov(s)}function ts(){if(!Uf&&yi!==null){Uf=!0;var s=0,o=nt;try{var u=yi;for(nt=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}yi=null,Ac=!1}catch(g){throw yi!==null&&(yi=yi.slice(s+1)),Vo(Hs,ts),g}finally{nt=o,Uf=!1}}return null}var ra=[],ia=0,Rc=null,kc=0,or=[],ar=0,eo=null,vi=1,_i="";function to(s,o){ra[ia++]=kc,ra[ia++]=Rc,Rc=s,kc=o}function Dv(s,o,u){or[ar++]=vi,or[ar++]=_i,or[ar++]=eo,eo=s;var p=vi;s=_i;var g=32-xn(p)-1;p&=~(1<<g),u+=1;var E=32-xn(o)+g;if(30<E){var b=g-g%5;E=(p&(1<<b)-1).toString(32),p>>=b,g-=b,vi=1<<32-xn(o)+g|u<<g|p,_i=E+s}else vi=1<<E|u<<g|p,_i=s}function Bf(s){s.return!==null&&(to(s,1),Dv(s,1,0))}function $f(s){for(;s===Rc;)Rc=ra[--ia],ra[ia]=null,kc=ra[--ia],ra[ia]=null;for(;s===eo;)eo=or[--ar],or[ar]=null,_i=or[--ar],or[ar]=null,vi=or[--ar],or[ar]=null}var Gn=null,Qn=null,Pt=!1,br=null;function Vv(s,o){var u=dr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Lv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Gn=s,Qn=Ji(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Gn=s,Qn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=eo!==null?{id:vi,overflow:_i}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=dr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Gn=s,Qn=null,!0):!1;default:return!1}}function zf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hf(s){if(Pt){var o=Qn;if(o){var u=o;if(!Lv(s,o)){if(zf(s))throw Error(t(418));o=Ji(u.nextSibling);var p=Gn;o&&Lv(s,o)?Vv(p,u):(s.flags=s.flags&-4097|2,Pt=!1,Gn=s)}}else{if(zf(s))throw Error(t(418));s.flags=s.flags&-4097|2,Pt=!1,Gn=s}}}function jv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Gn=s}function Nc(s){if(s!==Gn)return!1;if(!Pt)return jv(s),Pt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Vf(s.type,s.memoizedProps)),o&&(o=Qn)){if(zf(s))throw Mv(),Error(t(418));for(;o;)Vv(s,o),o=Ji(o.nextSibling)}if(jv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Qn=Ji(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Qn=null}}else Qn=Gn?Ji(s.stateNode.nextSibling):null;return!0}function Mv(){for(var s=Qn;s;)s=Ji(s.nextSibling)}function sa(){Qn=Gn=null,Pt=!1}function Wf(s){br===null?br=[s]:br.push(s)}var Lb=M.ReactCurrentBatchConfig;function Il(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var g=p,E=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(b){var U=g.refs;b===null?delete U[E]:U[E]=b},o._stringRef=E,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Oc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Fv(s){var o=s._init;return o(s._payload)}function Uv(s){function o(G,W){if(s){var X=G.deletions;X===null?(G.deletions=[W],G.flags|=16):X.push(W)}}function u(G,W){if(!s)return null;for(;W!==null;)o(G,W),W=W.sibling;return null}function p(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function g(G,W){return G=us(G,W),G.index=0,G.sibling=null,G}function E(G,W,X){return G.index=X,s?(X=G.alternate,X!==null?(X=X.index,X<W?(G.flags|=2,W):X):(G.flags|=2,W)):(G.flags|=1048576,W)}function b(G){return s&&G.alternate===null&&(G.flags|=2),G}function U(G,W,X,me){return W===null||W.tag!==6?(W=Lp(X,G.mode,me),W.return=G,W):(W=g(W,X),W.return=G,W)}function H(G,W,X,me){var ke=X.type;return ke===D?ce(G,W,X.props.children,me,X.key):W!==null&&(W.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ve&&Fv(ke)===W.type)?(me=g(W,X.props),me.ref=Il(G,W,X),me.return=G,me):(me=rd(X.type,X.key,X.props,null,G.mode,me),me.ref=Il(G,W,X),me.return=G,me)}function J(G,W,X,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==X.containerInfo||W.stateNode.implementation!==X.implementation?(W=jp(X,G.mode,me),W.return=G,W):(W=g(W,X.children||[]),W.return=G,W)}function ce(G,W,X,me,ke){return W===null||W.tag!==7?(W=uo(X,G.mode,me,ke),W.return=G,W):(W=g(W,X),W.return=G,W)}function he(G,W,X){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Lp(""+W,G.mode,X),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return X=rd(W.type,W.key,W.props,null,G.mode,X),X.ref=Il(G,null,W),X.return=G,X;case Y:return W=jp(W,G.mode,X),W.return=G,W;case ve:var me=W._init;return he(G,me(W._payload),X)}if(er(W)||ae(W))return W=uo(W,G.mode,X,null),W.return=G,W;Oc(G,W)}return null}function ue(G,W,X,me){var ke=W!==null?W.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return ke!==null?null:U(G,W,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return X.key===ke?H(G,W,X,me):null;case Y:return X.key===ke?J(G,W,X,me):null;case ve:return ke=X._init,ue(G,W,ke(X._payload),me)}if(er(X)||ae(X))return ke!==null?null:ce(G,W,X,me,null);Oc(G,X)}return null}function we(G,W,X,me,ke){if(typeof me=="string"&&me!==""||typeof me=="number")return G=G.get(X)||null,U(W,G,""+me,ke);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case B:return G=G.get(me.key===null?X:me.key)||null,H(W,G,me,ke);case Y:return G=G.get(me.key===null?X:me.key)||null,J(W,G,me,ke);case ve:var De=me._init;return we(G,W,X,De(me._payload),ke)}if(er(me)||ae(me))return G=G.get(X)||null,ce(W,G,me,ke,null);Oc(W,me)}return null}function Pe(G,W,X,me){for(var ke=null,De=null,Ve=W,Fe=W=0,nn=null;Ve!==null&&Fe<X.length;Fe++){Ve.index>Fe?(nn=Ve,Ve=null):nn=Ve.sibling;var ut=ue(G,Ve,X[Fe],me);if(ut===null){Ve===null&&(Ve=nn);break}s&&Ve&&ut.alternate===null&&o(G,Ve),W=E(ut,W,Fe),De===null?ke=ut:De.sibling=ut,De=ut,Ve=nn}if(Fe===X.length)return u(G,Ve),Pt&&to(G,Fe),ke;if(Ve===null){for(;Fe<X.length;Fe++)Ve=he(G,X[Fe],me),Ve!==null&&(W=E(Ve,W,Fe),De===null?ke=Ve:De.sibling=Ve,De=Ve);return Pt&&to(G,Fe),ke}for(Ve=p(G,Ve);Fe<X.length;Fe++)nn=we(Ve,G,Fe,X[Fe],me),nn!==null&&(s&&nn.alternate!==null&&Ve.delete(nn.key===null?Fe:nn.key),W=E(nn,W,Fe),De===null?ke=nn:De.sibling=nn,De=nn);return s&&Ve.forEach(function(cs){return o(G,cs)}),Pt&&to(G,Fe),ke}function Ae(G,W,X,me){var ke=ae(X);if(typeof ke!="function")throw Error(t(150));if(X=ke.call(X),X==null)throw Error(t(151));for(var De=ke=null,Ve=W,Fe=W=0,nn=null,ut=X.next();Ve!==null&&!ut.done;Fe++,ut=X.next()){Ve.index>Fe?(nn=Ve,Ve=null):nn=Ve.sibling;var cs=ue(G,Ve,ut.value,me);if(cs===null){Ve===null&&(Ve=nn);break}s&&Ve&&cs.alternate===null&&o(G,Ve),W=E(cs,W,Fe),De===null?ke=cs:De.sibling=cs,De=cs,Ve=nn}if(ut.done)return u(G,Ve),Pt&&to(G,Fe),ke;if(Ve===null){for(;!ut.done;Fe++,ut=X.next())ut=he(G,ut.value,me),ut!==null&&(W=E(ut,W,Fe),De===null?ke=ut:De.sibling=ut,De=ut);return Pt&&to(G,Fe),ke}for(Ve=p(G,Ve);!ut.done;Fe++,ut=X.next())ut=we(Ve,G,Fe,ut.value,me),ut!==null&&(s&&ut.alternate!==null&&Ve.delete(ut.key===null?Fe:ut.key),W=E(ut,W,Fe),De===null?ke=ut:De.sibling=ut,De=ut);return s&&Ve.forEach(function(mC){return o(G,mC)}),Pt&&to(G,Fe),ke}function Mt(G,W,X,me){if(typeof X=="object"&&X!==null&&X.type===D&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case B:e:{for(var ke=X.key,De=W;De!==null;){if(De.key===ke){if(ke=X.type,ke===D){if(De.tag===7){u(G,De.sibling),W=g(De,X.props.children),W.return=G,G=W;break e}}else if(De.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ve&&Fv(ke)===De.type){u(G,De.sibling),W=g(De,X.props),W.ref=Il(G,De,X),W.return=G,G=W;break e}u(G,De);break}else o(G,De);De=De.sibling}X.type===D?(W=uo(X.props.children,G.mode,me,X.key),W.return=G,G=W):(me=rd(X.type,X.key,X.props,null,G.mode,me),me.ref=Il(G,W,X),me.return=G,G=me)}return b(G);case Y:e:{for(De=X.key;W!==null;){if(W.key===De)if(W.tag===4&&W.stateNode.containerInfo===X.containerInfo&&W.stateNode.implementation===X.implementation){u(G,W.sibling),W=g(W,X.children||[]),W.return=G,G=W;break e}else{u(G,W);break}else o(G,W);W=W.sibling}W=jp(X,G.mode,me),W.return=G,G=W}return b(G);case ve:return De=X._init,Mt(G,W,De(X._payload),me)}if(er(X))return Pe(G,W,X,me);if(ae(X))return Ae(G,W,X,me);Oc(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,W!==null&&W.tag===6?(u(G,W.sibling),W=g(W,X),W.return=G,G=W):(u(G,W),W=Lp(X,G.mode,me),W.return=G,G=W),b(G)):u(G,W)}return Mt}var oa=Uv(!0),Bv=Uv(!1),Dc=Zi(null),Vc=null,aa=null,qf=null;function Kf(){qf=aa=Vc=null}function Gf(s){var o=Dc.current;It(Dc),s._currentValue=o}function Qf(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function la(s,o){Vc=s,qf=aa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Vn=!0),s.firstContext=null)}function lr(s){var o=s._currentValue;if(qf!==s)if(s={context:s,memoizedValue:o,next:null},aa===null){if(Vc===null)throw Error(t(308));aa=s,Vc.dependencies={lanes:0,firstContext:s}}else aa=aa.next=s;return o}var no=null;function Yf(s){no===null?no=[s]:no.push(s)}function $v(s,o,u,p){var g=o.interleaved;return g===null?(u.next=u,Yf(o)):(u.next=g.next,g.next=u),o.interleaved=u,wi(s,p)}function wi(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ns=!1;function Xf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ei(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function rs(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(ot&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,wi(s,u)}return g=p.interleaved,g===null?(o.next=o,Yf(p)):(o.next=g.next,g.next=o),p.interleaved=o,wi(s,u)}function Lc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,qi(s,u)}}function Hv(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var g=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?g=E=b:E=E.next=b,u=u.next}while(u!==null);E===null?g=E=o:E=E.next=o}else g=E=o;u={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function jc(s,o,u,p){var g=s.updateQueue;ns=!1;var E=g.firstBaseUpdate,b=g.lastBaseUpdate,U=g.shared.pending;if(U!==null){g.shared.pending=null;var H=U,J=H.next;H.next=null,b===null?E=J:b.next=J,b=H;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==b&&(U===null?ce.firstBaseUpdate=J:U.next=J,ce.lastBaseUpdate=H))}if(E!==null){var he=g.baseState;b=0,ce=J=H=null,U=E;do{var ue=U.lane,we=U.eventTime;if((p&ue)===ue){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Pe=s,Ae=U;switch(ue=o,we=u,Ae.tag){case 1:if(Pe=Ae.payload,typeof Pe=="function"){he=Pe.call(we,he,ue);break e}he=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ae.payload,ue=typeof Pe=="function"?Pe.call(we,he,ue):Pe,ue==null)break e;he=ne({},he,ue);break e;case 2:ns=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,ue=g.effects,ue===null?g.effects=[U]:ue.push(U))}else we={eventTime:we,lane:ue,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(J=ce=we,H=he):ce=ce.next=we,b|=ue;if(U=U.next,U===null){if(U=g.shared.pending,U===null)break;ue=U,U=ue.next,ue.next=null,g.lastBaseUpdate=ue,g.shared.pending=null}}while(!0);if(ce===null&&(H=he),g.baseState=H,g.firstBaseUpdate=J,g.lastBaseUpdate=ce,o=g.shared.interleaved,o!==null){g=o;do b|=g.lane,g=g.next;while(g!==o)}else E===null&&(g.shared.lanes=0);so|=b,s.lanes=b,s.memoizedState=he}}function Wv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],g=p.callback;if(g!==null){if(p.callback=null,p=u,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var bl={},Gr=Zi(bl),Cl=Zi(bl),Pl=Zi(bl);function ro(s){if(s===bl)throw Error(t(174));return s}function Jf(s,o){switch(Tt(Pl,o),Tt(Cl,s),Tt(Gr,bl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:se(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=se(o,s)}It(Gr),Tt(Gr,o)}function ua(){It(Gr),It(Cl),It(Pl)}function qv(s){ro(Pl.current);var o=ro(Gr.current),u=se(o,s.type);o!==u&&(Tt(Cl,s),Tt(Gr,u))}function Zf(s){Cl.current===s&&(It(Gr),It(Cl))}var Nt=Zi(0);function Mc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ep=[];function tp(){for(var s=0;s<ep.length;s++)ep[s]._workInProgressVersionPrimary=null;ep.length=0}var Fc=M.ReactCurrentDispatcher,np=M.ReactCurrentBatchConfig,io=0,Ot=null,Kt=null,en=null,Uc=!1,Al=!1,Rl=0,jb=0;function mn(){throw Error(t(321))}function rp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Ir(s[u],o[u]))return!1;return!0}function ip(s,o,u,p,g,E){if(io=E,Ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fc.current=s===null||s.memoizedState===null?Bb:$b,s=u(p,g),Al){E=0;do{if(Al=!1,Rl=0,25<=E)throw Error(t(301));E+=1,en=Kt=null,o.updateQueue=null,Fc.current=zb,s=u(p,g)}while(Al)}if(Fc.current=zc,o=Kt!==null&&Kt.next!==null,io=0,en=Kt=Ot=null,Uc=!1,o)throw Error(t(300));return s}function sp(){var s=Rl!==0;return Rl=0,s}function Qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ot.memoizedState=en=s:en=en.next=s,en}function ur(){if(Kt===null){var s=Ot.alternate;s=s!==null?s.memoizedState:null}else s=Kt.next;var o=en===null?Ot.memoizedState:en.next;if(o!==null)en=o,Kt=s;else{if(s===null)throw Error(t(310));Kt=s,s={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?Ot.memoizedState=en=s:en=en.next=s}return en}function kl(s,o){return typeof o=="function"?o(s):o}function op(s){var o=ur(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=Kt,g=p.baseQueue,E=u.pending;if(E!==null){if(g!==null){var b=g.next;g.next=E.next,E.next=b}p.baseQueue=g=E,u.pending=null}if(g!==null){E=g.next,p=p.baseState;var U=b=null,H=null,J=E;do{var ce=J.lane;if((io&ce)===ce)H!==null&&(H=H.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),p=J.hasEagerState?J.eagerState:s(p,J.action);else{var he={lane:ce,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};H===null?(U=H=he,b=p):H=H.next=he,Ot.lanes|=ce,so|=ce}J=J.next}while(J!==null&&J!==E);H===null?b=p:H.next=U,Ir(p,o.memoizedState)||(Vn=!0),o.memoizedState=p,o.baseState=b,o.baseQueue=H,u.lastRenderedState=p}if(s=u.interleaved,s!==null){g=s;do E=g.lane,Ot.lanes|=E,so|=E,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function ap(s){var o=ur(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,g=u.pending,E=o.memoizedState;if(g!==null){u.pending=null;var b=g=g.next;do E=s(E,b.action),b=b.next;while(b!==g);Ir(E,o.memoizedState)||(Vn=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),u.lastRenderedState=E}return[E,p]}function Kv(){}function Gv(s,o){var u=Ot,p=ur(),g=o(),E=!Ir(p.memoizedState,g);if(E&&(p.memoizedState=g,Vn=!0),p=p.queue,lp(Xv.bind(null,u,p,s),[s]),p.getSnapshot!==o||E||en!==null&&en.memoizedState.tag&1){if(u.flags|=2048,Nl(9,Yv.bind(null,u,p,g,o),void 0,null),tn===null)throw Error(t(349));(io&30)!==0||Qv(u,o,g)}return g}function Qv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Ot.updateQueue,o===null?(o={lastEffect:null,stores:null},Ot.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Yv(s,o,u,p){o.value=u,o.getSnapshot=p,Jv(o)&&Zv(s)}function Xv(s,o,u){return u(function(){Jv(o)&&Zv(s)})}function Jv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Ir(s,u)}catch{return!0}}function Zv(s){var o=wi(s,1);o!==null&&Rr(o,s,1,-1)}function e0(s){var o=Qr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:s},o.queue=s,s=s.dispatch=Ub.bind(null,Ot,s),[o.memoizedState,s]}function Nl(s,o,u,p){return s={tag:s,create:o,destroy:u,deps:p,next:null},o=Ot.updateQueue,o===null?(o={lastEffect:null,stores:null},Ot.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s)),s}function t0(){return ur().memoizedState}function Bc(s,o,u,p){var g=Qr();Ot.flags|=s,g.memoizedState=Nl(1|o,u,void 0,p===void 0?null:p)}function $c(s,o,u,p){var g=ur();p=p===void 0?null:p;var E=void 0;if(Kt!==null){var b=Kt.memoizedState;if(E=b.destroy,p!==null&&rp(p,b.deps)){g.memoizedState=Nl(o,u,E,p);return}}Ot.flags|=s,g.memoizedState=Nl(1|o,u,E,p)}function n0(s,o){return Bc(8390656,8,s,o)}function lp(s,o){return $c(2048,8,s,o)}function r0(s,o){return $c(4,2,s,o)}function i0(s,o){return $c(4,4,s,o)}function s0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function o0(s,o,u){return u=u!=null?u.concat([s]):null,$c(4,4,s0.bind(null,o,s),u)}function up(){}function a0(s,o){var u=ur();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&rp(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function l0(s,o){var u=ur();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&rp(o,p[1])?p[0]:(s=s(),u.memoizedState=[s,o],s)}function u0(s,o,u){return(io&21)===0?(s.baseState&&(s.baseState=!1,Vn=!0),s.memoizedState=u):(Ir(u,o)||(u=Ks(),Ot.lanes|=u,so|=u,s.baseState=!0),o)}function Mb(s,o){var u=nt;nt=u!==0&&4>u?u:4,s(!0);var p=np.transition;np.transition={};try{s(!1),o()}finally{nt=u,np.transition=p}}function c0(){return ur().memoizedState}function Fb(s,o,u){var p=as(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},d0(s))h0(o,u);else if(u=$v(s,o,u,p),u!==null){var g=Cn();Rr(u,s,p,g),f0(u,o,p)}}function Ub(s,o,u){var p=as(s),g={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(d0(s))h0(o,g);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var b=o.lastRenderedState,U=E(b,u);if(g.hasEagerState=!0,g.eagerState=U,Ir(U,b)){var H=o.interleaved;H===null?(g.next=g,Yf(o)):(g.next=H.next,H.next=g),o.interleaved=g;return}}catch{}finally{}u=$v(s,o,g,p),u!==null&&(g=Cn(),Rr(u,s,p,g),f0(u,o,p))}}function d0(s){var o=s.alternate;return s===Ot||o!==null&&o===Ot}function h0(s,o){Al=Uc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function f0(s,o,u){if((u&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,qi(s,u)}}var zc={readContext:lr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},Bb={readContext:lr,useCallback:function(s,o){return Qr().memoizedState=[s,o===void 0?null:o],s},useContext:lr,useEffect:n0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Bc(4194308,4,s0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Bc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Bc(4,2,s,o)},useMemo:function(s,o){var u=Qr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var p=Qr();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=Fb.bind(null,Ot,s),[p.memoizedState,s]},useRef:function(s){var o=Qr();return s={current:s},o.memoizedState=s},useState:e0,useDebugValue:up,useDeferredValue:function(s){return Qr().memoizedState=s},useTransition:function(){var s=e0(!1),o=s[0];return s=Mb.bind(null,s[1]),Qr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var p=Ot,g=Qr();if(Pt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),tn===null)throw Error(t(349));(io&30)!==0||Qv(p,o,u)}g.memoizedState=u;var E={value:u,getSnapshot:o};return g.queue=E,n0(Xv.bind(null,p,E,s),[s]),p.flags|=2048,Nl(9,Yv.bind(null,p,E,u,o),void 0,null),u},useId:function(){var s=Qr(),o=tn.identifierPrefix;if(Pt){var u=_i,p=vi;u=(p&~(1<<32-xn(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=Rl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=jb++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},$b={readContext:lr,useCallback:a0,useContext:lr,useEffect:lp,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:op,useRef:t0,useState:function(){return op(kl)},useDebugValue:up,useDeferredValue:function(s){var o=ur();return u0(o,Kt.memoizedState,s)},useTransition:function(){var s=op(kl)[0],o=ur().memoizedState;return[s,o]},useMutableSource:Kv,useSyncExternalStore:Gv,useId:c0,unstable_isNewReconciler:!1},zb={readContext:lr,useCallback:a0,useContext:lr,useEffect:lp,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:ap,useRef:t0,useState:function(){return ap(kl)},useDebugValue:up,useDeferredValue:function(s){var o=ur();return Kt===null?o.memoizedState=s:u0(o,Kt.memoizedState,s)},useTransition:function(){var s=ap(kl)[0],o=ur().memoizedState;return[s,o]},useMutableSource:Kv,useSyncExternalStore:Gv,useId:c0,unstable_isNewReconciler:!1};function Cr(s,o){if(s&&s.defaultProps){o=ne({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function cp(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:ne({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Hc={isMounted:function(s){return(s=s._reactInternals)?vr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var p=Cn(),g=as(s),E=Ei(p,g);E.payload=o,u!=null&&(E.callback=u),o=rs(s,E,g),o!==null&&(Rr(o,s,g,p),Lc(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=Cn(),g=as(s),E=Ei(p,g);E.tag=1,E.payload=o,u!=null&&(E.callback=u),o=rs(s,E,g),o!==null&&(Rr(o,s,g,p),Lc(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Cn(),p=as(s),g=Ei(u,p);g.tag=2,o!=null&&(g.callback=o),o=rs(s,g,p),o!==null&&(Rr(o,s,p,u),Lc(o,s,p))}};function p0(s,o,u,p,g,E,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,b):o.prototype&&o.prototype.isPureReactComponent?!vl(u,p)||!vl(g,E):!0}function m0(s,o,u){var p=!1,g=es,E=o.contextType;return typeof E=="object"&&E!==null?E=lr(E):(g=Dn(o)?Zs:pn.current,p=o.contextTypes,E=(p=p!=null)?na(s,g):es),o=new o(u,E),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Hc,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=E),o}function g0(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&Hc.enqueueReplaceState(o,o.state,null)}function dp(s,o,u,p){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Xf(s);var E=o.contextType;typeof E=="object"&&E!==null?g.context=lr(E):(E=Dn(o)?Zs:pn.current,g.context=na(s,E)),g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(cp(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Hc.enqueueReplaceState(g,g.state,null),jc(s,u,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ca(s,o){try{var u="",p=o;do u+=Ne(p),p=p.return;while(p);var g=u}catch(E){g=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:o,stack:g,digest:null}}function hp(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function fp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Hb=typeof WeakMap=="function"?WeakMap:Map;function y0(s,o,u){u=Ei(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){Xc||(Xc=!0,Pp=p),fp(s,o)},u}function v0(s,o,u){u=Ei(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=o.value;u.payload=function(){return p(g)},u.callback=function(){fp(s,o)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){fp(s,o),typeof p!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),u}function _0(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new Hb;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(u)||(g.add(u),s=iC.bind(null,s,o,u),o.then(s,s))}function w0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function E0(s,o,u,p,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Ei(-1,1),o.tag=2,rs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var Wb=M.ReactCurrentOwner,Vn=!1;function bn(s,o,u,p){o.child=s===null?Bv(o,null,u,p):oa(o,s.child,u,p)}function T0(s,o,u,p,g){u=u.render;var E=o.ref;return la(o,g),p=ip(s,o,u,p,E,g),u=sp(),s!==null&&!Vn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ti(s,o,g)):(Pt&&u&&Bf(o),o.flags|=1,bn(s,o,p,g),o.child)}function S0(s,o,u,p,g){if(s===null){var E=u.type;return typeof E=="function"&&!Vp(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=E,x0(s,o,E,p,g)):(s=rd(u.type,null,p,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(E=s.child,(s.lanes&g)===0){var b=E.memoizedProps;if(u=u.compare,u=u!==null?u:vl,u(b,p)&&s.ref===o.ref)return Ti(s,o,g)}return o.flags|=1,s=us(E,p),s.ref=o.ref,s.return=o,o.child=s}function x0(s,o,u,p,g){if(s!==null){var E=s.memoizedProps;if(vl(E,p)&&s.ref===o.ref)if(Vn=!1,o.pendingProps=p=E,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Vn=!0);else return o.lanes=s.lanes,Ti(s,o,g)}return pp(s,o,u,p,g)}function I0(s,o,u){var p=o.pendingProps,g=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(ha,Yn),Yn|=u;else{if((u&1073741824)===0)return s=E!==null?E.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Tt(ha,Yn),Yn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:u,Tt(ha,Yn),Yn|=p}else E!==null?(p=E.baseLanes|u,o.memoizedState=null):p=u,Tt(ha,Yn),Yn|=p;return bn(s,o,g,u),o.child}function b0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function pp(s,o,u,p,g){var E=Dn(u)?Zs:pn.current;return E=na(o,E),la(o,g),u=ip(s,o,u,p,E,g),p=sp(),s!==null&&!Vn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ti(s,o,g)):(Pt&&p&&Bf(o),o.flags|=1,bn(s,o,u,g),o.child)}function C0(s,o,u,p,g){if(Dn(u)){var E=!0;Pc(o)}else E=!1;if(la(o,g),o.stateNode===null)qc(s,o),m0(o,u,p),dp(o,u,p,g),p=!0;else if(s===null){var b=o.stateNode,U=o.memoizedProps;b.props=U;var H=b.context,J=u.contextType;typeof J=="object"&&J!==null?J=lr(J):(J=Dn(u)?Zs:pn.current,J=na(o,J));var ce=u.getDerivedStateFromProps,he=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function";he||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U!==p||H!==J)&&g0(o,b,p,J),ns=!1;var ue=o.memoizedState;b.state=ue,jc(o,p,b,g),H=o.memoizedState,U!==p||ue!==H||On.current||ns?(typeof ce=="function"&&(cp(o,u,ce,p),H=o.memoizedState),(U=ns||p0(o,u,U,p,ue,H,J))?(he||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=H),b.props=p,b.state=H,b.context=J,p=U):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{b=o.stateNode,zv(s,o),U=o.memoizedProps,J=o.type===o.elementType?U:Cr(o.type,U),b.props=J,he=o.pendingProps,ue=b.context,H=u.contextType,typeof H=="object"&&H!==null?H=lr(H):(H=Dn(u)?Zs:pn.current,H=na(o,H));var we=u.getDerivedStateFromProps;(ce=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U!==he||ue!==H)&&g0(o,b,p,H),ns=!1,ue=o.memoizedState,b.state=ue,jc(o,p,b,g);var Pe=o.memoizedState;U!==he||ue!==Pe||On.current||ns?(typeof we=="function"&&(cp(o,u,we,p),Pe=o.memoizedState),(J=ns||p0(o,u,J,p,ue,Pe,H)||!1)?(ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,Pe,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,Pe,H)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||U===s.memoizedProps&&ue===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&ue===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Pe),b.props=p,b.state=Pe,b.context=H,p=J):(typeof b.componentDidUpdate!="function"||U===s.memoizedProps&&ue===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&ue===s.memoizedState||(o.flags|=1024),p=!1)}return mp(s,o,u,p,E,g)}function mp(s,o,u,p,g,E){b0(s,o);var b=(o.flags&128)!==0;if(!p&&!b)return g&&Nv(o,u,!1),Ti(s,o,E);p=o.stateNode,Wb.current=o;var U=b&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&b?(o.child=oa(o,s.child,null,E),o.child=oa(o,null,U,E)):bn(s,o,U,E),o.memoizedState=p.state,g&&Nv(o,u,!0),o.child}function P0(s){var o=s.stateNode;o.pendingContext?Rv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Rv(s,o.context,!1),Jf(s,o.containerInfo)}function A0(s,o,u,p,g){return sa(),Wf(g),o.flags|=256,bn(s,o,u,p),o.child}var gp={dehydrated:null,treeContext:null,retryLane:0};function yp(s){return{baseLanes:s,cachePool:null,transitions:null}}function R0(s,o,u){var p=o.pendingProps,g=Nt.current,E=!1,b=(o.flags&128)!==0,U;if((U=b)||(U=s!==null&&s.memoizedState===null?!1:(g&2)!==0),U?(E=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Tt(Nt,g&1),s===null)return Hf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(b=p.children,s=p.fallback,E?(p=o.mode,E=o.child,b={mode:"hidden",children:b},(p&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=b):E=id(b,p,0,null),s=uo(s,p,u,null),E.return=o,s.return=o,E.sibling=s,o.child=E,o.child.memoizedState=yp(u),o.memoizedState=gp,s):vp(o,b));if(g=s.memoizedState,g!==null&&(U=g.dehydrated,U!==null))return qb(s,o,b,p,U,g,u);if(E){E=p.fallback,b=o.mode,g=s.child,U=g.sibling;var H={mode:"hidden",children:p.children};return(b&1)===0&&o.child!==g?(p=o.child,p.childLanes=0,p.pendingProps=H,o.deletions=null):(p=us(g,H),p.subtreeFlags=g.subtreeFlags&14680064),U!==null?E=us(U,E):(E=uo(E,b,u,null),E.flags|=2),E.return=o,p.return=o,p.sibling=E,o.child=p,p=E,E=o.child,b=s.child.memoizedState,b=b===null?yp(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},E.memoizedState=b,E.childLanes=s.childLanes&~u,o.memoizedState=gp,p}return E=s.child,s=E.sibling,p=us(E,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=p,o.memoizedState=null,p}function vp(s,o){return o=id({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Wc(s,o,u,p){return p!==null&&Wf(p),oa(o,s.child,null,u),s=vp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function qb(s,o,u,p,g,E,b){if(u)return o.flags&256?(o.flags&=-257,p=hp(Error(t(422))),Wc(s,o,b,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(E=p.fallback,g=o.mode,p=id({mode:"visible",children:p.children},g,0,null),E=uo(E,g,b,null),E.flags|=2,p.return=o,E.return=o,p.sibling=E,o.child=p,(o.mode&1)!==0&&oa(o,s.child,null,b),o.child.memoizedState=yp(b),o.memoizedState=gp,E);if((o.mode&1)===0)return Wc(s,o,b,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var U=p.dgst;return p=U,E=Error(t(419)),p=hp(E,p,void 0),Wc(s,o,b,p)}if(U=(b&s.childLanes)!==0,Vn||U){if(p=tn,p!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|b))!==0?0:g,g!==0&&g!==E.retryLane&&(E.retryLane=g,wi(s,g),Rr(p,s,g,-1))}return Dp(),p=hp(Error(t(421))),Wc(s,o,b,p)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=sC.bind(null,s),g._reactRetry=o,null):(s=E.treeContext,Qn=Ji(g.nextSibling),Gn=o,Pt=!0,br=null,s!==null&&(or[ar++]=vi,or[ar++]=_i,or[ar++]=eo,vi=s.id,_i=s.overflow,eo=o),o=vp(o,p.children),o.flags|=4096,o)}function k0(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Qf(s.return,o,u)}function _p(s,o,u,p,g){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:g}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=u,E.tailMode=g)}function N0(s,o,u){var p=o.pendingProps,g=p.revealOrder,E=p.tail;if(bn(s,o,p.children,u),p=Nt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&k0(s,u,o);else if(s.tag===19)k0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Tt(Nt,p),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&Mc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),_p(o,!1,g,u,E);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Mc(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}_p(o,!0,u,null,E);break;case"together":_p(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ti(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),so|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=us(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=us(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Kb(s,o,u){switch(o.tag){case 3:P0(o),sa();break;case 5:qv(o);break;case 1:Dn(o.type)&&Pc(o);break;case 4:Jf(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,g=o.memoizedProps.value;Tt(Dc,p._currentValue),p._currentValue=g;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Tt(Nt,Nt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?R0(s,o,u):(Tt(Nt,Nt.current&1),s=Ti(s,o,u),s!==null?s.sibling:null);Tt(Nt,Nt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(s.flags&128)!==0){if(p)return N0(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Tt(Nt,Nt.current),p)break;return null;case 22:case 23:return o.lanes=0,I0(s,o,u)}return Ti(s,o,u)}var O0,wp,D0,V0;O0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},wp=function(){},D0=function(s,o,u,p){var g=s.memoizedProps;if(g!==p){s=o.stateNode,ro(Gr.current);var E=null;switch(u){case"input":g=li(s,g),p=li(s,p),E=[];break;case"select":g=ne({},g,{value:void 0}),p=ne({},p,{value:void 0}),E=[];break;case"textarea":g=Ur(s,g),p=Ur(s,p),E=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Ic)}_e(u,p);var b;u=null;for(J in g)if(!p.hasOwnProperty(J)&&g.hasOwnProperty(J)&&g[J]!=null)if(J==="style"){var U=g[J];for(b in U)U.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?E||(E=[]):(E=E||[]).push(J,null));for(J in p){var H=p[J];if(U=g!=null?g[J]:void 0,p.hasOwnProperty(J)&&H!==U&&(H!=null||U!=null))if(J==="style")if(U){for(b in U)!U.hasOwnProperty(b)||H&&H.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in H)H.hasOwnProperty(b)&&U[b]!==H[b]&&(u||(u={}),u[b]=H[b])}else u||(E||(E=[]),E.push(J,u)),u=H;else J==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,U=U?U.__html:void 0,H!=null&&U!==H&&(E=E||[]).push(J,H)):J==="children"?typeof H!="string"&&typeof H!="number"||(E=E||[]).push(J,""+H):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(H!=null&&J==="onScroll"&&xt("scroll",s),E||U===H||(E=[])):(E=E||[]).push(J,H))}u&&(E=E||[]).push("style",u);var J=E;(o.updateQueue=J)&&(o.flags|=4)}},V0=function(s,o,u,p){u!==p&&(o.flags|=4)};function Ol(s,o){if(!Pt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function gn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function Gb(s,o,u){var p=o.pendingProps;switch($f(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(o),null;case 1:return Dn(o.type)&&Cc(),gn(o),null;case 3:return p=o.stateNode,ua(),It(On),It(pn),tp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Nc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,br!==null&&(kp(br),br=null))),wp(s,o),gn(o),null;case 5:Zf(o);var g=ro(Pl.current);if(u=o.type,s!==null&&o.stateNode!=null)D0(s,o,u,p,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return gn(o),null}if(s=ro(Gr.current),Nc(o)){p=o.stateNode,u=o.type;var E=o.memoizedProps;switch(p[Kr]=o,p[Sl]=E,s=(o.mode&1)!==0,u){case"dialog":xt("cancel",p),xt("close",p);break;case"iframe":case"object":case"embed":xt("load",p);break;case"video":case"audio":for(g=0;g<wl.length;g++)xt(wl[g],p);break;case"source":xt("error",p);break;case"img":case"image":case"link":xt("error",p),xt("load",p);break;case"details":xt("toggle",p);break;case"input":ui(p,E),xt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},xt("invalid",p);break;case"textarea":Br(p,E),xt("invalid",p)}_e(u,E),g=null;for(var b in E)if(E.hasOwnProperty(b)){var U=E[b];b==="children"?typeof U=="string"?p.textContent!==U&&(E.suppressHydrationWarning!==!0&&xc(p.textContent,U,s),g=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(E.suppressHydrationWarning!==!0&&xc(p.textContent,U,s),g=["children",""+U]):i.hasOwnProperty(b)&&U!=null&&b==="onScroll"&&xt("scroll",p)}switch(u){case"input":_t(p),ci(p,E,!0);break;case"textarea":_t(p),le(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=Ic)}p=g,o.updateQueue=p,p!==null&&(o.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=q(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=b.createElement(u,{is:p.is}):(s=b.createElement(u),u==="select"&&(b=s,p.multiple?b.multiple=!0:p.size&&(b.size=p.size))):s=b.createElementNS(s,u),s[Kr]=o,s[Sl]=p,O0(s,o,!1,!1),o.stateNode=s;e:{switch(b=qe(u,p),u){case"dialog":xt("cancel",s),xt("close",s),g=p;break;case"iframe":case"object":case"embed":xt("load",s),g=p;break;case"video":case"audio":for(g=0;g<wl.length;g++)xt(wl[g],s);g=p;break;case"source":xt("error",s),g=p;break;case"img":case"image":case"link":xt("error",s),xt("load",s),g=p;break;case"details":xt("toggle",s),g=p;break;case"input":ui(s,p),g=li(s,p),xt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=ne({},p,{value:void 0}),xt("invalid",s);break;case"textarea":Br(s,p),g=Ur(s,p),xt("invalid",s);break;default:g=p}_e(u,g),U=g;for(E in U)if(U.hasOwnProperty(E)){var H=U[E];E==="style"?be(s,H):E==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&ze(s,H)):E==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&Ue(s,H):typeof H=="number"&&Ue(s,""+H):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?H!=null&&E==="onScroll"&&xt("scroll",s):H!=null&&N(s,E,H,b))}switch(u){case"input":_t(s),ci(s,p,!1);break;case"textarea":_t(s),le(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Ge(p.value));break;case"select":s.multiple=!!p.multiple,E=p.value,E!=null?$n(s,!!p.multiple,E,!1):p.defaultValue!=null&&$n(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Ic)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return gn(o),null;case 6:if(s&&o.stateNode!=null)V0(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(u=ro(Pl.current),ro(Gr.current),Nc(o)){if(p=o.stateNode,u=o.memoizedProps,p[Kr]=o,(E=p.nodeValue!==u)&&(s=Gn,s!==null))switch(s.tag){case 3:xc(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&xc(p.nodeValue,u,(s.mode&1)!==0)}E&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Kr]=o,o.stateNode=p}return gn(o),null;case 13:if(It(Nt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Pt&&Qn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Mv(),sa(),o.flags|=98560,E=!1;else if(E=Nc(o),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(t(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Kr]=o}else sa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;gn(o),E=!1}else br!==null&&(kp(br),br=null),E=!0;if(!E)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Nt.current&1)!==0?Gt===0&&(Gt=3):Dp())),o.updateQueue!==null&&(o.flags|=4),gn(o),null);case 4:return ua(),wp(s,o),s===null&&El(o.stateNode.containerInfo),gn(o),null;case 10:return Gf(o.type._context),gn(o),null;case 17:return Dn(o.type)&&Cc(),gn(o),null;case 19:if(It(Nt),E=o.memoizedState,E===null)return gn(o),null;if(p=(o.flags&128)!==0,b=E.rendering,b===null)if(p)Ol(E,!1);else{if(Gt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=Mc(s),b!==null){for(o.flags|=128,Ol(E,!1),p=b.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)E=u,s=p,E.flags&=14680066,b=E.alternate,b===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=b.childLanes,E.lanes=b.lanes,E.child=b.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=b.memoizedProps,E.memoizedState=b.memoizedState,E.updateQueue=b.updateQueue,E.type=b.type,s=b.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Tt(Nt,Nt.current&1|2),o.child}s=s.sibling}E.tail!==null&&Et()>fa&&(o.flags|=128,p=!0,Ol(E,!1),o.lanes=4194304)}else{if(!p)if(s=Mc(b),s!==null){if(o.flags|=128,p=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ol(E,!0),E.tail===null&&E.tailMode==="hidden"&&!b.alternate&&!Pt)return gn(o),null}else 2*Et()-E.renderingStartTime>fa&&u!==1073741824&&(o.flags|=128,p=!0,Ol(E,!1),o.lanes=4194304);E.isBackwards?(b.sibling=o.child,o.child=b):(u=E.last,u!==null?u.sibling=b:o.child=b,E.last=b)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=Et(),o.sibling=null,u=Nt.current,Tt(Nt,p?u&1|2:u&1),o):(gn(o),null);case 22:case 23:return Op(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Yn&1073741824)!==0&&(gn(o),o.subtreeFlags&6&&(o.flags|=8192)):gn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Qb(s,o){switch($f(o),o.tag){case 1:return Dn(o.type)&&Cc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ua(),It(On),It(pn),tp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Zf(o),null;case 13:if(It(Nt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));sa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return It(Nt),null;case 4:return ua(),null;case 10:return Gf(o.type._context),null;case 22:case 23:return Op(),null;case 24:return null;default:return null}}var Kc=!1,yn=!1,Yb=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function da(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Vt(s,o,p)}else u.current=null}function Ep(s,o,u){try{u()}catch(p){Vt(s,o,p)}}var L0=!1;function Xb(s,o){if(Of=Qi,s=pv(),If(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var g=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var b=0,U=-1,H=-1,J=0,ce=0,he=s,ue=null;t:for(;;){for(var we;he!==u||g!==0&&he.nodeType!==3||(U=b+g),he!==E||p!==0&&he.nodeType!==3||(H=b+p),he.nodeType===3&&(b+=he.nodeValue.length),(we=he.firstChild)!==null;)ue=he,he=we;for(;;){if(he===s)break t;if(ue===u&&++J===g&&(U=b),ue===E&&++ce===p&&(H=b),(we=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=we}u=U===-1||H===-1?null:{start:U,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Df={focusedElem:s,selectionRange:u},Qi=!1,Ce=o;Ce!==null;)if(o=Ce,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ce=s;else for(;Ce!==null;){o=Ce;try{var Pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ae=Pe.memoizedProps,Mt=Pe.memoizedState,G=o.stateNode,W=G.getSnapshotBeforeUpdate(o.elementType===o.type?Ae:Cr(o.type,Ae),Mt);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var X=o.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(me){Vt(o,o.return,me)}if(s=o.sibling,s!==null){s.return=o.return,Ce=s;break}Ce=o.return}return Pe=L0,L0=!1,Pe}function Dl(s,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var E=g.destroy;g.destroy=void 0,E!==void 0&&Ep(o,u,E)}g=g.next}while(g!==p)}}function Gc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function Tp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function j0(s){var o=s.alternate;o!==null&&(s.alternate=null,j0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Kr],delete o[Sl],delete o[Mf],delete o[Ob],delete o[Db])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function M0(s){return s.tag===5||s.tag===3||s.tag===4}function F0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||M0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sp(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ic));else if(p!==4&&(s=s.child,s!==null))for(Sp(s,o,u),s=s.sibling;s!==null;)Sp(s,o,u),s=s.sibling}function xp(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(xp(s,o,u),s=s.sibling;s!==null;)xp(s,o,u),s=s.sibling}var un=null,Pr=!1;function is(s,o,u){for(u=u.child;u!==null;)U0(s,o,u),u=u.sibling}function U0(s,o,u){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Ws,u)}catch{}switch(u.tag){case 5:yn||da(u,o);case 6:var p=un,g=Pr;un=null,is(s,o,u),un=p,Pr=g,un!==null&&(Pr?(s=un,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):un.removeChild(u.stateNode));break;case 18:un!==null&&(Pr?(s=un,u=u.stateNode,s.nodeType===8?jf(s.parentNode,u):s.nodeType===1&&jf(s,u),Sr(s)):jf(un,u.stateNode));break;case 4:p=un,g=Pr,un=u.stateNode.containerInfo,Pr=!0,is(s,o,u),un=p,Pr=g;break;case 0:case 11:case 14:case 15:if(!yn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var E=g,b=E.destroy;E=E.tag,b!==void 0&&((E&2)!==0||(E&4)!==0)&&Ep(u,o,b),g=g.next}while(g!==p)}is(s,o,u);break;case 1:if(!yn&&(da(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(U){Vt(u,o,U)}is(s,o,u);break;case 21:is(s,o,u);break;case 22:u.mode&1?(yn=(p=yn)||u.memoizedState!==null,is(s,o,u),yn=p):is(s,o,u);break;default:is(s,o,u)}}function B0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Yb),o.forEach(function(p){var g=oC.bind(null,s,p);u.has(p)||(u.add(p),p.then(g,g))})}}function Ar(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];try{var E=s,b=o,U=b;e:for(;U!==null;){switch(U.tag){case 5:un=U.stateNode,Pr=!1;break e;case 3:un=U.stateNode.containerInfo,Pr=!0;break e;case 4:un=U.stateNode.containerInfo,Pr=!0;break e}U=U.return}if(un===null)throw Error(t(160));U0(E,b,g),un=null,Pr=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(J){Vt(g,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$0(o,s),o=o.sibling}function $0(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ar(o,s),Yr(s),p&4){try{Dl(3,s,s.return),Gc(3,s)}catch(Ae){Vt(s,s.return,Ae)}try{Dl(5,s,s.return)}catch(Ae){Vt(s,s.return,Ae)}}break;case 1:Ar(o,s),Yr(s),p&512&&u!==null&&da(u,u.return);break;case 5:if(Ar(o,s),Yr(s),p&512&&u!==null&&da(u,u.return),s.flags&32){var g=s.stateNode;try{Ue(g,"")}catch(Ae){Vt(s,s.return,Ae)}}if(p&4&&(g=s.stateNode,g!=null)){var E=s.memoizedProps,b=u!==null?u.memoizedProps:E,U=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{U==="input"&&E.type==="radio"&&E.name!=null&&Mi(g,E),qe(U,b);var J=qe(U,E);for(b=0;b<H.length;b+=2){var ce=H[b],he=H[b+1];ce==="style"?be(g,he):ce==="dangerouslySetInnerHTML"?ze(g,he):ce==="children"?Ue(g,he):N(g,ce,he,J)}switch(U){case"input":Us(g,E);break;case"textarea":Ui(g,E);break;case"select":var ue=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!E.multiple;var we=E.value;we!=null?$n(g,!!E.multiple,we,!1):ue!==!!E.multiple&&(E.defaultValue!=null?$n(g,!!E.multiple,E.defaultValue,!0):$n(g,!!E.multiple,E.multiple?[]:"",!1))}g[Sl]=E}catch(Ae){Vt(s,s.return,Ae)}}break;case 6:if(Ar(o,s),Yr(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,E=s.memoizedProps;try{g.nodeValue=E}catch(Ae){Vt(s,s.return,Ae)}}break;case 3:if(Ar(o,s),Yr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Sr(o.containerInfo)}catch(Ae){Vt(s,s.return,Ae)}break;case 4:Ar(o,s),Yr(s);break;case 13:Ar(o,s),Yr(s),g=s.child,g.flags&8192&&(E=g.memoizedState!==null,g.stateNode.isHidden=E,!E||g.alternate!==null&&g.alternate.memoizedState!==null||(Cp=Et())),p&4&&B0(s);break;case 22:if(ce=u!==null&&u.memoizedState!==null,s.mode&1?(yn=(J=yn)||ce,Ar(o,s),yn=J):Ar(o,s),Yr(s),p&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ce&&(s.mode&1)!==0)for(Ce=s,ce=s.child;ce!==null;){for(he=Ce=ce;Ce!==null;){switch(ue=Ce,we=ue.child,ue.tag){case 0:case 11:case 14:case 15:Dl(4,ue,ue.return);break;case 1:da(ue,ue.return);var Pe=ue.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ue,u=ue.return;try{o=p,Pe.props=o.memoizedProps,Pe.state=o.memoizedState,Pe.componentWillUnmount()}catch(Ae){Vt(p,u,Ae)}}break;case 5:da(ue,ue.return);break;case 22:if(ue.memoizedState!==null){W0(he);continue}}we!==null?(we.return=ue,Ce=we):W0(he)}ce=ce.sibling}e:for(ce=null,he=s;;){if(he.tag===5){if(ce===null){ce=he;try{g=he.stateNode,J?(E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(U=he.stateNode,H=he.memoizedProps.style,b=H!=null&&H.hasOwnProperty("display")?H.display:null,U.style.display=re("display",b))}catch(Ae){Vt(s,s.return,Ae)}}}else if(he.tag===6){if(ce===null)try{he.stateNode.nodeValue=J?"":he.memoizedProps}catch(Ae){Vt(s,s.return,Ae)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ce===he&&(ce=null),he=he.return}ce===he&&(ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Ar(o,s),Yr(s),p&4&&B0(s);break;case 21:break;default:Ar(o,s),Yr(s)}}function Yr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(M0(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Ue(g,""),p.flags&=-33);var E=F0(s);xp(s,E,g);break;case 3:case 4:var b=p.stateNode.containerInfo,U=F0(s);Sp(s,U,b);break;default:throw Error(t(161))}}catch(H){Vt(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Jb(s,o,u){Ce=s,z0(s)}function z0(s,o,u){for(var p=(s.mode&1)!==0;Ce!==null;){var g=Ce,E=g.child;if(g.tag===22&&p){var b=g.memoizedState!==null||Kc;if(!b){var U=g.alternate,H=U!==null&&U.memoizedState!==null||yn;U=Kc;var J=yn;if(Kc=b,(yn=H)&&!J)for(Ce=g;Ce!==null;)b=Ce,H=b.child,b.tag===22&&b.memoizedState!==null?q0(g):H!==null?(H.return=b,Ce=H):q0(g);for(;E!==null;)Ce=E,z0(E),E=E.sibling;Ce=g,Kc=U,yn=J}H0(s)}else(g.subtreeFlags&8772)!==0&&E!==null?(E.return=g,Ce=E):H0(s)}}function H0(s){for(;Ce!==null;){var o=Ce;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:yn||Gc(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!yn)if(u===null)p.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Cr(o.type,u.memoizedProps);p.componentDidUpdate(g,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&Wv(o,E,p);break;case 3:var b=o.updateQueue;if(b!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Wv(o,b,u)}break;case 5:var U=o.stateNode;if(u===null&&o.flags&4){u=U;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var ce=J.memoizedState;if(ce!==null){var he=ce.dehydrated;he!==null&&Sr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}yn||o.flags&512&&Tp(o)}catch(ue){Vt(o,o.return,ue)}}if(o===s){Ce=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ce=u;break}Ce=o.return}}function W0(s){for(;Ce!==null;){var o=Ce;if(o===s){Ce=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ce=u;break}Ce=o.return}}function q0(s){for(;Ce!==null;){var o=Ce;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Gc(4,o)}catch(H){Vt(o,u,H)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var g=o.return;try{p.componentDidMount()}catch(H){Vt(o,g,H)}}var E=o.return;try{Tp(o)}catch(H){Vt(o,E,H)}break;case 5:var b=o.return;try{Tp(o)}catch(H){Vt(o,b,H)}}}catch(H){Vt(o,o.return,H)}if(o===s){Ce=null;break}var U=o.sibling;if(U!==null){U.return=o.return,Ce=U;break}Ce=o.return}}var Zb=Math.ceil,Qc=M.ReactCurrentDispatcher,Ip=M.ReactCurrentOwner,cr=M.ReactCurrentBatchConfig,ot=0,tn=null,Bt=null,cn=0,Yn=0,ha=Zi(0),Gt=0,Vl=null,so=0,Yc=0,bp=0,Ll=null,Ln=null,Cp=0,fa=1/0,Si=null,Xc=!1,Pp=null,ss=null,Jc=!1,os=null,Zc=0,jl=0,Ap=null,ed=-1,td=0;function Cn(){return(ot&6)!==0?Et():ed!==-1?ed:ed=Et()}function as(s){return(s.mode&1)===0?1:(ot&2)!==0&&cn!==0?cn&-cn:Lb.transition!==null?(td===0&&(td=Ks()),td):(s=nt,s!==0||(s=window.event,s=s===void 0?16:dl(s.type)),s)}function Rr(s,o,u,p){if(50<jl)throw jl=0,Ap=null,Error(t(185));Wi(s,u,p),((ot&2)===0||s!==tn)&&(s===tn&&((ot&2)===0&&(Yc|=u),Gt===4&&ls(s,cn)),jn(s,p),u===1&&ot===0&&(o.mode&1)===0&&(fa=Et()+500,Ac&&ts()))}function jn(s,o){var u=s.callbackNode;di(s,o);var p=qs(s,s===tn?cn:0);if(p===0)u!==null&&ol(u),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(u!=null&&ol(u),o===1)s.tag===0?Vb(G0.bind(null,s)):Ov(G0.bind(null,s)),kb(function(){(ot&6)===0&&ts()}),u=null;else{switch(Ki(p)){case 1:u=Hs;break;case 4:u=$i;break;case 16:u=rr;break;case 536870912:u=tc;break;default:u=rr}u=n_(u,K0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function K0(s,o){if(ed=-1,td=0,(ot&6)!==0)throw Error(t(327));var u=s.callbackNode;if(pa()&&s.callbackNode!==u)return null;var p=qs(s,s===tn?cn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=nd(s,p);else{o=p;var g=ot;ot|=2;var E=Y0();(tn!==s||cn!==o)&&(Si=null,fa=Et()+500,ao(s,o));do try{nC();break}catch(U){Q0(s,U)}while(!0);Kf(),Qc.current=E,ot=g,Bt!==null?o=0:(tn=null,cn=0,o=Gt)}if(o!==0){if(o===2&&(g=Wn(s),g!==0&&(p=g,o=Rp(s,g))),o===1)throw u=Vl,ao(s,0),ls(s,p),jn(s,Et()),u;if(o===6)ls(s,p);else{if(g=s.current.alternate,(p&30)===0&&!eC(g)&&(o=nd(s,p),o===2&&(E=Wn(s),E!==0&&(p=E,o=Rp(s,E))),o===1))throw u=Vl,ao(s,0),ls(s,p),jn(s,Et()),u;switch(s.finishedWork=g,s.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:lo(s,Ln,Si);break;case 3:if(ls(s,p),(p&130023424)===p&&(o=Cp+500-Et(),10<o)){if(qs(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){Cn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Lf(lo.bind(null,s,Ln,Si),o);break}lo(s,Ln,Si);break;case 4:if(ls(s,p),(p&4194240)===p)break;for(o=s.eventTimes,g=-1;0<p;){var b=31-xn(p);E=1<<b,b=o[b],b>g&&(g=b),p&=~E}if(p=g,p=Et()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Zb(p/1960))-p,10<p){s.timeoutHandle=Lf(lo.bind(null,s,Ln,Si),p);break}lo(s,Ln,Si);break;case 5:lo(s,Ln,Si);break;default:throw Error(t(329))}}}return jn(s,Et()),s.callbackNode===u?K0.bind(null,s):null}function Rp(s,o){var u=Ll;return s.current.memoizedState.isDehydrated&&(ao(s,o).flags|=256),s=nd(s,o),s!==2&&(o=Ln,Ln=u,o!==null&&kp(o)),s}function kp(s){Ln===null?Ln=s:Ln.push.apply(Ln,s)}function eC(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var g=u[p],E=g.getSnapshot;g=g.value;try{if(!Ir(E(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ls(s,o){for(o&=~bp,o&=~Yc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-xn(o),p=1<<u;s[u]=-1,o&=~p}}function G0(s){if((ot&6)!==0)throw Error(t(327));pa();var o=qs(s,0);if((o&1)===0)return jn(s,Et()),null;var u=nd(s,o);if(s.tag!==0&&u===2){var p=Wn(s);p!==0&&(o=p,u=Rp(s,p))}if(u===1)throw u=Vl,ao(s,0),ls(s,o),jn(s,Et()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,lo(s,Ln,Si),jn(s,Et()),null}function Np(s,o){var u=ot;ot|=1;try{return s(o)}finally{ot=u,ot===0&&(fa=Et()+500,Ac&&ts())}}function oo(s){os!==null&&os.tag===0&&(ot&6)===0&&pa();var o=ot;ot|=1;var u=cr.transition,p=nt;try{if(cr.transition=null,nt=1,s)return s()}finally{nt=p,cr.transition=u,ot=o,(ot&6)===0&&ts()}}function Op(){Yn=ha.current,It(ha)}function ao(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Rb(u)),Bt!==null)for(u=Bt.return;u!==null;){var p=u;switch($f(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Cc();break;case 3:ua(),It(On),It(pn),tp();break;case 5:Zf(p);break;case 4:ua();break;case 13:It(Nt);break;case 19:It(Nt);break;case 10:Gf(p.type._context);break;case 22:case 23:Op()}u=u.return}if(tn=s,Bt=s=us(s.current,null),cn=Yn=o,Gt=0,Vl=null,bp=Yc=so=0,Ln=Ll=null,no!==null){for(o=0;o<no.length;o++)if(u=no[o],p=u.interleaved,p!==null){u.interleaved=null;var g=p.next,E=u.pending;if(E!==null){var b=E.next;E.next=g,p.next=b}u.pending=p}no=null}return s}function Q0(s,o){do{var u=Bt;try{if(Kf(),Fc.current=zc,Uc){for(var p=Ot.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Uc=!1}if(io=0,en=Kt=Ot=null,Al=!1,Rl=0,Ip.current=null,u===null||u.return===null){Gt=1,Vl=o,Bt=null;break}e:{var E=s,b=u.return,U=u,H=o;if(o=cn,U.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var J=H,ce=U,he=ce.tag;if((ce.mode&1)===0&&(he===0||he===11||he===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=w0(b);if(we!==null){we.flags&=-257,E0(we,b,U,E,o),we.mode&1&&_0(E,J,o),o=we,H=J;var Pe=o.updateQueue;if(Pe===null){var Ae=new Set;Ae.add(H),o.updateQueue=Ae}else Pe.add(H);break e}else{if((o&1)===0){_0(E,J,o),Dp();break e}H=Error(t(426))}}else if(Pt&&U.mode&1){var Mt=w0(b);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),E0(Mt,b,U,E,o),Wf(ca(H,U));break e}}E=H=ca(H,U),Gt!==4&&(Gt=2),Ll===null?Ll=[E]:Ll.push(E),E=b;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var G=y0(E,H,o);Hv(E,G);break e;case 1:U=H;var W=E.type,X=E.stateNode;if((E.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(ss===null||!ss.has(X)))){E.flags|=65536,o&=-o,E.lanes|=o;var me=v0(E,U,o);Hv(E,me);break e}}E=E.return}while(E!==null)}J0(u)}catch(ke){o=ke,Bt===u&&u!==null&&(Bt=u=u.return);continue}break}while(!0)}function Y0(){var s=Qc.current;return Qc.current=zc,s===null?zc:s}function Dp(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),tn===null||(so&268435455)===0&&(Yc&268435455)===0||ls(tn,cn)}function nd(s,o){var u=ot;ot|=2;var p=Y0();(tn!==s||cn!==o)&&(Si=null,ao(s,o));do try{tC();break}catch(g){Q0(s,g)}while(!0);if(Kf(),ot=u,Qc.current=p,Bt!==null)throw Error(t(261));return tn=null,cn=0,Gt}function tC(){for(;Bt!==null;)X0(Bt)}function nC(){for(;Bt!==null&&!Zu();)X0(Bt)}function X0(s){var o=t_(s.alternate,s,Yn);s.memoizedProps=s.pendingProps,o===null?J0(s):Bt=o,Ip.current=null}function J0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=Gb(u,o,Yn),u!==null){Bt=u;return}}else{if(u=Qb(u,o),u!==null){u.flags&=32767,Bt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Gt=6,Bt=null;return}}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);Gt===0&&(Gt=5)}function lo(s,o,u){var p=nt,g=cr.transition;try{cr.transition=null,nt=1,rC(s,o,u,p)}finally{cr.transition=g,nt=p}return null}function rC(s,o,u,p){do pa();while(os!==null);if((ot&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var E=u.lanes|u.childLanes;if(wt(s,E),s===tn&&(Bt=tn=null,cn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Jc||(Jc=!0,n_(rr,function(){return pa(),null})),E=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||E){E=cr.transition,cr.transition=null;var b=nt;nt=1;var U=ot;ot|=4,Ip.current=null,Xb(s,u),$0(u,s),Sb(Df),Qi=!!Of,Df=Of=null,s.current=u,Jb(u),yf(),ot=U,nt=b,cr.transition=E}else s.current=u;if(Jc&&(Jc=!1,os=s,Zc=g),E=s.pendingLanes,E===0&&(ss=null),nc(u.stateNode),jn(s,Et()),o!==null)for(p=s.onRecoverableError,u=0;u<o.length;u++)g=o[u],p(g.value,{componentStack:g.stack,digest:g.digest});if(Xc)throw Xc=!1,s=Pp,Pp=null,s;return(Zc&1)!==0&&s.tag!==0&&pa(),E=s.pendingLanes,(E&1)!==0?s===Ap?jl++:(jl=0,Ap=s):jl=0,ts(),null}function pa(){if(os!==null){var s=Ki(Zc),o=cr.transition,u=nt;try{if(cr.transition=null,nt=16>s?16:s,os===null)var p=!1;else{if(s=os,os=null,Zc=0,(ot&6)!==0)throw Error(t(331));var g=ot;for(ot|=4,Ce=s.current;Ce!==null;){var E=Ce,b=E.child;if((Ce.flags&16)!==0){var U=E.deletions;if(U!==null){for(var H=0;H<U.length;H++){var J=U[H];for(Ce=J;Ce!==null;){var ce=Ce;switch(ce.tag){case 0:case 11:case 15:Dl(8,ce,E)}var he=ce.child;if(he!==null)he.return=ce,Ce=he;else for(;Ce!==null;){ce=Ce;var ue=ce.sibling,we=ce.return;if(j0(ce),ce===J){Ce=null;break}if(ue!==null){ue.return=we,Ce=ue;break}Ce=we}}}var Pe=E.alternate;if(Pe!==null){var Ae=Pe.child;if(Ae!==null){Pe.child=null;do{var Mt=Ae.sibling;Ae.sibling=null,Ae=Mt}while(Ae!==null)}}Ce=E}}if((E.subtreeFlags&2064)!==0&&b!==null)b.return=E,Ce=b;else e:for(;Ce!==null;){if(E=Ce,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Dl(9,E,E.return)}var G=E.sibling;if(G!==null){G.return=E.return,Ce=G;break e}Ce=E.return}}var W=s.current;for(Ce=W;Ce!==null;){b=Ce;var X=b.child;if((b.subtreeFlags&2064)!==0&&X!==null)X.return=b,Ce=X;else e:for(b=W;Ce!==null;){if(U=Ce,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Gc(9,U)}}catch(ke){Vt(U,U.return,ke)}if(U===b){Ce=null;break e}var me=U.sibling;if(me!==null){me.return=U.return,Ce=me;break e}Ce=U.return}}if(ot=g,ts(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Ws,s)}catch{}p=!0}return p}finally{nt=u,cr.transition=o}}return!1}function Z0(s,o,u){o=ca(u,o),o=y0(s,o,1),s=rs(s,o,1),o=Cn(),s!==null&&(Wi(s,1,o),jn(s,o))}function Vt(s,o,u){if(s.tag===3)Z0(s,s,u);else for(;o!==null;){if(o.tag===3){Z0(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ss===null||!ss.has(p))){s=ca(u,s),s=v0(o,s,1),o=rs(o,s,1),s=Cn(),o!==null&&(Wi(o,1,s),jn(o,s));break}}o=o.return}}function iC(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),o=Cn(),s.pingedLanes|=s.suspendedLanes&u,tn===s&&(cn&u)===u&&(Gt===4||Gt===3&&(cn&130023424)===cn&&500>Et()-Cp?ao(s,0):bp|=u),jn(s,o)}function e_(s,o){o===0&&((s.mode&1)===0?o=1:(o=jo,jo<<=1,(jo&130023424)===0&&(jo=4194304)));var u=Cn();s=wi(s,o),s!==null&&(Wi(s,o,u),jn(s,u))}function sC(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),e_(s,u)}function oC(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),e_(s,u)}var t_;t_=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||On.current)Vn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Vn=!1,Kb(s,o,u);Vn=(s.flags&131072)!==0}else Vn=!1,Pt&&(o.flags&1048576)!==0&&Dv(o,kc,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;qc(s,o),s=o.pendingProps;var g=na(o,pn.current);la(o,u),g=ip(null,o,p,s,g,u);var E=sp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Dn(p)?(E=!0,Pc(o)):E=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Xf(o),g.updater=Hc,o.stateNode=g,g._reactInternals=o,dp(o,p,s,u),o=mp(null,o,p,!0,E,u)):(o.tag=0,Pt&&E&&Bf(o),bn(null,o,g,u),o=o.child),o;case 16:p=o.elementType;e:{switch(qc(s,o),s=o.pendingProps,g=p._init,p=g(p._payload),o.type=p,g=o.tag=lC(p),s=Cr(p,s),g){case 0:o=pp(null,o,p,s,u);break e;case 1:o=C0(null,o,p,s,u);break e;case 11:o=T0(null,o,p,s,u);break e;case 14:o=S0(null,o,p,Cr(p.type,s),u);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Cr(p,g),pp(s,o,p,g,u);case 1:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Cr(p,g),C0(s,o,p,g,u);case 3:e:{if(P0(o),s===null)throw Error(t(387));p=o.pendingProps,E=o.memoizedState,g=E.element,zv(s,o),jc(o,p,null,u);var b=o.memoizedState;if(p=b.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){g=ca(Error(t(423)),o),o=A0(s,o,p,u,g);break e}else if(p!==g){g=ca(Error(t(424)),o),o=A0(s,o,p,u,g);break e}else for(Qn=Ji(o.stateNode.containerInfo.firstChild),Gn=o,Pt=!0,br=null,u=Bv(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(sa(),p===g){o=Ti(s,o,u);break e}bn(s,o,p,u)}o=o.child}return o;case 5:return qv(o),s===null&&Hf(o),p=o.type,g=o.pendingProps,E=s!==null?s.memoizedProps:null,b=g.children,Vf(p,g)?b=null:E!==null&&Vf(p,E)&&(o.flags|=32),b0(s,o),bn(s,o,b,u),o.child;case 6:return s===null&&Hf(o),null;case 13:return R0(s,o,u);case 4:return Jf(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=oa(o,null,p,u):bn(s,o,p,u),o.child;case 11:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Cr(p,g),T0(s,o,p,g,u);case 7:return bn(s,o,o.pendingProps,u),o.child;case 8:return bn(s,o,o.pendingProps.children,u),o.child;case 12:return bn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,g=o.pendingProps,E=o.memoizedProps,b=g.value,Tt(Dc,p._currentValue),p._currentValue=b,E!==null)if(Ir(E.value,b)){if(E.children===g.children&&!On.current){o=Ti(s,o,u);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var U=E.dependencies;if(U!==null){b=E.child;for(var H=U.firstContext;H!==null;){if(H.context===p){if(E.tag===1){H=Ei(-1,u&-u),H.tag=2;var J=E.updateQueue;if(J!==null){J=J.shared;var ce=J.pending;ce===null?H.next=H:(H.next=ce.next,ce.next=H),J.pending=H}}E.lanes|=u,H=E.alternate,H!==null&&(H.lanes|=u),Qf(E.return,u,o),U.lanes|=u;break}H=H.next}}else if(E.tag===10)b=E.type===o.type?null:E.child;else if(E.tag===18){if(b=E.return,b===null)throw Error(t(341));b.lanes|=u,U=b.alternate,U!==null&&(U.lanes|=u),Qf(b,u,o),b=E.sibling}else b=E.child;if(b!==null)b.return=E;else for(b=E;b!==null;){if(b===o){b=null;break}if(E=b.sibling,E!==null){E.return=b.return,b=E;break}b=b.return}E=b}bn(s,o,g.children,u),o=o.child}return o;case 9:return g=o.type,p=o.pendingProps.children,la(o,u),g=lr(g),p=p(g),o.flags|=1,bn(s,o,p,u),o.child;case 14:return p=o.type,g=Cr(p,o.pendingProps),g=Cr(p.type,g),S0(s,o,p,g,u);case 15:return x0(s,o,o.type,o.pendingProps,u);case 17:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Cr(p,g),qc(s,o),o.tag=1,Dn(p)?(s=!0,Pc(o)):s=!1,la(o,u),m0(o,p,g),dp(o,p,g,u),mp(null,o,p,!0,s,u);case 19:return N0(s,o,u);case 22:return I0(s,o,u)}throw Error(t(156,o.tag))};function n_(s,o){return Vo(s,o)}function aC(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(s,o,u,p){return new aC(s,o,u,p)}function Vp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function lC(s){if(typeof s=="function")return Vp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Re)return 14}return 2}function us(s,o){var u=s.alternate;return u===null?(u=dr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function rd(s,o,u,p,g,E){var b=2;if(p=s,typeof s=="function")Vp(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case D:return uo(u.children,g,E,o);case C:b=8,g|=8;break;case k:return s=dr(12,u,o,g|2),s.elementType=k,s.lanes=E,s;case V:return s=dr(13,u,o,g),s.elementType=V,s.lanes=E,s;case ye:return s=dr(19,u,o,g),s.elementType=ye,s.lanes=E,s;case Ee:return id(u,g,E,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:b=10;break e;case F:b=9;break e;case $:b=11;break e;case Re:b=14;break e;case ve:b=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=dr(b,u,o,g),o.elementType=s,o.type=p,o.lanes=E,o}function uo(s,o,u,p){return s=dr(7,s,p,o),s.lanes=u,s}function id(s,o,u,p){return s=dr(22,s,p,o),s.elementType=Ee,s.lanes=u,s.stateNode={isHidden:!1},s}function Lp(s,o,u){return s=dr(6,s,null,o),s.lanes=u,s}function jp(s,o,u){return o=dr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function uC(s,o,u,p,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Mp(s,o,u,p,g,E,b,U,H){return s=new uC(s,o,u,U,H),o===1?(o=1,E===!0&&(o|=8)):o=0,E=dr(3,null,null,o),s.current=E,E.stateNode=s,E.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(E),s}function cC(s,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:p==null?null:""+p,children:s,containerInfo:o,implementation:u}}function r_(s){if(!s)return es;s=s._reactInternals;e:{if(vr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Dn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Dn(u))return kv(s,u,o)}return o}function i_(s,o,u,p,g,E,b,U,H){return s=Mp(u,p,!0,s,g,E,b,U,H),s.context=r_(null),u=s.current,p=Cn(),g=as(u),E=Ei(p,g),E.callback=o??null,rs(u,E,g),s.current.lanes=g,Wi(s,g,p),jn(s,p),s}function sd(s,o,u,p){var g=o.current,E=Cn(),b=as(g);return u=r_(u),o.context===null?o.context=u:o.pendingContext=u,o=Ei(E,b),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=rs(g,o,b),s!==null&&(Rr(s,g,b,E),Lc(s,g,b)),b}function od(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function s_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Fp(s,o){s_(s,o),(s=s.alternate)&&s_(s,o)}function dC(){return null}var o_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Up(s){this._internalRoot=s}ad.prototype.render=Up.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));sd(s,o,null,null)},ad.prototype.unmount=Up.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oo(function(){sd(null,s,null,null)}),o[gi]=null}};function ad(s){this._internalRoot=s}ad.prototype.unstable_scheduleHydration=function(s){if(s){var o=ac();s={blockedOn:null,target:s,priority:o};for(var u=0;u<zr.length&&o!==0&&o<zr[u].priority;u++);zr.splice(u,0,s),u===0&&cc(s)}};function Bp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ld(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function a_(){}function hC(s,o,u,p,g){if(g){if(typeof p=="function"){var E=p;p=function(){var J=od(b);E.call(J)}}var b=i_(o,p,s,0,null,!1,!1,"",a_);return s._reactRootContainer=b,s[gi]=b.current,El(s.nodeType===8?s.parentNode:s),oo(),b}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var U=p;p=function(){var J=od(H);U.call(J)}}var H=Mp(s,0,!1,null,null,!1,!1,"",a_);return s._reactRootContainer=H,s[gi]=H.current,El(s.nodeType===8?s.parentNode:s),oo(function(){sd(o,H,u,p)}),H}function ud(s,o,u,p,g){var E=u._reactRootContainer;if(E){var b=E;if(typeof g=="function"){var U=g;g=function(){var H=od(b);U.call(H)}}sd(o,b,s,g)}else b=hC(u,o,s,g,p);return od(b)}sc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=zi(o.pendingLanes);u!==0&&(qi(o,u|1),jn(o,Et()),(ot&6)===0&&(fa=Et()+500,ts()))}break;case 13:oo(function(){var p=wi(s,1);if(p!==null){var g=Cn();Rr(p,s,1,g)}}),Fp(s,1)}},Mo=function(s){if(s.tag===13){var o=wi(s,134217728);if(o!==null){var u=Cn();Rr(o,s,134217728,u)}Fp(s,134217728)}},oc=function(s){if(s.tag===13){var o=as(s),u=wi(s,o);if(u!==null){var p=Cn();Rr(u,s,o,p)}Fp(s,o)}},ac=function(){return nt},lc=function(s,o){var u=nt;try{return nt=s,o()}finally{nt=u}},lt=function(s,o,u){switch(o){case"input":if(Us(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var g=bc(p);if(!g)throw Error(t(90));Wt(p),Us(p,g)}}}break;case"textarea":Ui(s,u);break;case"select":o=u.value,o!=null&&$n(s,!!u.multiple,o,!1)}},tr=Np,Bi=oo;var fC={usingClientEntryPoint:!1,Events:[xl,ea,bc,on,zn,Np]},Ml={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pC={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=sl(s),s===null?null:s.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||dC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Ws=cd.inject(pC),Hn=cd}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fC,Mn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(o))throw Error(t(200));return cC(s,o,null,u)},Mn.createRoot=function(s,o){if(!Bp(s))throw Error(t(299));var u=!1,p="",g=o_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Mp(s,1,!1,null,null,u,!1,p,g),s[gi]=o.current,El(s.nodeType===8?s.parentNode:s),new Up(o)},Mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=sl(o),s=s===null?null:s.stateNode,s},Mn.flushSync=function(s){return oo(s)},Mn.hydrate=function(s,o,u){if(!ld(o))throw Error(t(200));return ud(null,s,o,!0,u)},Mn.hydrateRoot=function(s,o,u){if(!Bp(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,g=!1,E="",b=o_;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),o=i_(o,null,s,1,u??null,g,!1,E,b),s[gi]=o.current,El(s),p)for(s=0;s<p.length;s++)u=p[s],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new ad(o)},Mn.render=function(s,o,u){if(!ld(o))throw Error(t(200));return ud(null,s,o,!1,u)},Mn.unmountComponentAtNode=function(s){if(!ld(s))throw Error(t(40));return s._reactRootContainer?(oo(function(){ud(null,null,s,!1,function(){s._reactRootContainer=null,s[gi]=null})}),!0):!1},Mn.unstable_batchedUpdates=Np,Mn.unstable_renderSubtreeIntoContainer=function(s,o,u,p){if(!ld(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ud(s,o,u,!1,p)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var m_;function SC(){if(m_)return Hp.exports;m_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hp.exports=TC(),Hp.exports}var g_;function xC(){if(g_)return dd;g_=1;var n=SC();return dd.createRoot=n.createRoot,dd.hydrateRoot=n.hydrateRoot,dd}var IC=xC(),P=Ih();const rt=gC(P);var Ul={},y_;function bC(){if(y_)return Ul;y_=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=l,Ul.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const x=new a,R=_.length;if(R<2)return x;const A=(T==null?void 0:T.decode)||m;let j=0;do{const I=_.indexOf("=",j);if(I===-1)break;const N=_.indexOf(";",j),M=N===-1?R:N;if(I>M){j=_.lastIndexOf(";",I-1)+1;continue}const B=c(_,j,I),Y=d(_,I,B),D=_.slice(B,Y);if(x[D]===void 0){let C=c(_,I+1,M),k=d(_,M,C);const L=A(_.slice(C,k));x[D]=L}j=M+1}while(j<R);return x}function c(_,T,x){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<x);return x}function d(_,T,x){for(;T>x;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return x}function f(_,T,x){const R=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=R(T);if(!e.test(A))throw new TypeError(`argument val is invalid: ${T}`);let j=_+"="+A;if(!x)return j;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);j+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);j+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);j+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);j+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(j+="; HttpOnly"),x.secure&&(j+="; Secure"),x.partitioned&&(j+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return j}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return i.call(_)==="[object Date]"}return Ul}bC();var v_="popstate";function CC(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return wm("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:du(i)}return AC(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PC(){return Math.random().toString(36).substring(2,10)}function __(n,e){return{usr:n.state,key:n.key,idx:e}}function wm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ha(e):e,state:t,key:e&&e.key||r||PC()}}function du({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function AC(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let A=m(),j=A==null?null:A-f;f=A,d&&d({action:c,location:R.location,delta:j})}function _(A,j){c="PUSH";let I=wm(R.location,A,j);f=m()+1;let N=__(I,f),M=R.createHref(I);try{l.pushState(N,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(M)}a&&d&&d({action:c,location:R.location,delta:1})}function T(A,j){c="REPLACE";let I=wm(R.location,A,j);f=m();let N=__(I,f),M=R.createHref(I);l.replaceState(N,"",M),a&&d&&d({action:c,location:R.location,delta:0})}function x(A){return RC(A)}let R={get action(){return c},get location(){return n(i,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(v_,y),d=A,()=>{i.removeEventListener(v_,y),d=null}},createHref(A){return e(i,A)},createURL:x,encodeLocation(A){let j=x(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:T,go(A){return l.go(A)}};return R}function RC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:du(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function OE(n,e,t="/"){return kC(n,e,t,!1)}function kC(n,e,t,r){let i=typeof e=="string"?Ha(e):e,a=Ai(i.pathname||"/",t);if(a==null)return null;let l=DE(n);NC(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=zC(a);c=BC(l[d],f,r)}return c}function DE(n,e=[],t=[],r=""){let i=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(At(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ci([r,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(At(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),DE(a.children,e,m,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:FC(f,a.index),routesMeta:m})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let d of VE(a.path))i(a,l,d)}),e}function VE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=VE(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function NC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var OC=/^:[\w-]+$/,DC=3,VC=2,LC=1,jC=10,MC=-2,w_=n=>n==="*";function FC(n,e){let t=n.split("/"),r=t.length;return t.some(w_)&&(r+=MC),e&&(r+=VC),t.filter(i=>!w_(i)).reduce((i,a)=>i+(OC.test(a)?DC:a===""?LC:jC),r)}function UC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function BC(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Bd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),_=d.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=Bd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Ci([a,y.pathname]),pathnameBase:KC(Ci([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Ci([a,y.pathnameBase]))}return l}function Bd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=$C(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},_)=>{if(m==="*"){let x=c[_]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const T=c[_];return y&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function $C(n,e=!1,t=!0){Lr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ai(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function HC(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ha(n):n;return{pathname:t?t.startsWith("/")?t:WC(t,e):e,search:GC(r),hash:QC(i)}}function WC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Kp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sg(n){let e=qC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function xg(n,e,t,r=!1){let i;typeof n=="string"?i=Ha(n):(i={...n},At(!i.pathname||!i.pathname.includes("?"),Kp("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),Kp("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),Kp("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=HC(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Ci=n=>n.join("/").replace(/\/\/+/g,"/"),KC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var LE=["POST","PUT","PATCH","DELETE"];new Set(LE);var XC=["GET",...LE];new Set(XC);var Wa=P.createContext(null);Wa.displayName="DataRouter";var bh=P.createContext(null);bh.displayName="DataRouterState";var jE=P.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var JC=P.createContext(new Map);JC.displayName="Fetchers";var ZC=P.createContext(null);ZC.displayName="Await";var Fr=P.createContext(null);Fr.displayName="Navigation";var Nu=P.createContext(null);Nu.displayName="Location";var mr=P.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Ig=P.createContext(null);Ig.displayName="RouteError";function eP(n,{relative:e}={}){At(qa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=P.useContext(Fr),{hash:i,pathname:a,search:l}=Ou(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Ci([t,a])),r.createHref({pathname:c,search:l,hash:i})}function qa(){return P.useContext(Nu)!=null}function ai(){return At(qa(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Nu).location}var ME="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FE(n){P.useContext(Fr).static||P.useLayoutEffect(n)}function Zn(){let{isDataRoute:n}=P.useContext(mr);return n?mP():tP()}function tP(){At(qa(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(Wa),{basename:e,navigator:t}=P.useContext(Fr),{matches:r}=P.useContext(mr),{pathname:i}=ai(),a=JSON.stringify(Sg(r)),l=P.useRef(!1);return FE(()=>{l.current=!0}),P.useCallback((d,f={})=>{if(Lr(l.current,ME),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=xg(d,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ci([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,a,i,n])}var nP=P.createContext(null);function rP(n){let e=P.useContext(mr).outlet;return e&&P.createElement(nP.Provider,{value:n},e)}function sn(){let{matches:n}=P.useContext(mr),e=n[n.length-1];return e?e.params:{}}function Ou(n,{relative:e}={}){let{matches:t}=P.useContext(mr),{pathname:r}=ai(),i=JSON.stringify(Sg(t));return P.useMemo(()=>xg(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function iP(n,e){return UE(n,e)}function UE(n,e,t,r){var j;At(qa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=P.useContext(Fr),{matches:a}=P.useContext(mr),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let I=m&&m.path||"";BE(d,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=ai(),_;if(e){let I=typeof e=="string"?Ha(e):e;At(f==="/"||((j=I.pathname)==null?void 0:j.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),_=I}else _=y;let T=_.pathname||"/",x=T;if(f!=="/"){let I=f.replace(/^\//,"").split("/");x="/"+T.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=OE(n,{pathname:x});Lr(m||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Lr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=uP(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:Ci([f,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Ci([f,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,t,r);return e&&A?P.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},A):A}function sP(){let n=pP(),e=YC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:i},t):null,l)}var oP=P.createElement(sP,null),aP=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?P.createElement(mr.Provider,{value:this.props.routeContext},P.createElement(Ig.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lP({routeContext:n,match:e,children:t}){let r=P.useContext(Wa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(mr.Provider,{value:n},t)}function uP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);At(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:y}=t,_=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let y,_=!1,T=null,x=null;t&&(y=a&&f.route.id?a[f.route.id]:void 0,T=f.route.errorElement||oP,l&&(c<0&&m===0?(BE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):c===m&&(_=!0,x=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),A=()=>{let j;return y?j=T:_?j=x:f.route.Component?j=P.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,P.createElement(lP,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:j})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?P.createElement(aP,{location:t.location,revalidation:t.revalidation,component:T,error:y,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function bg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cP(n){let e=P.useContext(Wa);return At(e,bg(n)),e}function dP(n){let e=P.useContext(bh);return At(e,bg(n)),e}function hP(n){let e=P.useContext(mr);return At(e,bg(n)),e}function Cg(n){let e=hP(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fP(){return Cg("useRouteId")}function pP(){var r;let n=P.useContext(Ig),e=dP("useRouteError"),t=Cg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function mP(){let{router:n}=cP("useNavigate"),e=Cg("useNavigate"),t=P.useRef(!1);return FE(()=>{t.current=!0}),P.useCallback(async(i,a={})=>{Lr(t.current,ME),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var E_={};function BE(n,e,t){!e&&!E_[n]&&(E_[n]=!0,Lr(!1,t))}P.memo(gP);function gP({routes:n,future:e,state:t}){return UE(n,void 0,t,e)}function yP({to:n,replace:e,state:t,relative:r}){At(qa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(Fr);Lr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(mr),{pathname:l}=ai(),c=Zn(),d=xg(n,Sg(a),l,r==="path"),f=JSON.stringify(d);return P.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function $E(n){return rP(n.context)}function hr(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){At(!qa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=Ha(t));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:_="default"}=t,T=P.useMemo(()=>{let x=Ai(d,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:y,key:_},navigationType:r}},[l,d,f,m,y,_,r]);return Lr(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:P.createElement(Fr.Provider,{value:c},P.createElement(Nu.Provider,{children:e,value:T}))}function _P({children:n,location:e}){return iP(Em(n),e)}function Em(n,e=[]){let t=[];return P.Children.forEach(n,(r,i)=>{if(!P.isValidElement(r))return;let a=[...e,i];if(r.type===P.Fragment){t.push.apply(t,Em(r.props.children,a));return}At(r.type===hr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Em(r.props.children,a)),t.push(l)}),t}var bd="get",Cd="application/x-www-form-urlencoded";function Ch(n){return n!=null&&typeof n.tagName=="string"}function wP(n){return Ch(n)&&n.tagName.toLowerCase()==="button"}function EP(n){return Ch(n)&&n.tagName.toLowerCase()==="form"}function TP(n){return Ch(n)&&n.tagName.toLowerCase()==="input"}function SP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xP(n,e){return n.button===0&&(!e||e==="_self")&&!SP(n)}var hd=null;function IP(){if(hd===null)try{new FormData(document.createElement("form"),0),hd=!1}catch{hd=!0}return hd}var bP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(n){return n!=null&&!bP.has(n)?(Lr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cd}"`),null):n}function CP(n,e){let t,r,i,a,l;if(EP(n)){let c=n.getAttribute("action");r=c?Ai(c,e):null,t=n.getAttribute("method")||bd,i=Gp(n.getAttribute("enctype"))||Cd,a=new FormData(n)}else if(wP(n)||TP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ai(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||bd,i=Gp(n.getAttribute("formenctype"))||Gp(c.getAttribute("enctype"))||Cd,a=new FormData(c,n),!IP()){let{name:f,type:m,value:y}=n;if(m==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,y)}}else{if(Ch(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bd,r=null,i=Cd,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function Pg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function PP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function RP(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await PP(a,t);return l.links?l.links():[]}return[]}));return DP(r.flat(1).filter(AP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function T_(n,e,t,r,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var m;return t[f].pathname!==d.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function kP(n,e,{includeHydrateFallback:t}={}){return NP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function NP(n){return[...new Set(n)]}function OP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function DP(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(OP(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VP=new Set([100,101,204,205]);function LP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ai(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function zE(){let n=P.useContext(Wa);return Pg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function jP(){let n=P.useContext(bh);return Pg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ag=P.createContext(void 0);Ag.displayName="FrameworkContext";function HE(){let n=P.useContext(Ag);return Pg(n,"You must render this element inside a <HydratedRouter> element"),n}function MP(n,e){let t=P.useContext(Ag),[r,i]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,_=P.useRef(null);P.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=j=>{j.forEach(I=>{l(I.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[n]),P.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},x=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,_,{}]:[a,_,{onFocus:Bl(c,T),onBlur:Bl(d,x),onMouseEnter:Bl(f,T),onMouseLeave:Bl(m,x),onTouchStart:Bl(y,T)}]:[!1,_,{}]}function Bl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FP({page:n,...e}){let{router:t}=zE(),r=P.useMemo(()=>OE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?P.createElement(BP,{page:n,matches:r,...e}):null}function UP(n){let{manifest:e,routeModules:t}=HE(),[r,i]=P.useState([]);return P.useEffect(()=>{let a=!1;return RP(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function BP({page:n,matches:e,...t}){let r=ai(),{manifest:i,routeModules:a}=HE(),{basename:l}=zE(),{loaderData:c,matches:d}=jP(),f=P.useMemo(()=>T_(n,e,d,i,r,"data"),[n,e,d,i,r]),m=P.useMemo(()=>T_(n,e,d,i,r,"assets"),[n,e,d,i,r]),y=P.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,R=!1;if(e.forEach(j=>{var N;let I=i.routes[j.route.id];!I||!I.hasLoader||(!f.some(M=>M.route.id===j.route.id)&&j.route.id in c&&((N=a[j.route.id])!=null&&N.shouldRevalidate)||I.hasClientLoader?R=!0:x.add(j.route.id))}),x.size===0)return[];let A=LP(n,l);return R&&x.size>0&&A.searchParams.set("_routes",e.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[A.pathname+A.search]},[l,c,r,i,f,e,n,a]),_=P.useMemo(()=>kP(m,i),[m,i]),T=UP(m);return P.createElement(P.Fragment,null,y.map(x=>P.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),_.map(x=>P.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),T.map(({key:x,link:R})=>P.createElement("link",{key:x,...R})))}function $P(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WE&&(window.__reactRouterVersion="7.6.2")}catch{}function zP({basename:n,children:e,window:t}){let r=P.useRef();r.current==null&&(r.current=CC({window:t,v5Compat:!0}));let i=r.current,[a,l]=P.useState({action:i.action,location:i.location}),c=P.useCallback(d=>{P.startTransition(()=>l(d))},[l]);return P.useLayoutEffect(()=>i.listen(c),[i,c]),P.createElement(vP,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KE=P.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:y,..._},T){let{basename:x}=P.useContext(Fr),R=typeof f=="string"&&qE.test(f),A,j=!1;if(typeof f=="string"&&R&&(A=f,WE))try{let k=new URL(window.location.href),L=f.startsWith("//")?new URL(k.protocol+f):new URL(f),F=Ai(L.pathname,x);L.origin===k.origin&&F!=null?f=F+L.search+L.hash:j=!0}catch{Lr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=eP(f,{relative:i}),[N,M,B]=MP(r,_),Y=KP(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:y});function D(k){e&&e(k),k.defaultPrevented||Y(k)}let C=P.createElement("a",{..._,...B,href:A||I,onClick:j||a?e:D,ref:$P(T,M),target:d,"data-discover":!R&&t==="render"?"true":void 0});return N&&!R?P.createElement(P.Fragment,null,C,P.createElement(FP,{page:I})):C});KE.displayName="Link";var HP=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},m){let y=Ou(l,{relative:f.relative}),_=ai(),T=P.useContext(bh),{navigator:x,basename:R}=P.useContext(Fr),A=T!=null&&JP(y)&&c===!0,j=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,I=_.pathname,N=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(I=I.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&R&&(N=Ai(N,R)||N);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let B=I===j||!i&&I.startsWith(j)&&I.charAt(M)==="/",Y=N!=null&&(N===j||!i&&N.startsWith(j)&&N.charAt(j.length)==="/"),D={isActive:B,isPending:Y,isTransitioning:A},C=B?e:void 0,k;typeof r=="function"?k=r(D):k=[r,B?"active":null,Y?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return P.createElement(KE,{...f,"aria-current":C,className:k,ref:m,style:L,to:l,viewTransition:c},typeof d=="function"?d(D):d)});HP.displayName="NavLink";var WP=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=bd,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:y,..._},T)=>{let x=YP(),R=XP(c,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&qE.test(c),I=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let M=N.nativeEvent.submitter,B=(M==null?void 0:M.getAttribute("formmethod"))||l;x(M||N.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:y})};return P.createElement("form",{ref:T,method:A,action:R,onSubmit:r?d:I,..._,"data-discover":!j&&n==="render"?"true":void 0})});WP.displayName="Form";function qP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GE(n){let e=P.useContext(Wa);return At(e,qP(n)),e}function KP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=Zn(),d=ai(),f=Ou(n,{relative:a});return P.useCallback(m=>{if(xP(m,e)){m.preventDefault();let y=t!==void 0?t:du(d)===du(f);c(n,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,f,t,r,e,n,i,a,l])}var GP=0,QP=()=>`__${String(++GP)}__`;function YP(){let{router:n}=GE("useSubmit"),{basename:e}=P.useContext(Fr),t=fP();return P.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:d,body:f}=CP(r,e);if(i.navigate===!1){let m=i.fetcherKey||QP();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function XP(n,{relative:e}={}){let{basename:t}=P.useContext(Fr),r=P.useContext(mr);At(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Ou(n||".",{relative:e})},l=ai();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ci([t,a.pathname])),du(a)}function JP(n,e={}){let t=P.useContext(jE);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GE("useViewTransitionState"),i=Ou(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ai(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ai(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Bd(i.pathname,l)!=null||Bd(i.pathname,a)!=null}[...VP];const ZP=()=>{};var S_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},e2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,T=f&63;d||(T=64,l||(_=64)),r.push(t[m],t[y],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(QE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):e2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||f==null||y==null)throw new t2;const _=a<<2|c>>4;if(r.push(_),f!==64){const T=c<<4&240|f>>2;if(r.push(T),y!==64){const x=f<<6&192|y;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class t2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n2=function(n){const e=QE(n);return YE.encodeByteArray(e,!0)},$d=function(n){return n2(n).replace(/\./g,"")},XE=function(n){try{return YE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=()=>r2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof S_>"u")return;const n=S_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},o2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&XE(n[1]);return e&&JSON.parse(e)},Ph=()=>{try{return ZP()||i2()||s2()||o2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JE=n=>{var e,t;return(t=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},a2=n=>{const e=JE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ZE=()=>{var n;return(n=Ph())===null||n===void 0?void 0:n.config},eT=n=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n){return n.endsWith(".cloudworkstations.dev")}async function tT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$d(JSON.stringify(t)),$d(JSON.stringify(l)),""].join(".")}const Xl={};function c2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?n.emulator.push(e):n.prod.push(e);return n}function d2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let x_=!1;function nT(n,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||Xl[n]===e||Xl[n]||x_)return;Xl[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=c2().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{x_=!0,l()},_}function m(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=d2(r),T=t("text"),x=document.getElementById(T)||document.createElement("span"),R=t("learnmore"),A=document.getElementById(R)||document.createElement("a"),j=t("preprendIcon"),I=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const N=_.element;c(N),m(A,R);const M=f();d(I,j),N.append(I,x,A,M),document.body.appendChild(N)}a?(x.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function f2(){var n;const e=(n=Ph())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function g2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y2(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function v2(){return!f2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="FirebaseError";class ji extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=E2,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?T2(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ji(i,c,r)}}function T2(n,e){return n.replace(S2,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const S2=/\{\$([^}]+)}/g;function x2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(I_(a)&&I_(l)){if(!wo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function I_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ql(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function I2(n,e){const t=new b2(n,e);return t.subscribe.bind(t)}class b2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");C2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Qp),i.error===void 0&&(i.error=Qp),i.complete===void 0&&(i.complete=Qp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class Eo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new l2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R2(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A2(n){return n===fo?void 0:n}function R2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new P2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const N2={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},O2=et.INFO,D2={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},V2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=D2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Rg=class{constructor(e){this.name=e,this._logLevel=O2,this._logHandler=V2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}};const L2=(n,e)=>e.some(t=>n instanceof t);let b_,C_;function j2(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,Tm=new WeakMap,iT=new WeakMap,Yp=new WeakMap,kg=new WeakMap;function F2(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Es(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&rT.set(t,n)}).catch(()=>{}),kg.set(e,n),e}function U2(n){if(Tm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Tm.set(n,e)}let Sm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function B2(n){Sm=n(Sm)}function $2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xp(this),e,...t);return iT.set(r,e.sort?e.sort():[e]),Es(r)}:M2().includes(n)?function(...e){return n.apply(Xp(this),e),Es(rT.get(this))}:function(...e){return Es(n.apply(Xp(this),e))}}function z2(n){return typeof n=="function"?$2(n):(n instanceof IDBTransaction&&U2(n),L2(n,j2())?new Proxy(n,Sm):n)}function Es(n){if(n instanceof IDBRequest)return F2(n);if(Yp.has(n))return Yp.get(n);const e=z2(n);return e!==n&&(Yp.set(n,e),kg.set(e,n)),e}const Xp=n=>kg.get(n);function H2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=Es(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Es(l.result),d.oldVersion,d.newVersion,Es(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const W2=["get","getKey","getAll","getAllKeys","count"],q2=["put","add","delete","clear"],Jp=new Map;function P_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=q2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W2.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&d.done]))[0]};return Jp.set(e,a),a}B2(n=>({...n,get:(e,t,r)=>P_(e,t)||n.get(e,t,r),has:(e,t)=>!!P_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(G2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function G2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",A_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Rg("@firebase/app"),Q2="@firebase/app-compat",Y2="@firebase/analytics-compat",X2="@firebase/analytics",J2="@firebase/app-check-compat",Z2="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",rA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",oA="@firebase/functions-compat",aA="@firebase/installations",lA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",dA="@firebase/performance",hA="@firebase/performance-compat",fA="@firebase/remote-config",pA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",yA="@firebase/firestore",vA="@firebase/ai",_A="@firebase/firestore-compat",wA="firebase",EA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",TA={[xm]:"fire-core",[Q2]:"fire-core-compat",[X2]:"fire-analytics",[Y2]:"fire-analytics-compat",[Z2]:"fire-app-check",[J2]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[rA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[oA]:"fire-fn-compat",[aA]:"fire-iid",[lA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[dA]:"fire-perf",[hA]:"fire-perf-compat",[fA]:"fire-rc",[pA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[yA]:"fire-fst",[_A]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,SA=new Map,bm=new Map;function R_(n,e){try{n.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Na(n){const e=n.name;if(bm.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,n);for(const t of zd.values())R_(t,n);for(const t of SA.values())R_(t,n);return!0}function Ng(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new Du("app","Firebase",xA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=EA;function sT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Im,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(t||(t=ZE()),!t)throw Ts.create("no-options");const a=zd.get(i);if(a){if(wo(t,a.options)&&wo(r,a.config))return a;throw Ts.create("duplicate-app",{appName:i})}const l=new k2(i);for(const d of bm.values())l.addComponent(d);const c=new IA(t,r,l);return zd.set(i,c),c}function oT(n=Im){const e=zd.get(n);if(!e&&n===Im&&ZE())return sT();if(!e)throw Ts.create("no-app",{appName:n});return e}function Ss(n,e,t){var r;let i=(r=TA[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(c.join(" "));return}Na(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebase-heartbeat-database",CA=1,hu="firebase-heartbeat-store";let Zp=null;function aT(){return Zp||(Zp=H2(bA,CA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ts.create("idb-open",{originalErrorMessage:n.message})})),Zp}async function PA(n){try{const t=(await aT()).transaction(hu),r=await t.objectStore(hu).get(lT(n));return await t.done,r}catch(e){if(e instanceof ji)Ri.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(t.message)}}}async function k_(n,e){try{const r=(await aT()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,lT(n)),await r.done}catch(t){if(t instanceof ji)Ri.warn(t.message);else{const r=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(r.message)}}}function lT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=1024,RA=30;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=N_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>RA){const l=DA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=N_(),{heartbeatsToSend:r,unsentEntries:i}=NA(this._heartbeatsCache.heartbeats),a=$d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ri.warn(t),""}}}function N_(){return new Date().toISOString().substring(0,10)}function NA(n,e=AA){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),O_(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),O_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class OA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return k_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return k_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function O_(n){return $d(JSON.stringify({version:2,heartbeats:n})).length}function DA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n){Na(new Eo("platform-logger",e=>new K2(e),"PRIVATE")),Na(new Eo("heartbeat",e=>new kA(e),"PRIVATE")),Ss(xm,A_,n),Ss(xm,A_,"esm2017"),Ss("fire-js","")}VA("");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,uT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function k(){}k.prototype=C.prototype,D.D=C.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(L,F,$){for(var V=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)V[ye-2]=arguments[ye];return C.prototype[F].apply(L,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,C,k){k||(k=0);var L=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)L[F]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(F=0;16>F;++F)L[F]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=D.g[0],k=D.g[1],F=D.g[2];var $=D.g[3],V=C+($^k&(F^$))+L[0]+3614090360&4294967295;C=k+(V<<7&4294967295|V>>>25),V=$+(F^C&(k^F))+L[1]+3905402710&4294967295,$=C+(V<<12&4294967295|V>>>20),V=F+(k^$&(C^k))+L[2]+606105819&4294967295,F=$+(V<<17&4294967295|V>>>15),V=k+(C^F&($^C))+L[3]+3250441966&4294967295,k=F+(V<<22&4294967295|V>>>10),V=C+($^k&(F^$))+L[4]+4118548399&4294967295,C=k+(V<<7&4294967295|V>>>25),V=$+(F^C&(k^F))+L[5]+1200080426&4294967295,$=C+(V<<12&4294967295|V>>>20),V=F+(k^$&(C^k))+L[6]+2821735955&4294967295,F=$+(V<<17&4294967295|V>>>15),V=k+(C^F&($^C))+L[7]+4249261313&4294967295,k=F+(V<<22&4294967295|V>>>10),V=C+($^k&(F^$))+L[8]+1770035416&4294967295,C=k+(V<<7&4294967295|V>>>25),V=$+(F^C&(k^F))+L[9]+2336552879&4294967295,$=C+(V<<12&4294967295|V>>>20),V=F+(k^$&(C^k))+L[10]+4294925233&4294967295,F=$+(V<<17&4294967295|V>>>15),V=k+(C^F&($^C))+L[11]+2304563134&4294967295,k=F+(V<<22&4294967295|V>>>10),V=C+($^k&(F^$))+L[12]+1804603682&4294967295,C=k+(V<<7&4294967295|V>>>25),V=$+(F^C&(k^F))+L[13]+4254626195&4294967295,$=C+(V<<12&4294967295|V>>>20),V=F+(k^$&(C^k))+L[14]+2792965006&4294967295,F=$+(V<<17&4294967295|V>>>15),V=k+(C^F&($^C))+L[15]+1236535329&4294967295,k=F+(V<<22&4294967295|V>>>10),V=C+(F^$&(k^F))+L[1]+4129170786&4294967295,C=k+(V<<5&4294967295|V>>>27),V=$+(k^F&(C^k))+L[6]+3225465664&4294967295,$=C+(V<<9&4294967295|V>>>23),V=F+(C^k&($^C))+L[11]+643717713&4294967295,F=$+(V<<14&4294967295|V>>>18),V=k+($^C&(F^$))+L[0]+3921069994&4294967295,k=F+(V<<20&4294967295|V>>>12),V=C+(F^$&(k^F))+L[5]+3593408605&4294967295,C=k+(V<<5&4294967295|V>>>27),V=$+(k^F&(C^k))+L[10]+38016083&4294967295,$=C+(V<<9&4294967295|V>>>23),V=F+(C^k&($^C))+L[15]+3634488961&4294967295,F=$+(V<<14&4294967295|V>>>18),V=k+($^C&(F^$))+L[4]+3889429448&4294967295,k=F+(V<<20&4294967295|V>>>12),V=C+(F^$&(k^F))+L[9]+568446438&4294967295,C=k+(V<<5&4294967295|V>>>27),V=$+(k^F&(C^k))+L[14]+3275163606&4294967295,$=C+(V<<9&4294967295|V>>>23),V=F+(C^k&($^C))+L[3]+4107603335&4294967295,F=$+(V<<14&4294967295|V>>>18),V=k+($^C&(F^$))+L[8]+1163531501&4294967295,k=F+(V<<20&4294967295|V>>>12),V=C+(F^$&(k^F))+L[13]+2850285829&4294967295,C=k+(V<<5&4294967295|V>>>27),V=$+(k^F&(C^k))+L[2]+4243563512&4294967295,$=C+(V<<9&4294967295|V>>>23),V=F+(C^k&($^C))+L[7]+1735328473&4294967295,F=$+(V<<14&4294967295|V>>>18),V=k+($^C&(F^$))+L[12]+2368359562&4294967295,k=F+(V<<20&4294967295|V>>>12),V=C+(k^F^$)+L[5]+4294588738&4294967295,C=k+(V<<4&4294967295|V>>>28),V=$+(C^k^F)+L[8]+2272392833&4294967295,$=C+(V<<11&4294967295|V>>>21),V=F+($^C^k)+L[11]+1839030562&4294967295,F=$+(V<<16&4294967295|V>>>16),V=k+(F^$^C)+L[14]+4259657740&4294967295,k=F+(V<<23&4294967295|V>>>9),V=C+(k^F^$)+L[1]+2763975236&4294967295,C=k+(V<<4&4294967295|V>>>28),V=$+(C^k^F)+L[4]+1272893353&4294967295,$=C+(V<<11&4294967295|V>>>21),V=F+($^C^k)+L[7]+4139469664&4294967295,F=$+(V<<16&4294967295|V>>>16),V=k+(F^$^C)+L[10]+3200236656&4294967295,k=F+(V<<23&4294967295|V>>>9),V=C+(k^F^$)+L[13]+681279174&4294967295,C=k+(V<<4&4294967295|V>>>28),V=$+(C^k^F)+L[0]+3936430074&4294967295,$=C+(V<<11&4294967295|V>>>21),V=F+($^C^k)+L[3]+3572445317&4294967295,F=$+(V<<16&4294967295|V>>>16),V=k+(F^$^C)+L[6]+76029189&4294967295,k=F+(V<<23&4294967295|V>>>9),V=C+(k^F^$)+L[9]+3654602809&4294967295,C=k+(V<<4&4294967295|V>>>28),V=$+(C^k^F)+L[12]+3873151461&4294967295,$=C+(V<<11&4294967295|V>>>21),V=F+($^C^k)+L[15]+530742520&4294967295,F=$+(V<<16&4294967295|V>>>16),V=k+(F^$^C)+L[2]+3299628645&4294967295,k=F+(V<<23&4294967295|V>>>9),V=C+(F^(k|~$))+L[0]+4096336452&4294967295,C=k+(V<<6&4294967295|V>>>26),V=$+(k^(C|~F))+L[7]+1126891415&4294967295,$=C+(V<<10&4294967295|V>>>22),V=F+(C^($|~k))+L[14]+2878612391&4294967295,F=$+(V<<15&4294967295|V>>>17),V=k+($^(F|~C))+L[5]+4237533241&4294967295,k=F+(V<<21&4294967295|V>>>11),V=C+(F^(k|~$))+L[12]+1700485571&4294967295,C=k+(V<<6&4294967295|V>>>26),V=$+(k^(C|~F))+L[3]+2399980690&4294967295,$=C+(V<<10&4294967295|V>>>22),V=F+(C^($|~k))+L[10]+4293915773&4294967295,F=$+(V<<15&4294967295|V>>>17),V=k+($^(F|~C))+L[1]+2240044497&4294967295,k=F+(V<<21&4294967295|V>>>11),V=C+(F^(k|~$))+L[8]+1873313359&4294967295,C=k+(V<<6&4294967295|V>>>26),V=$+(k^(C|~F))+L[15]+4264355552&4294967295,$=C+(V<<10&4294967295|V>>>22),V=F+(C^($|~k))+L[6]+2734768916&4294967295,F=$+(V<<15&4294967295|V>>>17),V=k+($^(F|~C))+L[13]+1309151649&4294967295,k=F+(V<<21&4294967295|V>>>11),V=C+(F^(k|~$))+L[4]+4149444226&4294967295,C=k+(V<<6&4294967295|V>>>26),V=$+(k^(C|~F))+L[11]+3174756917&4294967295,$=C+(V<<10&4294967295|V>>>22),V=F+(C^($|~k))+L[2]+718787259&4294967295,F=$+(V<<15&4294967295|V>>>17),V=k+($^(F|~C))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var k=C-this.blockSize,L=this.B,F=this.h,$=0;$<C;){if(F==0)for(;$<=k;)i(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<C;)if(L[F++]=D.charCodeAt($++),F==this.blockSize){i(this,L),F=0;break}}else for(;$<C;)if(L[F++]=D[$++],F==this.blockSize){i(this,L),F=0;break}}this.h=F,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var k=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=k&255,k/=256;for(this.u(D),D=Array(16),C=k=0;4>C;++C)for(var L=0;32>L;L+=8)D[k++]=this.g[C]>>>L&255;return D};function a(D,C){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=C(D)}function l(D,C){this.h=C;for(var k=[],L=!0,F=D.length-1;0<=F;F--){var $=D[F]|0;L&&$==C||(k[F]=$,L=!1)}this.g=k}var c={};function d(D){return-128<=D&&128>D?a(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return A(f(-D));for(var C=[],k=1,L=0;D>=k;L++)C[L]=D/k|0,k*=4294967296;return new l(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return A(m(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(C,8)),L=y,F=0;F<D.length;F+=8){var $=Math.min(8,D.length-F),V=parseInt(D.substring(F,F+$),C);8>$?($=f(Math.pow(C,$)),L=L.j($).add(f(V))):(L=L.j(k),L=L.add(f(V)))}return L}var y=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-A(this).m();for(var D=0,C=1,k=0;k<this.g.length;k++){var L=this.i(k);D+=(0<=L?L:4294967296+L)*C,C*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(R(this))return"-"+A(this).toString(D);for(var C=f(Math.pow(D,6)),k=this,L="";;){var F=M(k,C).g;k=j(k,F.j(C));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=F,x(k))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=j(this,D),R(D)?-1:x(D)?0:1};function A(D){for(var C=D.g.length,k=[],L=0;L<C;L++)k[L]=~D.g[L];return new l(k,~D.h).add(_)}n.abs=function(){return R(this)?A(this):this},n.add=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],L=0,F=0;F<=C;F++){var $=L+(this.i(F)&65535)+(D.i(F)&65535),V=($>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);L=V>>>16,$&=65535,V&=65535,k[F]=V<<16|$}return new l(k,k[k.length-1]&-2147483648?-1:0)};function j(D,C){return D.add(A(C))}n.j=function(D){if(x(this)||x(D))return y;if(R(this))return R(D)?A(this).j(A(D)):A(A(this).j(D));if(R(D))return A(this.j(A(D)));if(0>this.l(T)&&0>D.l(T))return f(this.m()*D.m());for(var C=this.g.length+D.g.length,k=[],L=0;L<2*C;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<D.g.length;F++){var $=this.i(L)>>>16,V=this.i(L)&65535,ye=D.i(F)>>>16,Re=D.i(F)&65535;k[2*L+2*F]+=V*Re,I(k,2*L+2*F),k[2*L+2*F+1]+=$*Re,I(k,2*L+2*F+1),k[2*L+2*F+1]+=V*ye,I(k,2*L+2*F+1),k[2*L+2*F+2]+=$*ye,I(k,2*L+2*F+2)}for(L=0;L<C;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=C;L<2*C;L++)k[L]=0;return new l(k,0)};function I(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function N(D,C){this.g=D,this.h=C}function M(D,C){if(x(C))throw Error("division by zero");if(x(D))return new N(y,y);if(R(D))return C=M(A(D),C),new N(A(C.g),A(C.h));if(R(C))return C=M(D,A(C)),new N(A(C.g),C.h);if(30<D.g.length){if(R(D)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var k=_,L=C;0>=L.l(D);)k=B(k),L=B(L);var F=Y(k,1),$=Y(L,1);for(L=Y(L,2),k=Y(k,2);!x(L);){var V=$.add(L);0>=V.l(D)&&(F=F.add(k),$=V),L=Y(L,1),k=Y(k,1)}return C=j(D,F.j(C)),new N(F,C)}for(F=y;0<=D.l(C);){for(k=Math.max(1,Math.floor(D.m()/C.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=f(k),V=$.j(C);R(V)||0<V.l(D);)k-=L,$=f(k),V=$.j(C);x($)&&($=_),F=F.add($),D=j(D,V)}return new N(F,D)}n.A=function(D){return M(this,D).h},n.and=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)&D.i(L);return new l(k,this.h&D.h)},n.or=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)|D.i(L);return new l(k,this.h|D.h)},n.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)^D.i(L);return new l(k,this.h^D.h)};function B(D){for(var C=D.g.length+1,k=[],L=0;L<C;L++)k[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(k,D.h)}function Y(D,C){var k=C>>5;C%=32;for(var L=D.g.length-k,F=[],$=0;$<L;$++)F[$]=0<C?D.i($+k)>>>C|D.i($+k+1)<<32-C:D.i($+k);return new l(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,xs=l}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cT,Kl,dT,Pd,Cm,hT,fT,pT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,S){return h==Array.prototype||h==Object.prototype||(h[w]=S.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var w=0;w<h.length;++w){var S=h[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(h,w){if(w)e:{var S=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var K=h[O];if(!(K in S))break e;S=S[K]}h=h[h.length-1],O=S[h],w=w(O),w!=O&&w!=null&&e(S,h,{configurable:!0,writable:!0,value:w})}}function a(h,w){h instanceof String&&(h+="");var S=0,O=!1,K={next:function(){if(!O&&S<h.length){var ee=S++;return{value:w(ee,h[ee]),done:!1}}return O=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(h){return h||function(){return a(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function f(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function m(h,w,S){return h.call.apply(h.bind,arguments)}function y(h,w,S){if(!h)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,O),h.apply(w,K)}}return function(){return h.apply(w,arguments)}}function _(h,w,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function T(h,w){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function x(h,w){function S(){}S.prototype=w.prototype,h.aa=w.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(O,K,ee){for(var ge=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ge[yt-2]=arguments[yt];return w.prototype[K].apply(O,ge)}}function R(h){const w=h.length;if(0<w){const S=Array(w);for(let O=0;O<w;O++)S[O]=h[O];return S}return[]}function A(h,w){for(let S=1;S<arguments.length;S++){const O=arguments[S];if(d(O)){const K=h.length||0,ee=O.length||0;h.length=K+ee;for(let ge=0;ge<ee;ge++)h[K+ge]=O[ge]}else h.push(O)}}class j{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function I(h){return/^[\s\xa0]*$/.test(h)}function N(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function M(h){return M[" "](h),h}M[" "]=function(){};var B=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function Y(h,w,S){for(const O in h)w.call(S,h[O],O,h)}function D(h,w){for(const S in h)w.call(void 0,h[S],S,h)}function C(h){const w={};for(const S in h)w[S]=h[S];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,w){let S,O;for(let K=1;K<arguments.length;K++){O=arguments[K];for(S in O)h[S]=O[S];for(let ee=0;ee<k.length;ee++)S=k[ee],Object.prototype.hasOwnProperty.call(O,S)&&(h[S]=O[S])}}function F(h){var w=1;h=h.split(":");const S=[];for(;0<w&&h.length;)S.push(h.shift()),w--;return h.length&&S.push(h.join(":")),S}function $(h){c.setTimeout(()=>{throw h},0)}function V(){var h=ae;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class ye{constructor(){this.h=this.g=null}add(w,S){const O=Re.get();O.set(w,S),this.h?this.h.next=O:this.g=O,this.h=O}}var Re=new j(()=>new ve,h=>h.reset());class ve{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Q=!1,ae=new ye,ne=()=>{const h=c.Promise.resolve(void 0);Ee=()=>{h.then(z)}};var z=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(S){$(S)}var w=Re;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}Q=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,w),c.removeEventListener("test",S,w)}catch{}return h}();function Ne(h,w){if(pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(B){e:{try{M(w.nodeName);var K=!0;break e}catch{}K=!1}K||(w=null)}}else S=="mouseover"?w=h.fromElement:S=="mouseout"&&(w=h.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:$e[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}x(Ne,pe);var $e={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function at(h,w,S,O,K){this.listener=h,this.proxy=null,this.src=w,this.type=S,this.capture=!!O,this.ha=K,this.key=++Ge,this.da=this.fa=!1}function vt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function _t(h){this.src=h,this.g={},this.h=0}_t.prototype.add=function(h,w,S,O,K){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ge=Rt(h,w,O,K);return-1<ge?(w=h[ge],S||(w.fa=!1)):(w=new at(w,this.src,ee,!!O,K),w.fa=S,h.push(w)),w};function Wt(h,w){var S=w.type;if(S in h.g){var O=h.g[S],K=Array.prototype.indexOf.call(O,w,void 0),ee;(ee=0<=K)&&Array.prototype.splice.call(O,K,1),ee&&(vt(w),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Rt(h,w,S,O){for(var K=0;K<h.length;++K){var ee=h[K];if(!ee.da&&ee.listener==w&&ee.capture==!!S&&ee.ha==O)return K}return-1}var li="closure_lm_"+(1e6*Math.random()|0),ui={};function Mi(h,w,S,O,K){if(Array.isArray(w)){for(var ee=0;ee<w.length;ee++)Mi(h,w[ee],S,O,K);return null}return S=le(S),h&&h[Ze]?h.K(w,S,f(O)?!!O.capture:!1,K):Us(h,w,S,!1,O,K)}function Us(h,w,S,O,K,ee){if(!w)throw Error("Invalid event type");var ge=f(K)?!!K.capture:!!K,yt=Br(h);if(yt||(h[li]=yt=new _t(h)),S=yt.add(w,S,O,ge,ee),S.proxy)return S;if(O=ci(),S.proxy=O,O.src=h,O.listener=S,h.addEventListener)Se||(K=ge),K===void 0&&(K=!1),h.addEventListener(w.toString(),O,K);else if(h.attachEvent)h.attachEvent($n(w.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ci(){function h(S){return w.call(h.src,h.listener,S)}const w=Ur;return h}function Fi(h,w,S,O,K){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)Fi(h,w[ee],S,O,K);else O=f(O)?!!O.capture:!!O,S=le(S),h&&h[Ze]?(h=h.i,w=String(w).toString(),w in h.g&&(ee=h.g[w],S=Rt(ee,S,O,K),-1<S&&(vt(ee[S]),Array.prototype.splice.call(ee,S,1),ee.length==0&&(delete h.g[w],h.h--)))):h&&(h=Br(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Rt(w,S,O,K)),(S=-1<h?w[h]:null)&&er(S))}function er(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Ze])Wt(w.i,h);else{var S=h.type,O=h.proxy;w.removeEventListener?w.removeEventListener(S,O,h.capture):w.detachEvent?w.detachEvent($n(S),O):w.addListener&&w.removeListener&&w.removeListener(O),(S=Br(w))?(Wt(S,h),S.h==0&&(S.src=null,w[li]=null)):vt(h)}}}function $n(h){return h in ui?ui[h]:ui[h]="on"+h}function Ur(h,w){if(h.da)h=!0;else{w=new Ne(w,this);var S=h.listener,O=h.ha||h.src;h.fa&&er(h),h=S.call(O,w)}return h}function Br(h){return h=h[li],h instanceof _t?h:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(h){return typeof h=="function"?h:(h[Ui]||(h[Ui]=function(w){return h.handleEvent(w)}),h[Ui])}function q(){Z.call(this),this.i=new _t(this),this.M=this,this.F=null}x(q,Z),q.prototype[Ze]=!0,q.prototype.removeEventListener=function(h,w,S,O){Fi(this,h,w,S,O)};function se(h,w){var S,O=h.F;if(O)for(S=[];O;O=O.F)S.push(O);if(h=h.M,O=w.type||w,typeof w=="string")w=new pe(w,h);else if(w instanceof pe)w.target=w.target||h;else{var K=w;w=new pe(O,h),L(w,K)}if(K=!0,S)for(var ee=S.length-1;0<=ee;ee--){var ge=w.g=S[ee];K=de(ge,O,!0,w)&&K}if(ge=w.g=h,K=de(ge,O,!0,w)&&K,K=de(ge,O,!1,w)&&K,S)for(ee=0;ee<S.length;ee++)ge=w.g=S[ee],K=de(ge,O,!1,w)&&K}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var S=h.g[w],O=0;O<S.length;O++)vt(S[O]);delete h.g[w],h.h--}}this.F=null},q.prototype.K=function(h,w,S,O){return this.i.add(String(h),w,!1,S,O)},q.prototype.L=function(h,w,S,O){return this.i.add(String(h),w,!0,S,O)};function de(h,w,S,O){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var K=!0,ee=0;ee<w.length;++ee){var ge=w[ee];if(ge&&!ge.da&&ge.capture==S){var yt=ge.listener,qt=ge.ha||ge.src;ge.fa&&Wt(h.i,ge),K=yt.call(qt,O)!==!1&&K}}return K&&!O.defaultPrevented}function ze(h,w,S){if(typeof h=="function")S&&(h=_(h,S));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(h,w||0)}function Ue(h){h.g=ze(()=>{h.g=null,h.i&&(h.i=!1,Ue(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Xe extends Z{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(h){Z.call(this),this.h=h,this.g={}}x(te,Z);var re=[];function be(h){Y(h.g,function(w,S){this.g.hasOwnProperty(S)&&er(w)},h),h.g={}}te.prototype.N=function(){te.aa.N.call(this),be(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=c.JSON.stringify,_e=c.JSON.parse,qe=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function dt(){}dt.prototype.h=null;function pt(h){return h.h||(h.h=h.i())}function lt(){}var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ht(){pe.call(this,"d")}x(ht,pe);function kt(){pe.call(this,"c")}x(kt,pe);var on={},zn=null;function tr(){return zn=zn||new q}on.La="serverreachability";function Bi(h){pe.call(this,on.La,h)}x(Bi,pe);function nr(h){const w=tr();se(w,new Bi(w))}on.STAT_EVENT="statevent";function rl(h,w){pe.call(this,on.STAT_EVENT,h),this.stat=w}x(rl,pe);function jt(h){const w=tr();se(w,new rl(w,h))}on.Ma="timingevent";function ko(h,w){pe.call(this,on.Ma,h),this.size=w}x(ko,pe);function gr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},w)}function Bs(){this.g=!0}Bs.prototype.xa=function(){this.g=!1};function $s(h,w,S,O,K,ee){h.info(function(){if(h.g)if(ee)for(var ge="",yt=ee.split("&"),qt=0;qt<yt.length;qt++){var it=yt[qt].split("=");if(1<it.length){var Zt=it[0];it=it[1];var Ut=Zt.split("_");ge=2<=Ut.length&&Ut[1]=="type"?ge+(Zt+"="+it+"&"):ge+(Zt+"=redacted&")}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+O+") [attempt "+K+"]: "+w+`
`+S+`
`+ge})}function No(h,w,S,O,K,ee,ge){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+K+"]: "+w+`
`+S+`
`+ee+" "+ge})}function yr(h,w,S,O){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+gf(h,S)+(O?" "+O:"")})}function il(h,w){h.info(function(){return"TIMEOUT: "+w})}Bs.prototype.info=function(){};function gf(h,w){if(!h.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var O=S[h];if(!(2>O.length)){var K=O[1];if(Array.isArray(K)&&!(1>K.length)){var ee=K[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ge=1;ge<K.length;ge++)K[ge]=""}}}}return Te(S)}catch{return w}}var Oo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function zs(){}x(zs,dt),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},vr=new zs;function _r(h,w,S,O){this.j=h,this.i=w,this.l=S,this.R=O||1,this.U=new te(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}var sl={},Do={};function Vo(h,w,S){h.L=1,h.v=qi(Wn(w)),h.m=S,h.P=!0,ol(h,null)}function ol(h,w){h.F=Date.now(),Et(h),h.A=Wn(h.v);var S=h.A,O=h.R;Array.isArray(O)||(O=[String(O)]),Gi(S.i,"t",O),h.C=0,S=h.j.J,h.h=new Ju,h.g=gc(h.j,S?w:null,!h.m),0<h.O&&(h.M=new Xe(_(h.Y,h,h.g),h.O)),w=h.U,S=h.g,O=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(re[0]=K.toString()),K=re);for(var ee=0;ee<K.length;ee++){var ge=Mi(S,K[ee],O||w.handleEvent,!1,w.h||w);if(!ge)break;w.g[ge.key]=ge}w=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),nr(),$s(h.i,h.u,h.A,h.l,h.R,h.m)}_r.prototype.ca=function(h){h=h.target;const w=this.M;w&&Nn(h)==3?w.j():this.Y(h)},_r.prototype.Y=function(h){try{if(h==this.g)e:{const Ut=Nn(this.g);var w=this.g.Ba();const sr=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||hl(this.g)))){this.J||Ut!=4||w==7||(w==8||0>=sr?nr(3):nr(2)),Hs(this);var S=this.g.Z();this.X=S;t:if(Zu(this)){var O=hl(this.g);h="";var K=O.length,ee=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rr(this),$i(this);var ge="";break t}this.h.i=new c.TextDecoder}for(w=0;w<K;w++)this.h.h=!0,h+=this.h.i.decode(O[w],{stream:!(ee&&w==K-1)});O.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,No(this.i,this.u,this.A,this.l,this.R,Ut,S),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,qt=this.g;if((yt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(yt)){var it=yt;break t}}it=null}if(S=it)yr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,al(this,S);else{this.o=!1,this.s=3,jt(12),rr(this),$i(this);break e}}if(this.P){S=!0;let Kn;for(;!this.J&&this.C<ge.length;)if(Kn=yf(this,ge),Kn==Do){Ut==4&&(this.s=4,jt(14),S=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==sl){this.s=4,jt(15),yr(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else yr(this.i,this.l,Kn,null),al(this,Kn);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ge.length!=0||this.h.h||(this.s=1,jt(16),S=!1),this.o=this.o&&S,!S)yr(this.i,this.l,ge,"[Invalid Chunked Response]"),rr(this),$i(this);else if(0<ge.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),pl(Zt),Zt.M=!0,jt(11))}}else yr(this.i,this.l,ge,null),al(this,ge);Ut==4&&rr(this),this.o&&!this.J&&(Ut==4?qo(this.j,this):(this.o=!1,Et(this)))}else Bo(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),rr(this),$i(this)}}}catch{}finally{}};function Zu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function yf(h,w){var S=h.C,O=w.indexOf(`
`,S);return O==-1?Do:(S=Number(w.substring(S,O)),isNaN(S)?sl:(O+=1,O+S>w.length?Do:(w=w.slice(O,O+S),h.C=O+S,w)))}_r.prototype.cancel=function(){this.J=!0,rr(this)};function Et(h){h.S=Date.now()+h.I,ec(h,h.I)}function ec(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=gr(_(h.ba,h),w)}function Hs(h){h.B&&(c.clearTimeout(h.B),h.B=null)}_r.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(il(this.i,this.A),this.L!=2&&(nr(),jt(17)),rr(this),this.s=2,$i(this)):ec(this,this.S-h)};function $i(h){h.j.G==0||h.J||qo(h.j,h)}function rr(h){Hs(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,be(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function al(h,w){try{var S=h.j;if(S.G!=0&&(S.g==h||xn(S.h,h))){if(!h.K&&xn(S.h,h)&&S.G==3){try{var O=S.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var K=O;if(K[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)Wo(S),xr(S);else break e;Ho(S),jt(18)}}else S.za=K[1],0<S.za-S.T&&37500>K[2]&&S.F&&S.v==0&&!S.C&&(S.C=gr(_(S.Za,S),6e3));if(1>=nc(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else mi(S,11)}else if((h.K||S.g==h)&&Wo(S),!I(w))for(K=S.Da.g.parse(w),w=0;w<K.length;w++){let it=K[w];if(S.T=it[0],it=it[1],S.G==2)if(it[0]=="c"){S.K=it[1],S.ia=it[2];const Zt=it[3];Zt!=null&&(S.la=Zt,S.j.info("VER="+S.la));const Ut=it[4];Ut!=null&&(S.Aa=Ut,S.j.info("SVER="+S.Aa));const sr=it[5];sr!=null&&typeof sr=="number"&&0<sr&&(O=1.5*sr,S.L=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const Kn=h.g;if(Kn){const Xs=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var ee=O.h;ee.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(ll(ee,ee.h),ee.h=null))}if(O.D){const Go=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(O.ya=Go,wt(O.I,O.D,Go))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),O=S;var ge=h;if(O.qa=mc(O,O.J?O.ia:null,O.W),ge.K){rc(O.h,ge);var yt=ge,qt=O.L;qt&&(yt.I=qt),yt.B&&(Hs(yt),Et(yt)),O.g=ge}else Ys(O);0<S.i.length&&Wr(S)}else it[0]!="stop"&&it[0]!="close"||mi(S,7);else S.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?mi(S,7):ln(S):it[0]!="noop"&&S.l&&S.l.ta(it),S.v=0)}}nr(4)}catch{}}var tc=class{constructor(h,w){this.g=h,this.map=w}};function Ws(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nc(h){return h.h?1:h.g?h.g.size:0}function xn(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function ll(h,w){h.g?h.g.add(w):h.h=w}function rc(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Ws.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ic(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const S of h.g.values())w=w.concat(S.D);return w}return R(h.i)}function Lo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var w=[],S=h.length,O=0;O<S;O++)w.push(h[O]);return w}w=[],S=0;for(O in h)w[S++]=h[O];return w}function jo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var w=[];h=h.length;for(var S=0;S<h;S++)w.push(S);return w}w=[],S=0;for(const O in h)w[S++]=O;return w}}}function zi(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var S=jo(h),O=Lo(h),K=O.length,ee=0;ee<K;ee++)w.call(void 0,O[ee],S&&S[ee],h)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(h,w){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var O=h[S].indexOf("="),K=null;if(0<=O){var ee=h[S].substring(0,O);K=h[S].substring(O+1)}else ee=h[S];w(ee,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function di(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof di){this.h=h.h,Ks(this,h.j),this.o=h.o,this.g=h.g,Hi(this,h.s),this.l=h.l;var w=h.i,S=new $r;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),Wi(this,S),this.m=h.m}else h&&(w=String(h).match(qs))?(this.h=!1,Ks(this,w[1]||"",!0),this.o=nt(w[2]||""),this.g=nt(w[3]||"",!0),Hi(this,w[4]),this.l=nt(w[5]||"",!0),Wi(this,w[6]||"",!0),this.m=nt(w[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}di.prototype.toString=function(){var h=[],w=this.j;w&&h.push(Ki(w,Mo,!0),":");var S=this.g;return(S||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Ki(w,Mo,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Ki(S,S.charAt(0)=="/"?ac:oc,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Ki(S,ul)),h.join("")};function Wn(h){return new di(h)}function Ks(h,w,S){h.j=S?nt(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Hi(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Wi(h,w,S){w instanceof $r?(h.i=w,zr(h.i,h.h)):(S||(w=Ki(w,lc)),h.i=new $r(w,h.h))}function wt(h,w,S){h.i.set(w,S)}function qi(h){return wt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function nt(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ki(h,w,S){return typeof h=="string"?(h=encodeURI(h).replace(w,sc),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Mo=/[#\/\?@]/g,oc=/[#\?:]/g,ac=/[#\?]/g,lc=/[#\?@]/g,ul=/#/g;function $r(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function an(h){h.g||(h.g=new Map,h.h=0,h.i&&vf(h.i,function(w,S){h.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}n=$r.prototype,n.add=function(h,w){an(this),this.i=null,h=ir(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(w),this.h+=1,this};function wr(h,w){an(h),w=ir(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Er(h,w){return an(h),w=ir(h,w),h.g.has(w)}n.forEach=function(h,w){an(this),this.g.forEach(function(S,O){S.forEach(function(K){h.call(w,K,O,this)},this)},this)},n.na=function(){an(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let O=0;O<w.length;O++){const K=h[O];for(let ee=0;ee<K.length;ee++)S.push(w[O])}return S},n.V=function(h){an(this);let w=[];if(typeof h=="string")Er(this,h)&&(w=w.concat(this.g.get(ir(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)w=w.concat(h[S])}return w},n.set=function(h,w){return an(this),this.i=null,h=ir(this,h),Er(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},n.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Gi(h,w,S){wr(h,w),0<S.length&&(h.i=null,h.g.set(ir(h,w),R(S)),h.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var O=w[S];const ee=encodeURIComponent(String(O)),ge=this.V(O);for(O=0;O<ge.length;O++){var K=ee;ge[O]!==""&&(K+="="+encodeURIComponent(String(ge[O]))),h.push(K)}}return this.i=h.join("&")};function ir(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function zr(h,w){w&&!h.j&&(an(h),h.i=null,h.g.forEach(function(S,O){var K=O.toLowerCase();O!=K&&(wr(this,O),Gi(this,K,S))},h)),h.j=w}function _f(h,w){const S=new Bs;if(c.Image){const O=new Image;O.onload=T(kn,S,"TestLoadImage: loaded",!0,w,O),O.onerror=T(kn,S,"TestLoadImage: error",!1,w,O),O.onabort=T(kn,S,"TestLoadImage: abort",!1,w,O),O.ontimeout=T(kn,S,"TestLoadImage: timeout",!1,w,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else w(!1)}function uc(h,w){const S=new Bs,O=new AbortController,K=setTimeout(()=>{O.abort(),kn(S,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:O.signal}).then(ee=>{clearTimeout(K),ee.ok?kn(S,"TestPingServer: ok",!0,w):kn(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(K),kn(S,"TestPingServer: error",!1,w)})}function kn(h,w,S,O,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),O(S)}catch{}}function wf(){this.g=new qe}function cc(h,w,S){const O=S||"";try{zi(h,function(K,ee){let ge=K;f(K)&&(ge=Te(K)),w.push(O+ee+"="+encodeURIComponent(ge))})}catch(K){throw w.push(O+"type="+encodeURIComponent("_badmap")),K}}function hi(h){this.l=h.Ub||null,this.j=h.eb||!1}x(hi,dt),hi.prototype.g=function(){return new Gs(this.l,this.j)},hi.prototype.i=function(h){return function(){return h}}({});function Gs(h,w){q.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Gs,q),n=Gs.prototype,n.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Sr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function dc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Tr(this):Sr(this),this.readyState==3&&dc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Tr(this))},n.Qa=function(h){this.g&&(this.response=h,Tr(this))},n.ga=function(){this.g&&Tr(this)};function Tr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Sr(h)}n.setRequestHeader=function(h,w){this.u.append(h,w)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=w.next();return h.join(`\r
`)};function Sr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function fi(h){let w="";return Y(h,function(S,O){w+=O,w+=":",w+=S,w+=`\r
`}),w}function Qi(h,w,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=fi(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):wt(h,w,S))}function Ct(h){q.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ct,q);var Ef=/^https?$/i,cl=["POST","PUT"];n=Ct.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,w,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?pt(this.o):pt(vr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(ee){Qs(this,ee);return}if(h=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var K in O)S.set(K,O[K]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ee of O.keys())S.set(ee,O.get(ee));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(cl,w,void 0))||O||K||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of S)this.g.setRequestHeader(ee,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uo(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Qs(this,ee)}};function Qs(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,Fo(h),qn(h)}function Fo(h){h.A||(h.A=!0,se(h,"complete"),se(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,se(this,"complete"),se(this,"abort"),qn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?dl(this):this.bb())},n.bb=function(){dl(this)};function dl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Nn(h)!=4||h.Z()!=2)){if(h.u&&Nn(h)==4)ze(h.Ea,0,h);else if(se(h,"readystatechange"),Nn(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var O;if(O=ge===0){var K=String(h.D).match(qs)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),O=!Ef.test(K?K.toLowerCase():"")}S=O}if(S)se(h,"complete"),se(h,"success");else{h.m=6;try{var ee=2<Nn(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",Fo(h)}}finally{qn(h)}}}}function qn(h,w){if(h.g){Uo(h);const S=h.g,O=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||se(h,"ready");try{S.onreadystatechange=O}catch{}}}function Uo(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Nn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),_e(w)}};function hl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Bo(h){const w={};h=(h.g&&2<=Nn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(I(h[O]))continue;var S=F(h[O]);const K=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=w[K]||[];w[K]=ee,ee.push(S)}D(w,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(h,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||w}function fl(h){this.Aa=0,this.i=[],this.j=new Bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,h),this.cb=Hr("retryDelaySeedMs",1e4,h),this.Wa=Hr("forwardChannelMaxRetries",2,h),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ws(h&&h.concurrentRequestLimit),this.Da=new wf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fl.prototype,n.la=8,n.G=1,n.connect=function(h,w,S,O){jt(0),this.W=h,this.H=w||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.I=mc(this,null,this.W),Wr(this)};function ln(h){if($o(h),h.G==3){var w=h.U++,S=Wn(h.I);if(wt(S,"SID",h.K),wt(S,"RID",w),wt(S,"TYPE","terminate"),pi(h,S),w=new _r(h,h.j,w),w.L=2,w.v=qi(Wn(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=w.v,S=!0),S||(w.g=gc(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Et(w)}pc(h)}function xr(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function $o(h){xr(h),h.u&&(c.clearTimeout(h.u),h.u=null),Wo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Wr(h){if(!Hn(h.h)&&!h.s){h.s=!0;var w=h.Ga;Ee||ne(),Q||(Ee(),Q=!0),ae.add(w,h),h.B=0}}function Tf(h,w){return nc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=gr(_(h.Ga,h,w),fc(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new _r(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=C(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||(K.H=ee,ee=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Yi(this,K,w),S=Wn(this.I),wt(S,"RID",h),wt(S,"CVER",22),this.D&&wt(S,"X-HTTP-Session-Id",this.D),pi(this,S),ee&&(this.O?w="headers="+encodeURIComponent(String(fi(ee)))+"&"+w:this.m&&Qi(S,this.m,ee)),ll(this.h,K),this.Ua&&wt(S,"TYPE","init"),this.P?(wt(S,"$req",w),wt(S,"SID","null"),K.T=!0,Vo(K,S,null)):Vo(K,S,w),this.G=2}}else this.G==3&&(h?zo(this,h):this.i.length==0||Hn(this.h)||zo(this))};function zo(h,w){var S;w?S=w.l:S=h.U++;const O=Wn(h.I);wt(O,"SID",h.K),wt(O,"RID",S),wt(O,"AID",h.T),pi(h,O),h.m&&h.o&&Qi(O,h.m,h.o),S=new _r(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Yi(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ll(h.h,S),Vo(S,O,w)}function pi(h,w){h.H&&Y(h.H,function(S,O){wt(w,O,S)}),h.l&&zi({},function(S,O){wt(w,O,S)})}function Yi(h,w,S){S=Math.min(h.i.length,S);var O=h.l?_(h.l.Na,h.l,h):null;e:{var K=h.i;let ee=-1;for(;;){const ge=["count="+S];ee==-1?0<S?(ee=K[0].g,ge.push("ofs="+ee)):ee=0:ge.push("ofs="+ee);let yt=!0;for(let qt=0;qt<S;qt++){let it=K[qt].g;const Zt=K[qt].map;if(it-=ee,0>it)ee=Math.max(0,K[qt].g-100),yt=!1;else try{cc(Zt,ge,"req"+it+"_")}catch{O&&O(Zt)}}if(yt){O=ge.join("&");break e}}}return h=h.i.splice(0,S),w.D=h,O}function Ys(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;Ee||ne(),Q||(Ee(),Q=!0),ae.add(w,h),h.v=0}}function Ho(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=gr(_(h.Fa,h),fc(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=gr(_(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),xr(this),hc(this))};function pl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function hc(h){h.g=new _r(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Wn(h.qa);wt(w,"RID","rpc"),wt(w,"SID",h.K),wt(w,"AID",h.T),wt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&wt(w,"TO",h.ja),wt(w,"TYPE","xmlhttp"),pi(h,w),h.m&&h.o&&Qi(w,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=qi(Wn(w)),S.m=null,S.P=!0,ol(S,h)}n.Za=function(){this.C!=null&&(this.C=null,xr(this),Ho(this),jt(19))};function Wo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function qo(h,w){var S=null;if(h.g==w){Wo(h),pl(h),h.g=null;var O=2}else if(xn(h.h,w))S=w.D,rc(h.h,w),O=1;else return;if(h.G!=0){if(w.o)if(O==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var K=h.B;O=tr(),se(O,new ko(O,S)),Wr(h)}else Ys(h);else if(K=w.s,K==3||K==0&&0<w.X||!(O==1&&Tf(h,w)||O==2&&Ho(h)))switch(S&&0<S.length&&(w=h.h,w.i=w.i.concat(S)),K){case 1:mi(h,5);break;case 4:mi(h,10);break;case 3:mi(h,6);break;default:mi(h,2)}}}function fc(h,w){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*w}function mi(h,w){if(h.j.info("Error code "+w),w==2){var S=_(h.fb,h),O=h.Xa;const K=!O;O=new di(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ks(O,"https"),qi(O),K?_f(O.toString(),S):uc(O.toString(),S)}else jt(2);h.G=0,h.l&&h.l.sa(w),pc(h),$o(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function pc(h){if(h.G=0,h.ka=[],h.l){const w=ic(h.h);(w.length!=0||h.i.length!=0)&&(A(h.ka,w),A(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function mc(h,w,S){var O=S instanceof di?Wn(S):new di(S);if(O.g!="")w&&(O.g=w+"."+O.g),Hi(O,O.s);else{var K=c.location;O=K.protocol,w=w?w+"."+K.hostname:K.hostname,K=+K.port;var ee=new di(null);O&&Ks(ee,O),w&&(ee.g=w),K&&Hi(ee,K),S&&(ee.l=S),O=ee}return S=h.D,w=h.ya,S&&w&&wt(O,S,w),wt(O,"VER",h.la),pi(h,O),O}function gc(h,w,S){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new Ct(new hi({eb:S})):new Ct(h.pa),w.Ha(h.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ml(){}n=ml.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ko(){}Ko.prototype.g=function(h,w){return new In(h,w)};function In(h,w){q.call(this),this.g=new fl(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!I(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!I(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new qr(this)}x(In,q),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){ln(this.g)},In.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Te(h),h=S);w.i.push(new tc(w.Ya++,h)),w.G==3&&Wr(w)},In.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,In.aa.N.call(this)};function yc(h){ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const S in w){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}x(yc,ht);function vc(){kt.call(this),this.status=1}x(vc,kt);function qr(h){this.g=h}x(qr,ml),qr.prototype.ua=function(){se(this.g,"a")},qr.prototype.ta=function(h){se(this.g,new yc(h))},qr.prototype.sa=function(h){se(this.g,new vc)},qr.prototype.ra=function(){se(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,pT=function(){return new Ko},fT=function(){return tr()},hT=on,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oo.NO_ERROR=0,Oo.TIMEOUT=8,Oo.HTTP_ERROR=6,Pd=Oo,Xu.COMPLETE="complete",dT=Xu,lt.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",q.prototype.listen=q.prototype.K,Kl=lt,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,cT=Ct}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore",L_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new Rg("@firebase/firestore");function va(){return To.logLevel}function xe(n,...e){if(To.logLevel<=et.DEBUG){const t=e.map(Og);To.debug(`Firestore (${Qa}): ${n}`,...t)}}function ki(n,...e){if(To.logLevel<=et.ERROR){const t=e.map(Og);To.error(`Firestore (${Qa}): ${n}`,...t)}}function Oa(n,...e){if(To.logLevel<=et.WARN){const t=e.map(Og);To.warn(`Firestore (${Qa}): ${n}`,...t)}}function Og(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,mT(n,r,t)}function mT(n,e,t){let r=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ki(r),new Error(r)}function gt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||mT(e,i,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_n.UNAUTHENTICATED))}shutdown(){}}class jA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MA{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Pi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new gT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class FA{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UA{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new FA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=a=>{a.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new j_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$A(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function Pm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Qe(r,i);{const a=yT(),l=zA(a.encode(M_(n,t)),a.encode(M_(e,t)));return l!==0?l:Qe(r,i)}}t+=r>65535?2:1}return Qe(n.length,e.length)}function M_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function zA(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qe(n[t],e[t]);return Qe(n.length,e.length)}function Da(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=-62135596800,U_=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*U_);return new Ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<F_)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-F_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ht(0,0))}static max(){return new He(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="__name__";class Jr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Jr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Qe(e.length,t.length)}static compareSegments(e,t){const r=Jr.isNumericId(e),i=Jr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):Pm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class bt extends Jr{construct(e,t,r){return new bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const HA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Jr{construct(e,t,r){return new hn(e,t,r)}static isValidIdentifier(e){return HA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B_}static keyField(){return new hn([B_])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ie(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ie(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ie(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Ie(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(bt.fromString(e))}static fromName(e){return new Oe(bt.fromString(e).popFirst(5))}static empty(){return new Oe(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function WA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new Ht(t+1,0):new Ht(t,r));return new Cs(i,Oe.empty(),e)}function qA(n){return new Cs(n.readTime,n.key,fu)}class Cs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Cs(He.min(),Oe.empty(),fu)}static max(){return new Cs(He.max(),Oe.empty(),fu)}}function KA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==GA)throw n;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},d=>r(d))}),l=!0,a===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;t(e[f]).next(m=>{l[f]=m,++c,c===a&&r(l)},m=>i(m))}})}static doWhile(e,t){return new oe((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function YA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ah.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function Rh(n){return n==null}function Hd(n){return n===0&&1/n==-1/0}function XA(n){return typeof n=="number"&&Number.isInteger(n)&&!Hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="";function JA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$_(e)),e=ZA(n.get(t),e);return $_(e)}function ZA(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case _T:t+="";break;default:t+=a}}return t}function $_(n){return n+_T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=a??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new dn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new Yt(hn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ET("Invalid base64 string: "+a):a}}(e);return new fn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=eR.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(n.seconds),nanos:Ft(n.nanos)}}function Ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function As(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",ST="__type__",xT="__previous_value__",IT="__local_write_time__";function Vg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ST])===null||t===void 0?void 0:t.stringValue)===TT}function kh(n){const e=n.mapValue.fields[xT];return Vg(e)?kh(e):e}function pu(n){const e=Ps(n.mapValue.fields[IT].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,r,i,a,l,c,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Wd="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||Wd}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",nR="__max__",md={mapValue:{}},CT="__vector__",qd="value";function Rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vg(n)?4:iR(n)?9007199254740991:rR(n)?10:11:Me(28295,{value:n})}function si(n,e){if(n===e)return!0;const t=Rs(n);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pu(n).isEqual(pu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ps(i.timestampValue),c=Ps(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return As(i.bytesValue).isEqual(As(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Ft(i.geoPointValue.latitude)===Ft(a.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ft(i.integerValue)===Ft(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Ft(i.doubleValue),c=Ft(a.doubleValue);return l===c?Hd(l)===Hd(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Da(n.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(z_(l)!==z_(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!si(l[d],c[d])))return!1;return!0}(n,e);default:return Me(52216,{left:n})}}function gu(n,e){return(n.values||[]).find(t=>si(t,e))!==void 0}function Va(n,e){if(n===e)return 0;const t=Rs(n),r=Rs(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Ft(a.integerValue||a.doubleValue),d=Ft(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return W_(n.timestampValue,e.timestampValue);case 4:return W_(pu(n),pu(e));case 5:return Pm(n.stringValue,e.stringValue);case 6:return function(a,l){const c=As(a),d=As(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Qe(c[f],d[f]);if(m!==0)return m}return Qe(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Qe(Ft(a.latitude),Ft(l.latitude));return c!==0?c:Qe(Ft(a.longitude),Ft(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return q_(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,f,m;const y=a.fields||{},_=l.fields||{},T=(c=y[qd])===null||c===void 0?void 0:c.arrayValue,x=(d=_[qd])===null||d===void 0?void 0:d.arrayValue,R=Qe(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:q_(T,x)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===md.mapValue&&l===md.mapValue)return 0;if(a===md.mapValue)return 1;if(l===md.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const _=Pm(d[y],m[y]);if(_!==0)return _;const T=Va(c[d[y]],f[m[y]]);if(T!==0)return T}return Qe(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Me(23264,{Pe:t})}}function W_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Ps(n),r=Ps(e),i=Qe(t.seconds,r.seconds);return i!==0?i:Qe(t.nanos,r.nanos)}function q_(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Va(t[i],r[i]);if(a)return a}return Qe(t.length,r.length)}function La(n){return Am(n)}function Am(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ps(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return As(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Am(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Am(t.fields[l])}`;return i+"}"}(n.mapValue):Me(61005,{value:n})}function Ad(n){switch(Rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(n);return e?16+Ad(e):16;case 5:return 2*n.stringValue.length;case 6:return As(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Ad(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ls(r.fields,(a,l)=>{i+=a.length+Ad(l)}),i}(n.mapValue);default:throw Me(13486,{value:n})}}function K_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rm(n){return!!n&&"integerValue"in n}function Lg(n){return!!n&&"arrayValue"in n}function G_(n){return!!n&&"nullValue"in n}function Q_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rd(n){return!!n&&"mapValue"in n}function rR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||t===void 0?void 0:t.stringValue)===CT}function Jl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ls(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(t)}setAll(e){let t=hn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Jl(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Rd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ls(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Un(Jl(this.value))}}function PT(n){const e=[];return Ls(n.fields,(t,r)=>{const i=new hn([t]);if(Rd(r)){const a=PT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new wn(e,0,He.min(),He.min(),He.min(),Un.empty(),0)}static newFoundDocument(e,t,r,i){return new wn(e,1,t,He.min(),r,i,0)}static newNoDocument(e,t){return new wn(e,2,t,He.min(),He.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,He.min(),He.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.position=e,this.inclusive=t}}function Y_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Oe.comparator(Oe.fromName(l.referenceValue),t.key):r=Va(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function X_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!si(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function sR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class zt extends AT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new aR(e,t,r):t==="array-contains"?new cR(e,r):t==="in"?new dR(e,r):t==="not-in"?new hR(e,r):t==="array-contains-any"?new fR(e,r):new zt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lR(e,r):new uR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Va(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(Va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends AT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new jr(e,t)}matches(e){return RT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function RT(n){return n.op==="and"}function kT(n){return oR(n)&&RT(n)}function oR(n){for(const e of n.filters)if(e instanceof jr)return!1;return!0}function km(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+La(n.value);if(kT(n))return n.filters.map(e=>km(e)).join(",");{const e=n.filters.map(t=>km(t)).join(",");return`${n.op}(${e})`}}function NT(n,e){return n instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.field.isEqual(i.field)&&si(r.value,i.value)}(n,e):n instanceof jr?function(r,i){return i instanceof jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&NT(l,i.filters[c]),!0):!1}(n,e):void Me(19439)}function OT(n){return n instanceof zt?function(t){return`${t.field.canonicalString()} ${t.op} ${La(t.value)}`}(n):n instanceof jr?function(t){return t.op.toString()+" {"+t.getFilters().map(OT).join(" ,")+"}"}(n):"Filter"}class aR extends zt{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class lR extends zt{constructor(e,t){super(e,"in",t),this.keys=DT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uR extends zt{constructor(e,t){super(e,"not-in",t),this.keys=DT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class cR extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lg(t)&&gu(t.arrayValue,this.value)}}class dR extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class hR extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class fR extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function J_(n,e=null,t=[],r=[],i=null,a=null,l=null){return new pR(n,e,t,r,i,a,l)}function jg(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>km(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>La(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>La(r)).join(",")),e.Ie=t}return e.Ie}function Mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!X_(n.startAt,e.startAt)&&X_(n.endAt,e.endAt)}function Nm(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mR(n,e,t,r,i,a,l,c){return new Ja(n,e,t,r,i,a,l,c)}function Nh(n){return new Ja(n)}function Z_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VT(n){return n.collectionGroup!==null}function Zl(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Yt(hn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new yu(a,r))}),t.has(hn.keyField().canonicalString())||e.Ee.push(new yu(hn.keyField(),r))}return e.Ee}function ei(n){const e=We(n);return e.de||(e.de=gR(e,Zl(n))),e.de}function gR(n,e){if(n.limitType==="F")return J_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new yu(i.field,a)});const t=n.endAt?new Kd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kd(n.startAt.position,n.startAt.inclusive):null;return J_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Om(n,e){const t=n.filters.concat([e]);return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Dm(n,e,t){return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Oh(n,e){return Mg(ei(n),ei(e))&&n.limitType===e.limitType}function LT(n){return`${jg(ei(n))}|lt:${n.limitType}`}function _a(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>OT(i)).join(", ")}]`),Rh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>La(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>La(i)).join(",")),`Target(${r})`}(ei(n))}; limitType=${n.limitType})`}function Dh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Oe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Zl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const f=Y_(l,c,d);return l.inclusive?f<=0:f<0}(r.startAt,Zl(r),i)||r.endAt&&!function(l,c,d){const f=Y_(l,c,d);return l.inclusive?f>=0:f>0}(r.endAt,Zl(r),i))}(n,e)}function yR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jT(n){return(e,t)=>{let r=!1;for(const i of Zl(n)){const a=vR(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function vR(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(a,l,c){const d=l.data.field(a),f=c.data.field(a);return d!==null&&f!==null?Va(d,f):Me(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Dt(Oe.comparator);function Ni(){return _R}const MT=new Dt(Oe.comparator);function Gl(...n){let e=MT;for(const t of n)e=e.insert(t.key,t);return e}function FT(n){let e=MT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mo(){return eu()}function UT(){return eu()}function eu(){return new bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const wR=new Dt(Oe.comparator),ER=new Yt(Oe.comparator);function tt(...n){let e=ER;for(const t of n)e=e.add(t);return e}const TR=new Yt(Qe);function SR(){return TR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function BT(n){return{integerValue:""+n}}function xR(n,e){return XA(e)?BT(e):Fg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function IR(n,e,t){return n instanceof vu?function(i,a){const l={fields:{[ST]:{stringValue:TT},[IT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Vg(a)&&(a=kh(a)),a&&(l.fields[xT]=a),{mapValue:l}}(t,e):n instanceof _u?zT(n,e):n instanceof wu?HT(n,e):function(i,a){const l=$T(i,a),c=e1(l)+e1(i.Re);return Rm(l)&&Rm(i.Re)?BT(c):Fg(i.serializer,c)}(n,e)}function bR(n,e,t){return n instanceof _u?zT(n,e):n instanceof wu?HT(n,e):t}function $T(n,e){return n instanceof Gd?function(r){return Rm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class vu extends Vh{}class _u extends Vh{constructor(e){super(),this.elements=e}}function zT(n,e){const t=WT(e);for(const r of n.elements)t.some(i=>si(i,r))||t.push(r);return{arrayValue:{values:t}}}class wu extends Vh{constructor(e){super(),this.elements=e}}function HT(n,e){let t=WT(e);for(const r of n.elements)t=t.filter(i=>!si(i,r));return{arrayValue:{values:t}}}class Gd extends Vh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function e1(n){return Ft(n.integerValue||n.doubleValue)}function WT(n){return Lg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.field=e,this.transform=t}}function PR(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof _u&&i instanceof _u||r instanceof wu&&i instanceof wu?Da(r.elements,i.elements,si):r instanceof Gd&&i instanceof Gd?si(r.Re,i.Re):r instanceof vu&&i instanceof vu}(n.transform,e.transform)}class AR{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lh{}function qT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ug(n.key,Vr.none()):new Lu(n.key,n.data,Vr.none());{const t=n.data,r=Un.empty();let i=new Yt(hn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new js(n.key,r,new Xn(i.toArray()),Vr.none())}}function RR(n,e,t){n instanceof Lu?function(i,a,l){const c=i.value.clone(),d=n1(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof js?function(i,a,l){if(!kd(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=n1(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(KT(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function tu(n,e,t,r){return n instanceof Lu?function(a,l,c,d){if(!kd(a.precondition,l))return c;const f=a.value.clone(),m=r1(a.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof js?function(a,l,c,d){if(!kd(a.precondition,l))return c;const f=r1(a.fieldTransforms,d,l),m=l.data;return m.setAll(KT(a)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(a,l,c){return kd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function kR(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=$T(r.transform,i||null);a!=null&&(t===null&&(t=Un.empty()),t.set(r.field,a))}return t||null}function t1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Da(r,i,(a,l)=>PR(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Lu extends Lh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends Lh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function KT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function n1(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,bR(l,c,t[i]))}return r}function r1(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,IR(a,l,e))}return r}class Ug extends Lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NR extends Lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&RR(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=UT();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const d=qT(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(t,r)=>t1(t,r))&&Da(this.baseMutations,e.baseMutations,(t,r)=>t1(t,r))}}class Bg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){gt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return wR}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Bg(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,st;function LR(n){switch(n){case ie.OK:return Me(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function GT(n){if(n===void 0)return ki("GRPC error has no .code"),ie.UNKNOWN;switch(n){case $t.OK:return ie.OK;case $t.CANCELLED:return ie.CANCELLED;case $t.UNKNOWN:return ie.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ie.INTERNAL;case $t.UNAVAILABLE:return ie.UNAVAILABLE;case $t.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case $t.NOT_FOUND:return ie.NOT_FOUND;case $t.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case $t.ABORTED:return ie.ABORTED;case $t.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case $t.DATA_LOSS:return ie.DATA_LOSS;default:return Me(39323,{code:n})}}(st=$t||($t={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new xs([4294967295,4294967295],0);function i1(n){const e=yT().encode(n),t=new uT;return t.update(e),new Uint8Array(t.digest())}function s1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xs([t,r],0),new xs([i,a],0)]}class $g{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ql(`Invalid padding: ${t}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=xs.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(xs.fromNumber(r)));return i.compare(jR)===1&&(i=new xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=i1(e),[r,i]=s1(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new $g(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=i1(e),[r,i]=s1(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jh(He.min(),i,new Dt(Qe),Ni(),tt())}}class ju{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ju(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class QT{constructor(e,t){this.targetId=e,this.Ce=t}}class YT{constructor(e,t,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class o1{constructor(){this.Fe=0,this.Me=a1(),this.xe=fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),t=tt(),r=tt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:a})}}),new ju(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=a1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class MR{constructor(e){this.ze=e,this.je=new Map,this.He=Ni(),this.Je=gd(),this.Ye=gd(),this.Ze=new Dt(Qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Nm(a))if(r===0){const l=new Oe(a.path);this.tt(t,l,wn.newNoDocument(l,He.min()))}else gt(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),d=c?this.lt(c,e,l):1;if(d!==0){this.st(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=As(r).toUint8Array()}catch(d){if(d instanceof ET)return Oa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new $g(l,i,a)}catch(d){return Oa(d instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&Nm(c.target)){const d=new Oe(c.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,wn.newNoDocument(d,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=tt();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const f=this._t(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new jh(e,t,this.Ze,this.He,r);return this.He=Ni(),this.Je=gd(),this.Ye=gd(),this.Ze=new Dt(Qe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new o1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Yt(Qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Yt(Qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new o1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function gd(){return new Dt(Oe.comparator)}function a1(){return new Dt(Oe.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},UR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BR={and:"AND",or:"OR"};class $R{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vm(n,e){return n.useProto3Json||Rh(e)?e:{value:e}}function Qd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zR(n,e){return Qd(n,e.toTimestamp())}function ti(n){return gt(!!n,49232),He.fromTimestamp(function(t){const r=Ps(t);return new Ht(r.seconds,r.nanos)}(n))}function zg(n,e){return Lm(n,e).canonicalString()}function Lm(n,e){const t=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function JT(n){const e=bt.fromString(n);return gt(rS(e),10190,{key:e.toString()}),e}function jm(n,e){return zg(n.databaseId,e.path)}function em(n,e){const t=JT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(eS(t))}function ZT(n,e){return zg(n.databaseId,e)}function HR(n){const e=JT(n);return e.length===4?bt.emptyPath():eS(e)}function Mm(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eS(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function l1(n,e,t){return{name:jm(n,e),fields:t.value.mapValue.fields}}function WR(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Me(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,m){return f.useProto3Json?(gt(m===void 0||typeof m=="string",58123),fn.fromBase64String(m||"")):(gt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),fn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?ie.UNKNOWN:GT(f.code);return new Ie(m,f.message||"")}(l);t=new YT(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=em(n,r.document.name),a=ti(r.document.updateTime),l=r.document.createTime?ti(r.document.createTime):He.min(),c=new Un({mapValue:{fields:r.document.fields}}),d=wn.newFoundDocument(i,a,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Nd(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=em(n,r.document),a=r.readTime?ti(r.readTime):He.min(),l=wn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new Nd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=em(n,r.document),a=r.removedTargetIds||[];t=new Nd([],a,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new VR(i,a),c=r.targetId;t=new QT(c,l)}}return t}function qR(n,e){let t;if(e instanceof Lu)t={update:l1(n,e.key,e.value)};else if(e instanceof Ug)t={delete:jm(n,e.key)};else if(e instanceof js)t={update:l1(n,e.key,e.data),updateMask:tk(e.fieldMask)};else{if(!(e instanceof NR))return Me(16599,{ft:e.type});t={verify:jm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof vu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _u)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gd)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Me(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:zR(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)}(n,e.precondition)),t}function KR(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?ti(i.updateTime):ti(a);return l.isEqual(He.min())&&(l=ti(a)),new AR(l,i.transformResults||[])}(t,e))):[]}function GR(n,e){return{documents:[ZT(n,e.path)]}}function QR(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ZT(n,i);const a=function(f){if(f.length!==0)return nS(jr.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(m=>function(_){return{field:wa(_.field),direction:JR(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Vm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function YR(n){let e=HR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){gt(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(y){const _=tS(y);return _ instanceof jr&&kT(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(_=>function(x){return new yu(Ea(x.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Rh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(y){const _=!!y.before,T=y.values||[];return new Kd(T,_)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const _=!y.before,T=y.values||[];return new Kd(T,_)}(t.endAt)),mR(e,i,l,a,c,"F",d,f)}function XR(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ea(t.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ea(t.unaryFilter.field);return zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ea(t.unaryFilter.field);return zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ea(t.unaryFilter.field);return zt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(n):n.fieldFilter!==void 0?function(t){return zt.create(Ea(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jr.create(t.compositeFilter.filters.map(r=>tS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(t.compositeFilter.op))}(n):Me(30097,{filter:n})}function JR(n){return FR[n]}function ZR(n){return UR[n]}function ek(n){return BR[n]}function wa(n){return{fieldPath:n.canonicalString()}}function Ea(n){return hn.fromServerFormat(n.fieldPath)}function nS(n){return n instanceof zt?function(t){if(t.op==="=="){if(Q_(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NAN"}};if(G_(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Q_(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NAN"}};if(G_(t.value))return{unaryFilter:{field:wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(t.field),op:ZR(t.op),value:t.value}}}(n):n instanceof jr?function(t){const r=t.getFilters().map(i=>nS(i));return r.length===1?r[0]:{compositeFilter:{op:ek(t.op),filters:r}}}(n):Me(54877,{filter:n})}function tk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,r,i,a=He.min(),l=He.min(),c=fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.wt=e}}function rk(n){const e=YR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.Cn=new sk}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Cs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class sk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Yt(bt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(iS,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ja(0)}static lr(){return new ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="LruGarbageCollector",ok=1048576;function d1([n,e],[t,r]){const i=Qe(n,t);return i===0?Qe(e,r):i}class ak{constructor(e){this.Er=e,this.buffer=new Yt(d1),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();d1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){xe(c1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xa(t)?xe(c1,"Ignoring IndexedDB error during garbage collection: ",t):await Ya(t)}await this.mr(3e5)})}}class uk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Ah.le);const r=new ak(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(u1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),va()<=et.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function ck(n,e){return new uk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.changes=new bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&tu(r.mutation,i,Xn.empty(),Ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const i=mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Gl();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=Ni();const l=eu(),c=function(){return eu()}();return t.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof js)?a=a.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),tu(m.mutation,f,m.mutation.getFieldMask(),Ht.now())):l.set(f.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var y;return c.set(f,new hk(m,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const r=eu();let i=new Dt((l,c)=>l-c),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||Xn.empty();m=c.applyToLocalView(f,m),r.set(d,m);const y=(i.get(c.batchId)||tt()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,y=UT();m.forEach(_=>{if(!a.has(_)){const T=qT(t.get(_),r.get(_));T!==null&&y.set(_,T),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return oe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Oe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):oe.resolve(mo());let c=fu,d=a;return l.next(f=>oe.forEach(f,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?oe.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,tt())).next(m=>({batchId:c,changes:FT(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Gl();return this.indexManager.getCollectionParents(e,a).next(c=>oe.forEach(c,d=>{const f=function(y,_){return new Ja(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,wn.newInvalidDocument(m)))});let c=Gl();return l.forEach((d,f)=>{const m=a.get(d);m!==void 0&&tu(m.mutation,f,Xn.empty(),Ht.now()),Dh(t,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return oe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ti(i.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:rk(i.bundledQuery),readTime:ti(i.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.overlays=new Dt(Oe.comparator),this.Qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=mo();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=mo(),a=t.length+1,l=new Oe(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Dt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=a.get(f.largestBatchId);m===null&&(m=mo(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=mo(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=i)););return oe.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new DR(t,r));let a=this.Qr.get(t);a===void 0&&(a=tt(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.$r=new Yt(rn.Ur),this.Kr=new Yt(rn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new rn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new rn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Oe(new bt([])),r=new rn(t,e),i=new rn(t,e+1),a=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Oe(new bt([])),r=new rn(t,e),i=new rn(t,e+1);let a=tt();return this.Kr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new rn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Oe.comparator(e.key,t.key)||Qe(e.Zr,t.Zr)}static Wr(e,t){return Qe(e.Zr,t.Zr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Yt(rn.Ur)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new OR(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Xr=this.Xr.add(new rn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Dg:this.nr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rn(t,0),i=new rn(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],l=>{const c=this.ei(l.Zr);a.push(c)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Yt(Qe);return t.forEach(i=>{const a=new rn(i,0),l=new rn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{r=r.add(c.Zr)})}),oe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Oe.isDocumentKey(a)||(a=a.child(""));const l=new rn(new Oe(a),0);let c=new Yt(Qe);return this.Xr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Zr)),!0)},l),oe.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){gt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return oe.forEach(t.mutations,i=>{const a=new rn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new rn(t,0),i=this.Xr.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.ii=e,this.docs=function(){return new Dt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=Ni();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():wn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ni();const l=t.path,c=new Oe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||KA(qA(m),r)<=0||(i.has(m.key)||Dh(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Me(9500)}si(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _k(this)}getSize(e){return oe.resolve(this.size)}}class _k extends dk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.persistence=e,this.oi=new bo(t=>jg(t),Mg),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this._i=0,this.ai=new Hg,this.targetCount=0,this.ui=ja.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),oe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ja(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Tr(t),oe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.ci={},this.overlays={},this.li=new Ah(0),this.hi=!1,this.hi=!0,this.Pi=new gk,this.referenceDelegate=e(this),this.Ti=new wk(this),this.indexManager=new ik,this.remoteDocumentCache=function(i){return new vk(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new nk(t),this.Ei=new pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new yk(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const i=new Ek(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return oe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class Ek extends QA{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Vi=new Hg,this.mi=null}static fi(e){return new Wg(e)}get gi(){if(this.mi)return this.mi;throw Me(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.gi,r=>{const i=Oe.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,He.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return oe.or([()=>oe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Yd{constructor(e,t){this.persistence=e,this.yi=new bo(r=>JA(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ck(this,t)}static fi(e,t){return new Yd(e,t)}di(){}Ai(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return oe.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?oe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(c=>{c||(r++,a.removeEntry(l,He.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),oe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ad(e.data.value)),t}Dr(e,t,r){return oe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=tt(),i=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new qg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return v2()?8:YA(En())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Tk;return this.Ss(e,t,l).next(c=>{if(a.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(va()<=et.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",_a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),oe.resolve()):(va()<=et.DEBUG&&xe("QueryEngine","Query:",_a(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(va()<=et.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",_a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):oe.resolve())}ws(e,t){if(Z_(t))return oe.resolve(null);let r=ei(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Dm(t,null,"F"),r=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=tt(...a);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.vs(t,c);return this.Cs(t,f,l,d.readTime)?this.ws(e,Dm(t,null,"F")):this.Fs(e,f,t,d)}))})))}bs(e,t,r,i){return Z_(t)||i.isEqual(He.min())?oe.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,r,i)?oe.resolve(null):(va()<=et.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_a(t)),this.Fs(e,l,t,WA(i,fu)).next(c=>c))})}vs(e,t){let r=new Yt(jT(e));return t.forEach((i,a)=>{Dh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return va()<=et.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",_a(t)),this.ys.getDocumentsMatchingQuery(e,t,Cs.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="LocalStore",xk=3e8;class Ik{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Dt(Qe),this.Os=new bo(a=>jg(a),Mg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function bk(n,e,t,r){return new Ik(n,e,t,r)}async function oS(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let d=tt();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of a){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(f=>({ks:f,removedBatchIds:l,addedBatchIds:c}))})})}function Ck(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const y=f.batch,_=y.keys();let T=oe.resolve();return _.forEach(x=>{T=T.next(()=>m.getEntry(d,x)).next(R=>{const A=f.docVersions.get(x);gt(A!==null,48541),R.version.compareTo(A)<0&&(y.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=tt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function aS(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Pk(n,e){const t=We(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const c=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;c.push(t.Ti.removeMatchingKeys(a,m.removedDocuments,y).next(()=>t.Ti.addMatchingKeys(a,m.addedDocuments,y)));let T=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(fn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(y,T),function(R,A,j){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=xk?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(_,T,m)&&c.push(t.Ti.updateTargetData(a,T))});let d=Ni(),f=tt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(Ak(a,l,e.documentUpdates).next(m=>{d=m.qs,f=m.Qs})),!r.isEqual(He.min())){const m=t.Ti.getLastRemoteSnapshotVersion(a).next(y=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return oe.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(t.xs=i,a))}function Ak(n,e,t){let r=tt(),i=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Ni();return t.forEach((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(He.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):xe(Kg,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{qs:l,Qs:i}})}function Rk(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kk(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,oe.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new vs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Fm(n,e,t){const r=We(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Xa(l))throw l;xe(Kg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function h1(n,e,t){const r=We(n);let i=He.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const y=We(d),_=y.Os.get(m);return _!==void 0?oe.resolve(y.xs.get(_)):y.Ti.getTargetData(f,m)}(r,l,ei(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:He.min(),t?a:tt())).next(c=>(Nk(r,yR(e),c),{documents:c,$s:a})))}function Nk(n,e,t){let r=n.Ns.get(e)||He.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class f1{constructor(){this.activeTargetIds=SR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ok{constructor(){this.xo=new f1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new f1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="ConnectivityMonitor";class m1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){xe(p1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){xe(p1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function Um(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",Vk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Wd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const l=Um(),c=this.jo(e,t.toUriEncodedString());xe(tm,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,i,a);const{host:f}=new URL(c),m=Ka(f);return this.Jo(e,c,d,r,m).then(y=>(xe(tm,`Received RPC '${e}' ${l}: `,y),y),y=>{throw Oa(tm,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Yo(e,t,r,i,a,l){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=Vk[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class Mk extends Lk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Um();return new Promise((c,d)=>{const f=new cT;f.setWithCredentials(!0),f.listenOnce(dT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Pd.NO_ERROR:const y=f.getResponseJson();xe(vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Pd.TIMEOUT:xe(vn,`RPC '${e}' ${l} timed out`),d(new Ie(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Pd.HTTP_ERROR:const _=f.getStatus();if(xe(vn,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const x=T==null?void 0:T.error;if(x&&x.status&&x.message){const R=function(j){const I=j.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(I)>=0?I:ie.UNKNOWN}(x.status);d(new Ie(R,x.message))}else d(new Ie(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ie(ie.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{h_:e,streamId:l,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{xe(vn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);xe(vn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)})}I_(e,t,r){const i=Um(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=pT(),c=fT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");xe(vn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);this.E_(y);let _=!1,T=!1;const x=new jk({Zo:A=>{T?xe(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(_||(xe(vn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),xe(vn,`RPC '${e}' stream ${i} sending:`,A),y.send(A))},Xo:()=>y.close()}),R=(A,j,I)=>{A.listen(j,N=>{try{I(N)}catch(M){setTimeout(()=>{throw M},0)}})};return R(y,Kl.EventType.OPEN,()=>{T||(xe(vn,`RPC '${e}' stream ${i} transport opened.`),x.__())}),R(y,Kl.EventType.CLOSE,()=>{T||(T=!0,xe(vn,`RPC '${e}' stream ${i} transport closed`),x.u_(),this.d_(y))}),R(y,Kl.EventType.ERROR,A=>{T||(T=!0,Oa(vn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),x.u_(new Ie(ie.UNAVAILABLE,"The operation could not be completed")))}),R(y,Kl.EventType.MESSAGE,A=>{var j;if(!T){const I=A.data[0];gt(!!I,16349);const N=I,M=(N==null?void 0:N.error)||((j=N[0])===null||j===void 0?void 0:j.error);if(M){xe(vn,`RPC '${e}' stream ${i} received error:`,M);const B=M.status;let Y=function(k){const L=$t[k];if(L!==void 0)return GT(L)}(B),D=M.message;Y===void 0&&(Y=ie.INTERNAL,D="Unknown error status: "+B+" with message "+M.message),T=!0,x.u_(new Ie(Y,D)),y.close()}else xe(vn,`RPC '${e}' stream ${i} received:`,I),x.c_(I)}}),R(c,hT.STAT_EVENT,A=>{A.stat===Cm.PROXY?xe(vn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Cm.NOPROXY&&xe(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(n){return new $R(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="PersistentStream";class uS{constructor(e,t,r,i,a,l,c,d){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new lS(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new Ie(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return xe(g1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(xe(g1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fk extends uS{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=WR(this.serializer,e),r=function(a){if(!("targetChange"in a))return He.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?ti(l.readTime):He.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Mm(this.serializer),t.addTarget=function(a,l){let c;const d=l.target;if(c=Nm(d)?{documents:GR(a,d)}:{query:QR(a,d).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=XT(a,l.resumeToken);const f=Vm(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(He.min())>0){c.readTime=Qd(a,l.snapshotVersion.toTimestamp());const f=Vm(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=XR(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Mm(this.serializer),t.removeTarget=e,this.Q_(t)}}class Uk extends uS{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=KR(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Mm(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qR(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{}class $k extends Bk{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Ie(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,Lm(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ie.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,Lm(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(ie.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class zk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ki(t),this.ua=!1):xe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class Hk{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{Co(this)&&(xe(So,"Restarting streams for network reachability change."),await async function(d){const f=We(d);f.da.add(4),await Mu(f),f.Va.set("Unknown"),f.da.delete(4),await Fh(f)}(this))})}),this.Va=new zk(r,i)}}async function Fh(n){if(Co(n))for(const e of n.Aa)await e(!0)}async function Mu(n){for(const e of n.Aa)await e(!1)}function cS(n,e){const t=We(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Xg(t)?Yg(t):Za(t).N_()&&Qg(t,e))}function Gg(n,e){const t=We(n),r=Za(t);t.Ea.delete(e),r.N_()&&dS(t,e),t.Ea.size===0&&(r.N_()?r.k_():Co(t)&&t.Va.set("Unknown"))}function Qg(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Za(n).Z_(e)}function dS(n,e){n.ma.Ke(e),Za(n).X_(e)}function Yg(n){n.ma=new MR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Za(n).start(),n.Va.ca()}function Xg(n){return Co(n)&&!Za(n).O_()&&n.Ea.size>0}function Co(n){return We(n).da.size===0}function hS(n){n.ma=void 0}async function Wk(n){n.Va.set("Online")}async function qk(n){n.Ea.forEach((e,t)=>{Qg(n,e)})}async function Kk(n,e){hS(n),Xg(n)?(n.Va.Pa(e),Yg(n)):n.Va.set("Unknown")}async function Gk(n,e,t){if(n.Va.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ea.delete(c),i.ma.removeTarget(c))}(n,e)}catch(r){xe(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xd(n,r)}else if(e instanceof Nd?n.ma.Xe(e):e instanceof QT?n.ma.ot(e):n.ma.nt(e),!t.isEqual(He.min()))try{const r=await aS(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ea.get(f);m&&a.Ea.set(f,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const m=a.Ea.get(d);if(!m)return;a.Ea.set(d,m.withResumeToken(fn.EMPTY_BYTE_STRING,m.snapshotVersion)),dS(a,d);const y=new vs(m.target,d,f,m.sequenceNumber);Qg(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){xe(So,"Failed to raise snapshot:",r),await Xd(n,r)}}async function Xd(n,e,t){if(!Xa(e))throw e;n.da.add(1),await Mu(n),n.Va.set("Offline"),t||(t=()=>aS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{xe(So,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Fh(n)})}function fS(n,e){return e().catch(t=>Xd(n,t,e))}async function Uh(n){const e=We(n),t=ks(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Dg;for(;Qk(e);)try{const i=await Rk(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,Yk(e,i)}catch(i){await Xd(e,i)}pS(e)&&mS(e)}function Qk(n){return Co(n)&&n.Ia.length<10}function Yk(n,e){n.Ia.push(e);const t=ks(n);t.N_()&&t.ea&&t.ta(e.mutations)}function pS(n){return Co(n)&&!ks(n).O_()&&n.Ia.length>0}function mS(n){ks(n).start()}async function Xk(n){ks(n).ia()}async function Jk(n){const e=ks(n);for(const t of n.Ia)e.ta(t.mutations)}async function Zk(n,e,t){const r=n.Ia.shift(),i=Bg.from(r,e,t);await fS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Uh(n)}async function eN(n,e){e&&ks(n).ea&&await async function(r,i){if(function(l){return LR(l)&&l!==ie.ABORTED}(i.code)){const a=r.Ia.shift();ks(r).L_(),await fS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Uh(r)}}(n,e),pS(n)&&mS(n)}async function y1(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),xe(So,"RemoteStore received new credentials");const r=Co(t);t.da.add(3),await Mu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Fh(t)}async function tN(n,e){const t=We(n);e?(t.da.delete(2),await Fh(t)):e||(t.da.add(2),await Mu(t),t.Va.set("Unknown"))}function Za(n){return n.fa||(n.fa=function(t,r,i){const a=We(t);return a.oa(),new Fk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:Wk.bind(null,n),n_:qk.bind(null,n),i_:Kk.bind(null,n),Y_:Gk.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Xg(n)?Yg(n):n.Va.set("Unknown")):(await n.fa.stop(),hS(n))})),n.fa}function ks(n){return n.ga||(n.ga=function(t,r,i){const a=We(t);return a.oa(),new Uk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:Xk.bind(null,n),i_:eN.bind(null,n),na:Jk.bind(null,n),ra:Zk.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Uh(n)):(await n.ga.stop(),n.Ia.length>0&&(xe(So,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Jg(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(n,e){if(ki("AsyncQueue",`${e}: ${n}`),Xa(n))return new Ie(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{static emptySet(e){return new ba(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=Gl(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ba)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.pa=new Dt(Oe.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Me(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ma{constructor(e,t,r,i,a,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Ma(e,t,ba.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class rN{constructor(){this.queries=_1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=We(t),a=i.queries;i.queries=_1(),a.forEach((l,c)=>{for(const d of c.Sa)d.onError(r)})})(this,new Ie(ie.ABORTED,"Firestore shutting down"))}}function _1(){return new bo(n=>LT(n),Oh)}async function ey(n,e){const t=We(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new nN,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Zg(l,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&ny(t)}async function ty(n,e){const t=We(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iN(n,e){const t=We(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Ma(i)&&(r=!0);l.ba=i}}r&&ny(t)}function sN(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function ny(n){n.Ca.forEach(e=>{e.next()})}var Bm,w1;(w1=Bm||(Bm={})).xa="default",w1.Cache="cache";class ry{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.key=e}}class yS{constructor(e){this.key=e}}class oN{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.Za=jT(e),this.Xa=new ba(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new v1,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),T=Dh(this.query,y)?y:null,x=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;_&&T?_.data.isEqual(T.data)?x!==R&&(r.track({type:3,doc:T}),A=!0):this.ru(_,T)||(r.track({type:2,doc:T}),A=!0,(d&&this.Za(T,d)>0||f&&this.Za(T,f)<0)&&(c=!0)):!_&&T?(r.track({type:0,doc:T}),A=!0):_&&!T&&(r.track({type:1,doc:_}),A=!0,(d||f)&&(c=!0)),A&&(T?(l=l.add(T),a=R?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:c,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,y)=>function(T,x){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:A})}};return R(T)-R(x)}(m.type,y.type)||this.Za(m.doc,y.doc)),this.iu(r),i=i!=null&&i;const c=t&&!i?this.su():[],d=this.Ya.size===0&&this.current&&!i?1:0,f=d!==this.Ja;return this.Ja=d,l.length!==0||f?{snapshot:new Ma(this.query,e.Xa,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new v1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new yS(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new gS(r))}),t}au(e){this.Ha=e.$s,this.Ya=tt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ma.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const iy="SyncEngine";class aN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lN{constructor(e){this.key=e,this.cu=!1}}class uN{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new bo(c=>LT(c),Oh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Dt(Oe.comparator),this.Eu=new Map,this.du=new Hg,this.Au={},this.Ru=new Map,this.Vu=ja.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function cN(n,e,t=!0){const r=SS(n);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await vS(r,e,t,!0),i}async function dN(n,e){const t=SS(n);await vS(t,e,!0,!1)}async function vS(n,e,t,r){const i=await kk(n.localStore,ei(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await hN(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&cS(n.remoteStore,i),c}async function hN(n,e,t,r,i){n.fu=(y,_,T)=>async function(R,A,j,I){let N=A.view.tu(j);N.Cs&&(N=await h1(R.localStore,A.query,!1).then(({documents:D})=>A.view.tu(D,N)));const M=I&&I.targetChanges.get(A.targetId),B=I&&I.targetMismatches.get(A.targetId)!=null,Y=A.view.applyChanges(N,R.isPrimaryClient,M,B);return T1(R,A.targetId,Y.ou),Y.snapshot}(n,y,_,T);const a=await h1(n.localStore,e,!0),l=new oN(e,a.$s),c=l.tu(a.documents),d=ju.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,d);T1(n,t,f.ou);const m=new aN(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),f.snapshot}async function fN(n,e,t){const r=We(n),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(l=>!Oh(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Gg(r.remoteStore,i.targetId),$m(r,i.targetId)}).catch(Ya)):($m(r,i.targetId),await Fm(r.localStore,i.targetId,!0))}async function pN(n,e){const t=We(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Gg(t.remoteStore,r.targetId))}async function mN(n,e,t){const r=TN(n);try{const i=await function(l,c){const d=We(l),f=Ht.now(),m=c.reduce((T,x)=>T.add(x.key),tt());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let x=Ni(),R=tt();return d.Bs.getEntries(T,m).next(A=>{x=A,x.forEach((j,I)=>{I.isValidDocument()||(R=R.add(j))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,x)).next(A=>{y=A;const j=[];for(const I of c){const N=kR(I,y.get(I.key).overlayedDocument);N!=null&&j.push(new js(I.key,N,PT(N.value.mapValue),Vr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,j,c)}).next(A=>{_=A;const j=A.applyToLocalDocumentSet(y,R);return d.documentOverlayCache.saveOverlays(T,A.batchId,j)})}).then(()=>({batchId:_.batchId,changes:FT(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Au[l.currentUser.toKey()];f||(f=new Dt(Qe)),f=f.insert(c,d),l.Au[l.currentUser.toKey()]=f}(r,i.batchId,t),await Fu(r,i.changes),await Uh(r.remoteStore)}catch(i){const a=Zg(i,"Failed to persist write");t.reject(a)}}async function _S(n,e){const t=We(n);try{const r=await Pk(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Eu.get(a);l&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?gt(l.cu,14607):i.removedDocuments.size>0&&(gt(l.cu,42227),l.cu=!1))}),await Fu(t,r,e)}catch(r){await Ya(r)}}function E1(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((a,l)=>{const c=l.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=We(l);d.onlineState=c;let f=!1;d.queries.forEach((m,y)=>{for(const _ of y.Sa)_.Fa(c)&&(f=!0)}),f&&ny(d)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gN(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new Dt(Oe.comparator);l=l.insert(a,wn.newNoDocument(a,He.min()));const c=tt().add(a),d=new jh(He.min(),new Map,new Dt(Qe),l,c);await _S(r,d),r.Iu=r.Iu.remove(a),r.Eu.delete(e),sy(r)}else await Fm(r.localStore,e,!1).then(()=>$m(r,e,t)).catch(Ya)}async function yN(n,e){const t=We(n),r=e.batch.batchId;try{const i=await Ck(t.localStore,e);ES(t,r,null),wS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(t,i)}catch(i){await Ya(i)}}async function vN(n,e,t){const r=We(n);try{const i=await function(l,c){const d=We(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(y=>(gt(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);ES(r,e,t),wS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fu(r,i)}catch(i){await Ya(i)}}function wS(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function ES(n,e,t){const r=We(n);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function $m(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||TS(n,r)})}function TS(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Gg(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),sy(n))}function T1(n,e,t){for(const r of t)r instanceof gS?(n.du.addReference(r.key,e),_N(n,r)):r instanceof yS?(xe(iy,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||TS(n,r.key)):Me(19791,{pu:r})}function _N(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(xe(iy,"New document in limbo: "+t),n.Tu.add(r),sy(n))}function sy(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Oe(bt.fromString(e)),r=n.Vu.next();n.Eu.set(r,new lN(t)),n.Iu=n.Iu.insert(t,r),cS(n.remoteStore,new vs(ei(Nh(t.path)),r,"TargetPurposeLimboResolution",Ah.le))}}async function Fu(n,e,t){const r=We(n),i=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,d)=>{l.push(r.fu(d,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){i.push(f);const y=qg.Rs(d.targetId,f);a.push(y)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(d,f){const m=We(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>oe.forEach(f,_=>oe.forEach(_.ds,T=>m.persistence.referenceDelegate.addReference(y,_.targetId,T)).next(()=>oe.forEach(_.As,T=>m.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))}catch(y){if(!Xa(y))throw y;xe(Kg,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const T=m.xs.get(_),x=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(x);m.xs=m.xs.insert(_,R)}}}(r.localStore,a))}async function wN(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){xe(iy,"User change. New user:",e.toKey());const r=await oS(t.localStore,e);t.currentUser=e,function(a,l){a.Ru.forEach(c=>{c.forEach(d=>{d.reject(new Ie(ie.CANCELLED,l))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(t,r.ks)}}function EN(n,e){const t=We(n),r=t.Eu.get(e);if(r&&r.cu)return tt().add(r.key);{let i=tt();const a=t.Pu.get(e);if(!a)return i;for(const l of a){const c=t.hu.get(l);i=i.unionWith(c.view.eu)}return i}}function SS(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gN.bind(null,e),e.lu.Y_=iN.bind(null,e.eventManager),e.lu.gu=sN.bind(null,e.eventManager),e}function TN(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vN.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return bk(this.persistence,new Sk,e.initialUser,this.serializer)}Su(e){return new sS(Wg.fi,this.serializer)}bu(e){return new Ok}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class SN extends Jd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){gt(this.persistence.referenceDelegate instanceof Yd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lk(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new sS(r=>Yd.fi(r,t),this.serializer)}}class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rN}()}createDatastore(e){const t=Mh(e.databaseInfo.databaseId),r=function(a){return new Mk(a)}(e.databaseInfo);return function(a,l,c,d){return new $k(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new Hk(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>E1(this.syncEngine,t,0),function(){return m1.C()?new m1:new Dk}())}createSyncEngine(e,t){return function(i,a,l,c,d,f,m){const y=new uN(i,a,l,c,d,f);return m&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=We(i);xe(So,"RemoteStore shutting down."),a.da.add(5),await Mu(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class xN{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=vT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{xe(Ns,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(xe(Ns,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Zg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rm(n,e){n.asyncQueue.verifyOperationInProgress(),xe(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function S1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await IN(n);xe(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>y1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>y1(e.remoteStore,i)),n._onlineComponents=e}async function IN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(Ns,"Using user provided OfflineComponentProvider");try{await rm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Oa("Error using user provided cache. Falling back to memory cache: "+t),await rm(n,new Jd)}}else xe(Ns,"Using default OfflineComponentProvider"),await rm(n,new SN(void 0));return n._offlineComponents}async function xS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(Ns,"Using user provided OnlineComponentProvider"),await S1(n,n._uninitializedComponentsProvider._online)):(xe(Ns,"Using default OnlineComponentProvider"),await S1(n,new zm))),n._onlineComponents}function bN(n){return xS(n).then(e=>e.syncEngine)}async function Zd(n){const e=await xS(n),t=e.eventManager;return t.onListen=cN.bind(null,e.syncEngine),t.onUnlisten=fN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pN.bind(null,e.syncEngine),t}function CN(n,e,t={}){const r=new Pi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,f){const m=new oy({next:_=>{m.xu(),l.enqueueAndForget(()=>ty(a,y));const T=_.docs.has(c);!T&&_.fromCache?f.reject(new Ie(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?f.reject(new Ie(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new ry(Nh(c.path),m,{includeMetadataChanges:!0,Qa:!0});return ey(a,y)}(await Zd(n),n.asyncQueue,e,t,r)),r.promise}function PN(n,e,t={}){const r=new Pi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,f){const m=new oy({next:_=>{m.xu(),l.enqueueAndForget(()=>ty(a,y)),_.fromCache&&d.source==="server"?f.reject(new Ie(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new ry(c,m,{includeMetadataChanges:!0,Qa:!0});return ey(a,y)}(await Zd(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n,e,t){if(!t)throw new Ie(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AN(n,e,t,r){if(e===!0&&r===!0)throw new Ie(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I1(n){if(!Oe.isDocumentKey(n))throw new Ie(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function b1(n){if(Oe.isDocumentKey(n))throw new Ie(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bh(n);throw new Ie(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firestore.googleapis.com",C1=!0;class P1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CS,this.ssl=C1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:C1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ok)throw new Ie(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LA;switch(r.type){case"firstParty":return new UA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=x1.get(t);r&&(xe("ComponentProvider","Removing Datastore"),x1.delete(t),r.terminate())}(this),Promise.resolve()}}function RN(n,e,t,r={}){var i;n=fr(n,$h);const a=Ka(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a&&(tT(`https://${d}`),nT("Firestore",!0)),l.host!==CS&&l.host!==d&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:a,emulatorOptions:r});if(!wo(f,c)&&(n._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=_n.MOCK_USER;else{m=u2(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ie(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(_)}n._authCredentials=new jA(new gT(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Is extends Ms{constructor(e,t,r){super(e,t,Nh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Oe(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Bn(n,e,...t){if(n=Xt(n),bS("collection","path",e),n instanceof $h){const r=bt.fromString(e,...t);return b1(r),new Is(n,null,r)}{if(!(n instanceof Rn||n instanceof Is))throw new Ie(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return b1(r),new Is(n.firestore,null,r)}}function ct(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=vT.newId()),bS("doc","path",e),n instanceof $h){const r=bt.fromString(e,...t);return I1(r),new Rn(n,null,new Oe(r))}{if(!(n instanceof Rn||n instanceof Is))throw new Ie(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return I1(r),new Rn(n.firestore,n instanceof Is?n.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="AsyncQueue";class R1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new lS(this,"async_queue_retry"),this.rc=()=>{const r=nm();r&&xe(A1,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=nm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=nm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Pi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Xa(e))throw e;xe(A1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ki("INTERNAL UNHANDLED ERROR: ",k1(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Jg.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Me(47125,{cc:k1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function k1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Os extends $h{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new R1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R1(e),this._firestoreClient=void 0,await e}}}function kN(n,e){const t=typeof n=="object"?n:oT(),r=typeof n=="string"?n:Wd,i=Ng(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=a2("firestore");a&&RN(i,...a)}return i}function zh(n){if(n._terminated)throw new Ie(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NN(n),n._firestoreClient}function NN(n){var e,t,r;const i=n._freezeSettings(),a=function(c,d,f,m){return new tR(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,IS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new xN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(fn.fromBase64String(e))}catch(t){throw new Ie(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fa(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^__.*__$/;class DN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class PS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ic:n})}}class uy{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return eh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(AS(this.Ic)&&ON.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class VN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mh(e)}bc(e,t,r,i=!1){return new uy({Ic:e,methodName:t,wc:r,path:hn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cy(n){const e=n._freezeSettings(),t=Mh(n._databaseId);return new VN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LN(n,e,t,r,i,a={}){const l=n.bc(a.merge||a.mergeFields?2:0,e,t,i);hy("Data must be an object, but it was:",l,r);const c=RS(r,l);let d,f;if(a.merge)d=new Xn(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const _=Hm(e,y,t);if(!l.contains(_))throw new Ie(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);NS(m,_)||m.push(_)}d=new Xn(m),f=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,f=l.fieldTransforms;return new DN(new Un(c),d,f)}class qh extends Wh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}class dy extends Wh{_toFieldTransform(e){return new CR(e.path,new vu)}isEqual(e){return e instanceof dy}}function jN(n,e,t,r){const i=n.bc(1,e,t);hy("Data must be an object, but it was:",i,r);const a=[],l=Un.empty();Ls(r,(d,f)=>{const m=fy(e,d,t);f=Xt(f);const y=i.mc(m);if(f instanceof qh)a.push(m);else{const _=Uu(f,y);_!=null&&(a.push(m),l.set(m,_))}});const c=new Xn(a);return new PS(l,c,i.fieldTransforms)}function MN(n,e,t,r,i,a){const l=n.bc(1,e,t),c=[Hm(e,r,t)],d=[i];if(a.length%2!=0)throw new Ie(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(Hm(e,a[_])),d.push(a[_+1]);const f=[],m=Un.empty();for(let _=c.length-1;_>=0;--_)if(!NS(f,c[_])){const T=c[_];let x=d[_];x=Xt(x);const R=l.mc(T);if(x instanceof qh)f.push(T);else{const A=Uu(x,R);A!=null&&(f.push(T),m.set(T,A))}}const y=new Xn(f);return new PS(m,y,l.fieldTransforms)}function FN(n,e,t,r=!1){return Uu(t,n.bc(r?4:3,e))}function Uu(n,e){if(kS(n=Xt(n)))return hy("Unsupported field value:",e,n),RS(n,e);if(n instanceof Wh)return function(r,i){if(!AS(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let d=Uu(c,i.fc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ht.fromDate(r);return{timestampValue:Qd(i.serializer,a)}}if(r instanceof Ht){const a=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(i.serializer,a)}}if(r instanceof ay)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fa)return{bytesValue:XT(i.serializer,r._byteString)};if(r instanceof Rn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ly)return function(l,c){return{mapValue:{fields:{[bT]:{stringValue:CT},[qd]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.gc("VectorValues must only contain numeric values.");return Fg(c.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Bh(r)}`)}(n,e)}function RS(n,e){const t={};return wT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(n,(r,i)=>{const a=Uu(i,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function kS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof ay||n instanceof Fa||n instanceof Rn||n instanceof Wh||n instanceof ly)}function hy(n,e,t){if(!kS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Bh(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Hm(n,e,t){if((e=Xt(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return fy(n,e);throw eh("Field path arguments must be of type string or ",n,!1,void 0,t)}const UN=new RegExp("[~\\*/\\[\\]]");function fy(n,e,t){if(e.search(UN)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hh(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ie(ie.INVALID_ARGUMENT,c+n+d)}function NS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(py("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BN extends OS{data(){return super.data()}}function py(n,e){return typeof e=="string"?fy(n,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class my{}class VS extends my{}function Wm(n,e,...t){let r=[];e instanceof my&&r.push(e),r=r.concat(t),function(a){const l=a.filter(d=>d instanceof yy).length,c=a.filter(d=>d instanceof gy).length;if(l>1||l>0&&c>0)throw new Ie(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class gy extends VS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gy(e,t,r)}_apply(e){const t=this._parse(e);return LS(e._query,t),new Ms(e.firestore,e.converter,Om(e._query,t))}_parse(e){const t=cy(e.firestore);return function(a,l,c,d,f,m,y){let _;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ie(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){D1(y,m);const x=[];for(const R of y)x.push(O1(d,a,R));_={arrayValue:{values:x}}}else _=O1(d,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||D1(y,m),_=FN(c,l,y,m==="in"||m==="not-in");return zt.create(f,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class yy extends my{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const d of c)LS(l,d),l=Om(l,d)}(e._query,t),new Ms(e.firestore,e.converter,Om(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vy extends VS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vy(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new Ie(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(a,l)}(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ja(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function qm(n,e="asc"){const t=e,r=py("orderBy",n);return vy._create(r,t)}function O1(n,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new Ie(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VT(e)&&t.indexOf("/")!==-1)throw new Ie(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bt.fromString(t));if(!Oe.isDocumentKey(r))throw new Ie(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return K_(n,new Oe(r))}if(t instanceof Rn)return K_(n,t._key);throw new Ie(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(t)}.`)}function D1(n,e){if(!Array.isArray(n)||n.length===0)throw new Ie(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LS(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ie(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $N{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ls(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[qd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Ft(l.doubleValue));return new ly(a)}convertGeoPoint(e){return new ay(Ft(e.latitude),Ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=kh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bt.fromString(e);gt(rS(r),9688,{name:e});const i=new mu(r.get(1),r.get(3)),a=new Oe(r.popFirst(5));return i.isEqual(t)||ki(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jS extends OS{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Od extends jS{data(e={}){return super.data(e)}}class MS{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Od(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Od(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Yl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Od(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Yl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:HN(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n){n=fr(n,Rn);const e=fr(n.firestore,Os);return CN(zh(e),n._key).then(t=>FS(e,n,t))}class _y extends $N{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function Oi(n){n=fr(n,Ms);const e=fr(n.firestore,Os),t=zh(e),r=new _y(e);return DS(n._query),PN(t,n._query).then(i=>new MS(e,r,n,i))}function Ds(n,e,t,...r){n=fr(n,Rn);const i=fr(n.firestore,Os),a=cy(i);let l;return l=typeof(e=Xt(e))=="string"||e instanceof Hh?MN(a,"updateDoc",n._key,e,t,r):jN(a,"updateDoc",n._key,e),wy(i,[l.toMutation(n._key,Vr.exists(!0))])}function Ua(n){return wy(fr(n.firestore,Os),[new Ug(n._key,Vr.none())])}function Kh(n,e){const t=fr(n.firestore,Os),r=ct(n),i=zN(n.converter,e);return wy(t,[LN(cy(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then(()=>r)}function WN(n,...e){var t,r,i;n=Xt(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||N1(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(N1(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,f,m;if(n instanceof Rn)f=fr(n.firestore,Os),m=Nh(n._key.path),d={next:y=>{e[l]&&e[l](FS(f,n,y))},error:e[l+1],complete:e[l+2]};else{const y=fr(n,Ms);f=fr(y.firestore,Os),m=y._query;const _=new _y(f);d={next:T=>{e[l]&&e[l](new MS(f,_,y,T))},error:e[l+1],complete:e[l+2]},DS(n._query)}return function(_,T,x,R){const A=new oy(R),j=new ry(T,A,x);return _.asyncQueue.enqueueAndForget(async()=>ey(await Zd(_),j)),()=>{A.xu(),_.asyncQueue.enqueueAndForget(async()=>ty(await Zd(_),j))}}(zh(f),m,c,d)}function wy(n,e){return function(r,i){const a=new Pi;return r.asyncQueue.enqueueAndForget(async()=>mN(await bN(r),i,a)),a.promise}(zh(n),e)}function FS(n,e,t){const r=t.docs.get(e._key),i=new _y(n);return new jS(n,i,e._key,r,new Yl(t.hasPendingWrites,t.fromCache),e.converter)}function qN(){return new dy("serverTimestamp")}(function(e,t=!0){(function(i){Qa=i})(Ga),Na(new Eo("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Os(new MA(r.getProvider("auth-internal")),new BA(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(f.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Ss(V_,L_,e),Ss(V_,L_,"esm2017")})();var KN="firebase",GN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(KN,GN,"app");function Ey(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QN=US,BS=new Du("auth","Firebase",US());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Rg("@firebase/auth");function YN(n,...e){th.logLevel<=et.WARN&&th.warn(`Auth (${Ga}): ${n}`,...e)}function Dd(n,...e){th.logLevel<=et.ERROR&&th.error(`Auth (${Ga}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n,...e){throw Ty(n,...e)}function ni(n,...e){return Ty(n,...e)}function $S(n,e,t){const r=Object.assign(Object.assign({},QN()),{[e]:t});return new Du("auth","Firebase",r).create(e,{appName:n.name})}function bs(n){return $S(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ty(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BS.create(n,...e)}function je(n,e,...t){if(!n)throw Ty(e,...t)}function Ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dd(e),new Error(e)}function Di(n,e){n||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function XN(){return V1()==="http:"||V1()==="https:"}function V1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XN()||m2()||"connection"in navigator)?navigator.onLine:!0}function ZN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=h2()||g2()}get(){return JN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nO=new Bu(3e4,6e4);function Po(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fs(n,e,t,r,i={}){return HS(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Vu(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},a);return p2()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(f.credentials="include"),zS.fetch()(await WS(n,n.config.apiHost,t,c),f)})}async function HS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},eO),e);try{const i=new iO(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw vd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw vd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw vd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw $S(n,m,f);Mr(n,m)}}catch(i){if(i instanceof ji)throw i;Mr(n,"network-request-failed",{message:String(i)})}}async function Gh(n,e,t,r,i={}){const a=await Fs(n,e,t,r,i);return"mfaPendingCredential"in a&&Mr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function WS(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?Sy(n.config,i):`${n.config.apiScheme}://${i}`;return tO.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function rO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),nO.get())})}}function vd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ni(n,e,r);return i.customData._tokenResponse=t,i}function L1(n){return n!==void 0&&n.enterprise!==void 0}class sO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oO(n,e){return Fs(n,"GET","/v2/recaptchaConfig",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,e){return Fs(n,"POST","/v1/accounts:delete",e)}async function nh(n,e){return Fs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lO(n,e=!1){const t=Xt(n),r=await t.getIdToken(e),i=xy(r);je(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:nu(im(i.auth_time)),issuedAtTime:nu(im(i.iat)),expirationTime:nu(im(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function im(n){return Number(n)*1e3}function xy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=XE(t);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function j1(n){const e=xy(n);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ji&&uO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Eu(n,nh(t,{idToken:r}));je(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qS(a.providerUserInfo):[],c=hO(n.providerData,l),d=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Gm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function dO(n){const e=Xt(n);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qS(n){return n.map(e=>{var{providerId:t}=e,r=Ey(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(n,e){const t=await HS(n,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await WS(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&Ka(n.emulatorConfig.host)&&(d.credentials="include"),zS.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pO(n,e){return Fs(n,"POST","/v2/accounts:revokeToken",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");const t=j1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await fO(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Ca;return r&&(je(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(je(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,e){je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Ey(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lO(this,e)}reload(){return dO(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Eu(this,aO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,d,f,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,x=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,j=(f=t.createdAt)!==null&&f!==void 0?f:void 0,I=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:N,emailVerified:M,isAnonymous:B,providerData:Y,stsTokenManager:D}=t;je(N&&D,e,"internal-error");const C=Ca.fromJSON(this.name,D);je(typeof N=="string",e,"internal-error"),ds(y,e.name),ds(_,e.name),je(typeof M=="boolean",e,"internal-error"),je(typeof B=="boolean",e,"internal-error"),ds(T,e.name),ds(x,e.name),ds(R,e.name),ds(A,e.name),ds(j,e.name),ds(I,e.name);const k=new Dr({uid:N,auth:e,email:_,emailVerified:M,displayName:y,isAnonymous:B,photoURL:x,phoneNumber:T,tenantId:R,stsTokenManager:C,createdAt:j,lastLoginAt:I});return Y&&Array.isArray(Y)&&(k.providerData=Y.map(L=>Object.assign({},L))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ca;i.updateFromServerResponse(t);const a=new Dr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];je(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?qS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Ca;c.updateFromIdToken(r);const d=new Dr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Gm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Map;function bi(n){Di(n instanceof Function,"Expected a class definition");let e=M1.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KS.type="NONE";const F1=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n,e,t){return`firebase:${n}:${e}:${t}`}class Pa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Vd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Vd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nh(this.auth,{idToken:e}).catch(()=>{});return t?Dr._fromGetAccountInfoResponse(this.auth,t,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Pa(bi(F1),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||bi(F1);const l=Vd(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const _=await nh(e,{idToken:m}).catch(()=>{});if(!_)break;y=await Dr._fromGetAccountInfoResponse(e,_,m)}else y=Dr._fromJSON(e,m);f!==a&&(c=y),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Pa(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Pa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZS(e))return"Blackberry";if(ex(e))return"Webos";if(QS(e))return"Safari";if((e.includes("chrome/")||YS(e))&&!e.includes("edge/"))return"Chrome";if(JS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GS(n=En()){return/firefox\//i.test(n)}function QS(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YS(n=En()){return/crios\//i.test(n)}function XS(n=En()){return/iemobile/i.test(n)}function JS(n=En()){return/android/i.test(n)}function ZS(n=En()){return/blackberry/i.test(n)}function ex(n=En()){return/webos/i.test(n)}function Iy(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mO(n=En()){var e;return Iy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gO(){return y2()&&document.documentMode===10}function tx(n=En()){return Iy(n)||JS(n)||ex(n)||ZS(n)||/windows phone/i.test(n)||XS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n,e=[]){let t;switch(n){case"Browser":t=U1(En());break;case"Worker":t=`${U1(En())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(n,e={}){return Fs(n,"GET","/v2/passwordPolicy",Po(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=6;class wO{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:_O,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B1(this),this.idTokenSubscription=new B1(this),this.beforeStateQueue=new yO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bi(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nh(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Nr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(bs(this));const t=e?Xt(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vO(this),t=new wO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bi(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&YN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function el(n){return Xt(n)}class B1{constructor(e){this.auth=e,this.observer=null,this.addObserver=I2(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TO(n){Qh=n}function rx(n){return Qh.loadJS(n)}function SO(){return Qh.recaptchaEnterpriseScript}function xO(){return Qh.gapiScript}function IO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bO{constructor(){this.enterprise=new CO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const PO="recaptcha-enterprise",ix="NO_RECAPTCHA";class AO{constructor(e){this.type=PO,this.auth=el(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{oO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new sO(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;L1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(ix)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&L1(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=SO();d.length!==0&&(d+=c),rx(d).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function $1(n,e,t,r=!1,i=!1){const a=new AO(n);let l;if(i)l=ix;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function z1(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await $1(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await $1(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n,e){const t=Ng(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(wo(a,e??{}))return i;Mr(i,"already-initialized")}return t.initialize({options:e})}function kO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(bi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NO(n,e,t){const r=el(n);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=sx(e),{host:l,port:c}=OO(e),d=c===null?"":`:${c}`,f={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(wo(f,r.config.emulator)&&wo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ka(l)?(tT(`${a}//${l}${d}`),nT("Auth",!0)):DO()}function sx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OO(n){const e=sx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:H1(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:H1(l)}}}function H1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function VO(n,e){return Fs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n,e){return Gh(n,"POST","/v1/accounts:signInWithPassword",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(n,e){return Gh(n,"POST","/v1/accounts:signInWithEmailLink",Po(n,e))}async function MO(n,e){return Gh(n,"POST","/v1/accounts:signInWithEmailLink",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends by{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Tu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z1(e,t,"signInWithPassword",LO);case"emailLink":return jO(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z1(e,r,"signUpPassword",VO);case"emailLink":return MO(e,{idToken:t,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(n,e){return Gh(n,"POST","/v1/accounts:signInWithIdp",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="http://localhost";class xo extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Ey(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new xo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Aa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Aa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}buildRequest(){const e={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BO(n){const e=Wl(ql(n)).link,t=e?Wl(ql(e)).deep_link_id:null,r=Wl(ql(n)).deep_link_id;return(r?Wl(ql(r)).link:null)||r||t||e||n}class Cy{constructor(e){var t,r,i,a,l,c;const d=Wl(ql(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,y=UO((i=d.mode)!==null&&i!==void 0?i:null);je(f&&m&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=BO(e);try{return new Cy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,t){return Tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Cy.parseLink(t);return je(r,"argument-error"),Tu._fromEmailAndCode(e,r.code,r.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends ox{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends $u{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ms.credential(t,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends $u{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends $u{constructor(){super("twitter.com")}static credential(e,t){return xo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ys.credential(t,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Dr._fromIdTokenResponse(e,r,i),l=W1(r);return new Ba({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=W1(r);return new Ba({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function W1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends ji{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ih(e,t,r,i)}}function ax(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(n,a,e,r):a})}async function $O(n,e,t=!1){const r=await Eu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ba._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(n,e,t=!1){const{auth:r}=n;if(Nr(r.app))return Promise.reject(bs(r));const i="reauthenticate";try{const a=await Eu(n,ax(r,i,e,n),t);je(a.idToken,r,"internal-error");const l=xy(a.idToken);je(l,r,"internal-error");const{sub:c}=l;return je(n.uid===c,r,"user-mismatch"),Ba._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(n,e,t=!1){if(Nr(n.app))return Promise.reject(bs(n));const r="signIn",i=await ax(n,r,e),a=await Ba._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function HO(n,e){return lx(el(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(n){const e=el(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qO(n,e,t){return Nr(n.app)?Promise.reject(bs(n)):HO(Xt(n),tl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WO(n),r})}function KO(n,e,t,r){return Xt(n).onIdTokenChanged(e,t,r)}function GO(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function Py(n,e,t,r){return Xt(n).onAuthStateChanged(e,t,r)}function go(n){return Xt(n).signOut()}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1e3,YO=10;class cx extends ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);gO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,YO):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cx.type="LOCAL";const XO=cx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dx.type="SESSION";const hx=dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,a)),d=await JO(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const f=Ay("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function e4(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function t4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function r4(){return fx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebaseLocalStorageDb",i4=1,oh="firebaseLocalStorage",mx="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(n,e){return n.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function s4(){const n=indexedDB.deleteDatabase(px);return new zu(n).toPromise()}function Qm(){const n=indexedDB.open(px,i4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(oh,{keyPath:mx})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),await s4(),e(await Qm()))})})}async function q1(n,e,t){const r=Xh(n,!0).put({[mx]:e,value:t});return new zu(r).toPromise()}async function o4(n,e){const t=Xh(n,!1).get(e),r=await new zu(t).toPromise();return r===void 0?null:r.value}function K1(n,e){const t=Xh(n,!0).delete(e);return new zu(t).toPromise()}const a4=800,l4=3;class gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>l4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(r4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await t4(),!this.activeServiceWorker)return;this.sender=new ZO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await q1(e,sh,"1"),await K1(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>q1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>o4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>K1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Xh(i,!1).getAll();return new zu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gx.type="LOCAL";const u4=gx;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n,e){return e?bi(e):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function d4(n){return lx(n.auth,new Ry(n),n.bypassAuthState)}function h4(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),zO(t,new Ry(n),n.bypassAuthState)}async function f4(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),$O(t,new Ry(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d4;case"linkViaPopup":case"linkViaRedirect":return f4;case"reauthViaPopup":case"reauthViaRedirect":return h4;default:Mr(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Bu(2e3,1e4);class Sa extends yx{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p4.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="pendingRedirect",Ld=new Map;class g4 extends yx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await y4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y4(n,e){const t=w4(e),r=_4(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function v4(n,e){Ld.set(n._key(),e)}function _4(n){return bi(n._redirectPersistence)}function w4(n){return Vd(m4,n.config.apiKey,n.name)}async function E4(n,e,t=!1){if(Nr(n.app))return Promise.reject(bs(n));const r=el(n),i=c4(r,e),l=await new g4(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=10*60*1e3;class S4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T4&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}}function G1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(n,e={}){return Fs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C4=/^https?/;async function P4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await I4(n);for(const t of e)try{if(A4(t))return}catch{}Mr(n,"unauthorized-domain")}function A4(n){const e=Km(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!C4.test(t))return!1;if(b4.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new Bu(3e4,6e4);function Q1(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function k4(n){return new Promise((e,t)=>{var r,i,a;function l(){Q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q1(),t(ni(n,"network-request-failed"))},timeout:R4.get()})}if(!((i=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)l();else{const c=IO("iframefcb");return ri()[c]=()=>{gapi.load?l():t(ni(n,"network-request-failed"))},rx(`${xO()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw jd=null,e})}let jd=null;function N4(n){return jd=jd||k4(n),jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Bu(5e3,15e3),D4="__/auth/iframe",V4="emulator/auth/iframe",L4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M4(n){const e=n.config;je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sy(e,V4):`https://${n.config.authDomain}/${D4}`,r={apiKey:e.apiKey,appName:n.name,v:Ga},i=j4.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Vu(r).slice(1)}`}async function F4(n){const e=await N4(n),t=ri().gapi;return je(t,n,"internal-error"),e.open({where:document.body,url:M4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L4,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ni(n,"network-request-failed"),c=ri().setTimeout(()=>{a(l)},O4.get());function d(){ri().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B4=500,$4=600,z4="_blank",H4="http://localhost";class Y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W4(n,e,t,r=B4,i=$4){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},U4),{width:r.toString(),height:i.toString(),top:a,left:l}),f=En().toLowerCase();t&&(c=YS(f)?z4:t),GS(f)&&(e=e||H4,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,x])=>`${_}${T}=${x},`,"");if(mO(f)&&c!=="_self")return q4(e||"",c),new Y1(null);const y=window.open(e||"",c,m);je(y,n,"popup-blocked");try{y.focus()}catch{}return new Y1(y)}function q4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="__/auth/handler",G4="emulator/auth/handler",Q4=encodeURIComponent("fac");async function X1(n,e,t,r,i,a){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ga,eventId:i};if(e instanceof ox){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",x2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof $u){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await n._getAppCheckToken(),f=d?`#${Q4}=${encodeURIComponent(d)}`:"";return`${Y4(n)}?${Vu(c).slice(1)}${f}`}function Y4({config:n}){return n.emulator?Sy(n,G4):`https://${n.authDomain}/${K4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="webStorageSupport";class X4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hx,this._completeRedirectFn=E4,this._overrideRedirectResult=v4}async _openPopup(e,t,r,i){var a;Di((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await X1(e,t,r,Km(),i);return W4(e,l,Ay())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await X1(e,t,r,Km(),i);return e4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Di(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await F4(e),r=new S4(e);return t.register("authEvent",i=>(je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sm,{type:sm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[sm];l!==void 0&&t(!!l),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tx()||QS()||Iy()}}const J4=X4;var J1="@firebase/auth",Z1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tD(n){Na(new Eo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(n)},f=new EO(r,i,a,d);return kO(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Na(new Eo("auth-internal",e=>{const t=el(e.getProvider("auth").getImmediate());return(r=>new Z4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(J1,Z1,eD(n)),Ss(J1,Z1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=5*60,rD=eT("authIdTokenMaxAge")||nD;let ew=null;const iD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rD)return;const i=t==null?void 0:t.token;ew!==i&&(ew=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sD(n=oT()){const e=Ng(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RO(n,{popupRedirectResolver:J4,persistence:[u4,XO,hx]}),r=eT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=iD(a.toString());GO(t,l,()=>l(t.currentUser)),KO(t,c=>l(c))}}const i=JE("auth");return i&&NO(t,`http://${i}`),t}function oD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ni("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",oD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tD("Browser");const aD={apiKey:"AIzaSyDgaiFJLZ9c23CFHxylywvMJo6qKk19ORc",authDomain:"reverse-saas-98918.firebaseapp.com",projectId:"reverse-saas-98918",storageBucket:"reverse-saas-98918.firebasestorage.app",messagingSenderId:"536068162304",appId:"1:536068162304:web:29928e71ffa3d4c6b5a9e5"},_x=sT(aD),Or=sD(_x),Ke=kN(_x);var om={exports:{}},tw;function lD(){return tw||(tw=1,(()=>{var n={296:(i,a,l)=>{var c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,y=parseInt,_=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,T=typeof self=="object"&&self&&self.Object===Object&&self,x=_||T||Function("return this")(),R=Object.prototype.toString,A=Math.max,j=Math.min,I=function(){return x.Date.now()};function N(B){var Y=typeof B;return!!B&&(Y=="object"||Y=="function")}function M(B){if(typeof B=="number")return B;if(function(C){return typeof C=="symbol"||function(k){return!!k&&typeof k=="object"}(C)&&R.call(C)=="[object Symbol]"}(B))return NaN;if(N(B)){var Y=typeof B.valueOf=="function"?B.valueOf():B;B=N(Y)?Y+"":Y}if(typeof B!="string")return B===0?B:+B;B=B.replace(c,"");var D=f.test(B);return D||m.test(B)?y(B.slice(2),D?2:8):d.test(B)?NaN:+B}i.exports=function(B,Y,D){var C,k,L,F,$,V,ye=0,Re=!1,ve=!1,Ee=!0;if(typeof B!="function")throw new TypeError("Expected a function");function Q(pe){var Se=C,Ne=k;return C=k=void 0,ye=pe,F=B.apply(Ne,Se)}function ae(pe){var Se=pe-V;return V===void 0||Se>=Y||Se<0||ve&&pe-ye>=L}function ne(){var pe=I();if(ae(pe))return z(pe);$=setTimeout(ne,function(Se){var Ne=Y-(Se-V);return ve?j(Ne,L-(Se-ye)):Ne}(pe))}function z(pe){return $=void 0,Ee&&C?Q(pe):(C=k=void 0,F)}function Z(){var pe=I(),Se=ae(pe);if(C=arguments,k=this,V=pe,Se){if($===void 0)return function(Ne){return ye=Ne,$=setTimeout(ne,Y),Re?Q(Ne):F}(V);if(ve)return $=setTimeout(ne,Y),Q(V)}return $===void 0&&($=setTimeout(ne,Y)),F}return Y=M(Y)||0,N(D)&&(Re=!!D.leading,L=(ve="maxWait"in D)?A(M(D.maxWait)||0,Y):L,Ee="trailing"in D?!!D.trailing:Ee),Z.cancel=function(){$!==void 0&&clearTimeout($),ye=0,C=V=k=$=void 0},Z.flush=function(){return $===void 0?F:z(I())},Z}},96:(i,a,l)=>{var c="Expected a function",d=NaN,f="[object Symbol]",m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,T=/^0o[0-7]+$/i,x=parseInt,R=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,A=typeof self=="object"&&self&&self.Object===Object&&self,j=R||A||Function("return this")(),I=Object.prototype.toString,N=Math.max,M=Math.min,B=function(){return j.Date.now()};function Y(C){var k=typeof C;return!!C&&(k=="object"||k=="function")}function D(C){if(typeof C=="number")return C;if(function(F){return typeof F=="symbol"||function($){return!!$&&typeof $=="object"}(F)&&I.call(F)==f}(C))return d;if(Y(C)){var k=typeof C.valueOf=="function"?C.valueOf():C;C=Y(k)?k+"":k}if(typeof C!="string")return C===0?C:+C;C=C.replace(m,"");var L=_.test(C);return L||T.test(C)?x(C.slice(2),L?2:8):y.test(C)?d:+C}i.exports=function(C,k,L){var F=!0,$=!0;if(typeof C!="function")throw new TypeError(c);return Y(L)&&(F="leading"in L?!!L.leading:F,$="trailing"in L?!!L.trailing:$),function(V,ye,Re){var ve,Ee,Q,ae,ne,z,Z=0,pe=!1,Se=!1,Ne=!0;if(typeof V!="function")throw new TypeError(c);function $e(_t){var Wt=ve,Rt=Ee;return ve=Ee=void 0,Z=_t,ae=V.apply(Rt,Wt)}function Ze(_t){var Wt=_t-z;return z===void 0||Wt>=ye||Wt<0||Se&&_t-Z>=Q}function Ge(){var _t=B();if(Ze(_t))return at(_t);ne=setTimeout(Ge,function(Wt){var Rt=ye-(Wt-z);return Se?M(Rt,Q-(Wt-Z)):Rt}(_t))}function at(_t){return ne=void 0,Ne&&ve?$e(_t):(ve=Ee=void 0,ae)}function vt(){var _t=B(),Wt=Ze(_t);if(ve=arguments,Ee=this,z=_t,Wt){if(ne===void 0)return function(Rt){return Z=Rt,ne=setTimeout(Ge,ye),pe?$e(Rt):ae}(z);if(Se)return ne=setTimeout(Ge,ye),$e(z)}return ne===void 0&&(ne=setTimeout(Ge,ye)),ae}return ye=D(ye)||0,Y(Re)&&(pe=!!Re.leading,Q=(Se="maxWait"in Re)?N(D(Re.maxWait)||0,ye):Q,Ne="trailing"in Re?!!Re.trailing:Ne),vt.cancel=function(){ne!==void 0&&clearTimeout(ne),Z=0,ve=z=Ee=ne=void 0},vt.flush=function(){return ne===void 0?ae:at(B())},vt}(C,k,{leading:F,maxWait:k,trailing:$})}},703:(i,a,l)=>{var c=l(414);function d(){}function f(){}f.resetWarningCache=d,i.exports=function(){function m(T,x,R,A,j,I){if(I!==c){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}function y(){return m}m.isRequired=m;var _={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:y,element:m,elementType:m,instanceOf:y,node:m,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:f,resetWarningCache:d};return _.PropTypes=_,_}},697:(i,a,l)=>{i.exports=l(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function t(i){var a=e[i];if(a!==void 0)return a.exports;var l=e[i]={exports:{}};return n[i](l,l.exports,t),l.exports}t.n=i=>{var a=i&&i.__esModule?()=>i.default:()=>i;return t.d(a,{a}),a},t.d=(i,a)=>{for(var l in a)t.o(a,l)&&!t.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:a[l]})},t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),t.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{t.r(r),t.d(r,{LazyLoadComponent:()=>Wt,LazyLoadImage:()=>Ui,trackWindowScroll:()=>ae});const i=Ih();var a=t.n(i),l=t(697);function c(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function d(le){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},d(le)}function f(le,q){var se=Object.keys(le);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(le);q&&(de=de.filter(function(ze){return Object.getOwnPropertyDescriptor(le,ze).enumerable})),se.push.apply(se,de)}return se}function m(le,q,se){return(q=_(q))in le?Object.defineProperty(le,q,{value:se,enumerable:!0,configurable:!0,writable:!0}):le[q]=se,le}function y(le,q){for(var se=0;se<q.length;se++){var de=q[se];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(le,_(de.key),de)}}function _(le){var q=function(se,de){if(d(se)!=="object"||se===null)return se;var ze=se[Symbol.toPrimitive];if(ze!==void 0){var Ue=ze.call(se,"string");if(d(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(le);return d(q)==="symbol"?q:String(q)}function T(le,q){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,de){return se.__proto__=de,se},T(le,q)}function x(le){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},x(le)}var R=function(le){le.forEach(function(q){q.isIntersecting&&q.target.onVisible()})},A={},j=function(le){(function(te,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(re&&re.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),re&&T(te,re)})(Xe,le);var q,se,de,ze,Ue=(de=Xe,ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,re=x(de);if(ze){var be=x(this).constructor;te=Reflect.construct(re,arguments,be)}else te=re.apply(this,arguments);return function(Te,_e){if(_e&&(d(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(qe){if(qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qe}(Te)}(this,te)});function Xe(te){var re;if(function(Te,_e){if(!(Te instanceof _e))throw new TypeError("Cannot call a class as a function")}(this,Xe),(re=Ue.call(this,te)).supportsObserver=!te.scrollPosition&&te.useIntersectionObserver&&c(),re.supportsObserver){var be=te.threshold;re.observer=function(Te){return A[Te]=A[Te]||new IntersectionObserver(R,{rootMargin:Te+"px"}),A[Te]}(be)}return re}return q=Xe,se=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,re=this.placeholder.getBoundingClientRect(),be=this.placeholder.style,Te=parseInt(be.getPropertyValue("margin-left"),10)||0,_e=parseInt(be.getPropertyValue("margin-top"),10)||0;return{bottom:te.y+re.bottom+_e,left:te.x+re.left+Te,right:te.x+re.right+Te,top:te.y+re.top+_e}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var te=this.props,re=te.scrollPosition,be=te.threshold,Te=this.getPlaceholderBoundingBox(re),_e=re.y+window.innerHeight,qe=re.x,dt=re.x+window.innerWidth,pt=re.y;return pt-be<=Te.bottom&&_e+be>=Te.top&&qe-be<=Te.right&&dt+be>=Te.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var te=this,re=this.props,be=re.className,Te=re.height,_e=re.placeholder,qe=re.style,dt=re.width;if(_e&&typeof _e.type!="function")return a().cloneElement(_e,{ref:function(lt){return te.placeholder=lt}});var pt=function(lt){for(var mt=1;mt<arguments.length;mt++){var ht=arguments[mt]!=null?arguments[mt]:{};mt%2?f(Object(ht),!0).forEach(function(kt){m(lt,kt,ht[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(ht)):f(Object(ht)).forEach(function(kt){Object.defineProperty(lt,kt,Object.getOwnPropertyDescriptor(ht,kt))})}return lt}({display:"inline-block"},qe);return dt!==void 0&&(pt.width=dt),Te!==void 0&&(pt.height=Te),a().createElement("span",{className:be,ref:function(lt){return te.placeholder=lt},style:pt},_e)}}],se&&y(q.prototype,se),Object.defineProperty(q,"prototype",{writable:!1}),Xe}(a().Component);j.propTypes={onVisible:l.PropTypes.func.isRequired,className:l.PropTypes.string,height:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string]),placeholder:l.PropTypes.element,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,scrollPosition:l.PropTypes.shape({x:l.PropTypes.number.isRequired,y:l.PropTypes.number.isRequired}),width:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string])},j.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const I=j;var N=t(296),M=t.n(N),B=t(96),Y=t.n(B),D=function(le){var q=getComputedStyle(le,null);return q.getPropertyValue("overflow")+q.getPropertyValue("overflow-y")+q.getPropertyValue("overflow-x")};const C=function(le){if(!(le instanceof HTMLElement))return window;for(var q=le;q&&q instanceof HTMLElement;){if(/(scroll|auto)/.test(D(q)))return q;q=q.parentNode}return window};function k(le){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},k(le)}var L=["delayMethod","delayTime"];function F(){return F=Object.assign?Object.assign.bind():function(le){for(var q=1;q<arguments.length;q++){var se=arguments[q];for(var de in se)Object.prototype.hasOwnProperty.call(se,de)&&(le[de]=se[de])}return le},F.apply(this,arguments)}function $(le,q){for(var se=0;se<q.length;se++){var de=q[se];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(le,(ze=function(Ue,Xe){if(k(Ue)!=="object"||Ue===null)return Ue;var te=Ue[Symbol.toPrimitive];if(te!==void 0){var re=te.call(Ue,"string");if(k(re)!=="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(de.key),k(ze)==="symbol"?ze:String(ze)),de)}var ze}function V(le,q){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,de){return se.__proto__=de,se},V(le,q)}function ye(le,q){if(q&&(k(q)==="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Re(le)}function Re(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function ve(le){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},ve(le)}var Ee=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},Q=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const ae=function(le){var q=function(se){(function(be,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(Te&&Te.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),Te&&V(be,Te)})(re,se);var de,ze,Ue,Xe,te=(Ue=re,Xe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var be,Te=ve(Ue);if(Xe){var _e=ve(this).constructor;be=Reflect.construct(Te,arguments,_e)}else be=Te.apply(this,arguments);return ye(this,be)});function re(be){var Te;if(function(qe,dt){if(!(qe instanceof dt))throw new TypeError("Cannot call a class as a function")}(this,re),(Te=te.call(this,be)).useIntersectionObserver=be.useIntersectionObserver&&c(),Te.useIntersectionObserver)return ye(Te);var _e=Te.onChangeScroll.bind(Re(Te));return be.delayMethod==="debounce"?Te.delayedScroll=M()(_e,be.delayTime):be.delayMethod==="throttle"&&(Te.delayedScroll=Y()(_e,be.delayTime)),Te.state={scrollPosition:{x:Ee(),y:Q()}},Te.baseComponentRef=a().createRef(),Te}return de=re,(ze=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||C(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=C(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:Ee(),y:Q()}})}},{key:"render",value:function(){var be=this.props,Te=(be.delayMethod,be.delayTime,function(qe,dt){if(qe==null)return{};var pt,lt,mt=function(kt,on){if(kt==null)return{};var zn,tr,Bi={},nr=Object.keys(kt);for(tr=0;tr<nr.length;tr++)zn=nr[tr],on.indexOf(zn)>=0||(Bi[zn]=kt[zn]);return Bi}(qe,dt);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(qe);for(lt=0;lt<ht.length;lt++)pt=ht[lt],dt.indexOf(pt)>=0||Object.prototype.propertyIsEnumerable.call(qe,pt)&&(mt[pt]=qe[pt])}return mt}(be,L)),_e=this.useIntersectionObserver?null:this.state.scrollPosition;return a().createElement(le,F({forwardRef:this.baseComponentRef,scrollPosition:_e},Te))}}])&&$(de.prototype,ze),Object.defineProperty(de,"prototype",{writable:!1}),re}(a().Component);return q.propTypes={delayMethod:l.PropTypes.oneOf(["debounce","throttle"]),delayTime:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool},q.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},q};function ne(le){return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},ne(le)}function z(le,q){for(var se=0;se<q.length;se++){var de=q[se];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(le,(ze=function(Ue,Xe){if(ne(Ue)!=="object"||Ue===null)return Ue;var te=Ue[Symbol.toPrimitive];if(te!==void 0){var re=te.call(Ue,"string");if(ne(re)!=="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(de.key),ne(ze)==="symbol"?ze:String(ze)),de)}var ze}function Z(le,q){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,de){return se.__proto__=de,se},Z(le,q)}function pe(le){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},pe(le)}var Se=function(le){(function(te,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(re&&re.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),re&&Z(te,re)})(Xe,le);var q,se,de,ze,Ue=(de=Xe,ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,re=pe(de);if(ze){var be=pe(this).constructor;te=Reflect.construct(re,arguments,be)}else te=re.apply(this,arguments);return function(Te,_e){if(_e&&(ne(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(qe){if(qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qe}(Te)}(this,te)});function Xe(te){return function(re,be){if(!(re instanceof be))throw new TypeError("Cannot call a class as a function")}(this,Xe),Ue.call(this,te)}return q=Xe,(se=[{key:"render",value:function(){return a().createElement(I,this.props)}}])&&z(q.prototype,se),Object.defineProperty(q,"prototype",{writable:!1}),Xe}(a().Component);const Ne=ae(Se);function $e(le){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},$e(le)}function Ze(le,q){for(var se=0;se<q.length;se++){var de=q[se];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(le,(ze=function(Ue,Xe){if($e(Ue)!=="object"||Ue===null)return Ue;var te=Ue[Symbol.toPrimitive];if(te!==void 0){var re=te.call(Ue,"string");if($e(re)!=="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)}(de.key),$e(ze)==="symbol"?ze:String(ze)),de)}var ze}function Ge(le,q){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,de){return se.__proto__=de,se},Ge(le,q)}function at(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function vt(le){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},vt(le)}var _t=function(le){(function(te,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(re&&re.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),re&&Ge(te,re)})(Xe,le);var q,se,de,ze,Ue=(de=Xe,ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,re=vt(de);if(ze){var be=vt(this).constructor;te=Reflect.construct(re,arguments,be)}else te=re.apply(this,arguments);return function(Te,_e){if(_e&&($e(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(Te)}(this,te)});function Xe(te){var re;(function(dt,pt){if(!(dt instanceof pt))throw new TypeError("Cannot call a class as a function")})(this,Xe),re=Ue.call(this,te);var be=te.afterLoad,Te=te.beforeLoad,_e=te.scrollPosition,qe=te.visibleByDefault;return re.state={visible:qe},qe&&(Te(),be()),re.onVisible=re.onVisible.bind(at(re)),re.isScrollTracked=!!(_e&&Number.isFinite(_e.x)&&_e.x>=0&&Number.isFinite(_e.y)&&_e.y>=0),re}return q=Xe,(se=[{key:"componentDidUpdate",value:function(te,re){re.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var te=this.props,re=te.className,be=te.delayMethod,Te=te.delayTime,_e=te.height,qe=te.placeholder,dt=te.scrollPosition,pt=te.style,lt=te.threshold,mt=te.useIntersectionObserver,ht=te.width;return this.isScrollTracked||mt&&c()?a().createElement(I,{className:re,height:_e,onVisible:this.onVisible,placeholder:qe,scrollPosition:dt,style:pt,threshold:lt,useIntersectionObserver:mt,width:ht}):a().createElement(Ne,{className:re,delayMethod:be,delayTime:Te,height:_e,onVisible:this.onVisible,placeholder:qe,style:pt,threshold:lt,width:ht})}}])&&Ze(q.prototype,se),Object.defineProperty(q,"prototype",{writable:!1}),Xe}(a().Component);_t.propTypes={afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool},_t.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Wt=_t;function Rt(le){return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},Rt(le)}var li=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function ui(le,q){var se=Object.keys(le);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(le);q&&(de=de.filter(function(ze){return Object.getOwnPropertyDescriptor(le,ze).enumerable})),se.push.apply(se,de)}return se}function Mi(le){for(var q=1;q<arguments.length;q++){var se=arguments[q]!=null?arguments[q]:{};q%2?ui(Object(se),!0).forEach(function(de){Us(le,de,se[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(se)):ui(Object(se)).forEach(function(de){Object.defineProperty(le,de,Object.getOwnPropertyDescriptor(se,de))})}return le}function Us(le,q,se){return(q=er(q))in le?Object.defineProperty(le,q,{value:se,enumerable:!0,configurable:!0,writable:!0}):le[q]=se,le}function ci(){return ci=Object.assign?Object.assign.bind():function(le){for(var q=1;q<arguments.length;q++){var se=arguments[q];for(var de in se)Object.prototype.hasOwnProperty.call(se,de)&&(le[de]=se[de])}return le},ci.apply(this,arguments)}function Fi(le,q){for(var se=0;se<q.length;se++){var de=q[se];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(le,er(de.key),de)}}function er(le){var q=function(se,de){if(Rt(se)!=="object"||se===null)return se;var ze=se[Symbol.toPrimitive];if(ze!==void 0){var Ue=ze.call(se,"string");if(Rt(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(le);return Rt(q)==="symbol"?q:String(q)}function $n(le,q){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,de){return se.__proto__=de,se},$n(le,q)}function Ur(le){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},Ur(le)}var Br=function(le){(function(te,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(re&&re.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),re&&$n(te,re)})(Xe,le);var q,se,de,ze,Ue=(de=Xe,ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,re=Ur(de);if(ze){var be=Ur(this).constructor;te=Reflect.construct(re,arguments,be)}else te=re.apply(this,arguments);return function(Te,_e){if(_e&&(Rt(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(qe){if(qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qe}(Te)}(this,te)});function Xe(te){var re;return function(be,Te){if(!(be instanceof Te))throw new TypeError("Cannot call a class as a function")}(this,Xe),(re=Ue.call(this,te)).state={loaded:!1},re}return q=Xe,(se=[{key:"onImageLoad",value:function(){var te=this;return this.state.loaded?null:function(re){te.props.onLoad(re),te.props.afterLoad(),te.setState({loaded:!0})}}},{key:"getImg",value:function(){var te=this.props,re=(te.afterLoad,te.beforeLoad,te.delayMethod,te.delayTime,te.effect,te.placeholder,te.placeholderSrc,te.scrollPosition,te.threshold,te.useIntersectionObserver,te.visibleByDefault,te.wrapperClassName,te.wrapperProps,function(be,Te){if(be==null)return{};var _e,qe,dt=function(lt,mt){if(lt==null)return{};var ht,kt,on={},zn=Object.keys(lt);for(kt=0;kt<zn.length;kt++)ht=zn[kt],mt.indexOf(ht)>=0||(on[ht]=lt[ht]);return on}(be,Te);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(be);for(qe=0;qe<pt.length;qe++)_e=pt[qe],Te.indexOf(_e)>=0||Object.prototype.propertyIsEnumerable.call(be,_e)&&(dt[_e]=be[_e])}return dt}(te,li));return a().createElement("img",ci({},re,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var te=this.props,re=te.beforeLoad,be=te.className,Te=te.delayMethod,_e=te.delayTime,qe=te.height,dt=te.placeholder,pt=te.scrollPosition,lt=te.style,mt=te.threshold,ht=te.useIntersectionObserver,kt=te.visibleByDefault,on=te.width;return a().createElement(Wt,{beforeLoad:re,className:be,delayMethod:Te,delayTime:_e,height:qe,placeholder:dt,scrollPosition:pt,style:lt,threshold:mt,useIntersectionObserver:ht,visibleByDefault:kt,width:on},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(te){var re=this.props,be=re.effect,Te=re.height,_e=re.placeholderSrc,qe=re.width,dt=re.wrapperClassName,pt=re.wrapperProps,lt=this.state.loaded,mt=lt?" lazy-load-image-loaded":"",ht=lt||!_e?{}:{backgroundImage:"url(".concat(_e,")"),backgroundSize:"100% 100%"};return a().createElement("span",ci({className:dt+" lazy-load-image-background "+be+mt,style:Mi(Mi({},ht),{},{color:"transparent",display:"inline-block",height:Te,width:qe})},pt),te)}},{key:"render",value:function(){var te=this.props,re=te.effect,be=te.placeholderSrc,Te=te.visibleByDefault,_e=te.wrapperClassName,qe=te.wrapperProps,dt=this.getLazyLoadImage();return(re||be)&&!Te||_e||qe?this.getWrappedLazyLoadImage(dt):dt}}])&&Fi(q.prototype,se),Object.defineProperty(q,"prototype",{writable:!1}),Xe}(a().Component);Br.propTypes={onLoad:l.PropTypes.func,afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,delayMethod:l.PropTypes.string,delayTime:l.PropTypes.number,effect:l.PropTypes.string,placeholderSrc:l.PropTypes.string,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool,wrapperClassName:l.PropTypes.string,wrapperProps:l.PropTypes.object},Br.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Ui=Br})(),om.exports=r})()),om.exports}var uD=lD();function cD(){const{slug:n}=sn(),[e,t]=P.useState(null);return P.useEffect(()=>{(async()=>{try{const i=ct(Ke,"ReVerse",n),a=await Tn(i);a.exists()?t(a.data()):console.error("Document not found")}catch(i){console.error("Error fetching hero data:",i)}})()},[n]),e?v.jsx("header",{className:"header",children:v.jsxs("div",{className:"header-container",children:[v.jsxs("div",{className:"header-text",children:[v.jsx("h1",{children:e.heroTitle}),v.jsx("p",{children:e.heroSubtitle})]}),v.jsx("div",{className:"header-image",children:v.jsx(uD.LazyLoadImage,{src:e.heroImage,alt:"Hero",effect:"blur"})})]})}):null}const Jh=P.createContext(),wx=({children:n,slug:e})=>{const t=()=>{const d=localStorage.getItem(`cartItems_${e}`);return d?JSON.parse(d):{}},[r,i]=P.useState(t);P.useEffect(()=>{e&&localStorage.setItem(`cartItems_${e}`,JSON.stringify(r))},[r,e]);const a=(d,f)=>{if(!d||!(f!=null&&f.label)||!(f!=null&&f.price))return;const m=`${d.id}_${f.label}`;i(y=>{const _=y[m]||{id:d.id,name:d.name,size:f.label,price:f.price,quantity:0,image:d.image||"",collection:f.collection||"products"};return{...y,[m]:{..._,quantity:_.quantity+1}}})},l=(d,f,m="products")=>{const y=`${d}_${f}`;i(_=>{const T=_[y];if(!T)return _;if(T.quantity<=1){const x={..._};return delete x[y],x}return{..._,[y]:{...T,quantity:T.quantity-1}}})},c=()=>{i({}),localStorage.removeItem(`cartItems_${e}`)};return v.jsx(Jh.Provider,{value:{cartItems:r,addToCart:a,removeFromCart:l,clearCart:c},children:n})};function dD({title:n,description:e}){return v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"menu-section__title fade-in",children:n}),v.jsx("p",{className:"menu-section__description fade-in delay",children:e})]})}function hD({items:n,selectedSizes:e,sizeErrors:t,cartItems:r,handleSizeSelect:i,handleAddToCart:a,removeFromCart:l,renderDescription:c,specialTitle:d}){return n!=null&&n.length?(P.useEffect(()=>{n.forEach(f=>{const m=e[f.id],y=(f.sizes||[]).reduce((x,R)=>(R.label&&R.price&&(x[R.label]={price:R.price}),x),{}),_=Object.keys(y),T=_.length===1?_[0]:null;T&&!m&&i(f.id,T)})},[n,e,i]),v.jsxs("div",{className:"menu-special-section",children:[v.jsx("h3",{className:"menu-special-section__title fade-in",children:d}),v.jsx("div",{className:"menu-products-container",children:n.map((f,m)=>{var j,I;const y=e[f.id],_=t[f.id]||!1,T=(f.sizes||[]).reduce((N,M)=>(M.label&&M.price&&(N[M.label]={price:M.price}),N),{}),x=Object.keys(T),R=y?`${f.id}_${y}`:null,A=R&&((j=r[R])!=null&&j.quantity)?r[R].quantity:0;return v.jsxs("div",{className:"menu-item-special fade-in",style:{animationDelay:`${m*.2}s`},children:[v.jsx("img",{loading:"lazy",className:"menu-item__image",src:f.image,alt:f.name}),v.jsx("h4",{className:"menu-item__name",children:f.name}),c(f),v.jsxs("div",{children:[f.oldPrice&&v.jsxs("span",{className:"menu-item__old-price",children:["$",f.oldPrice]}),v.jsx("span",{className:"menu-item__price",children:y?`$${(I=T[y])==null?void 0:I.price.toFixed(2)}`:`$${f.price}`})]}),x.length>1&&v.jsx("div",{className:"choices",children:Object.entries(T).map(([N,M])=>v.jsxs("button",{className:`choice-button ${y===N?"selected":""} ${_?"error-border":""}`,onClick:()=>i(f.id,N),children:[N," ($",parseFloat(M.price).toFixed(2),")"]},N))}),v.jsx("div",{className:"menu-item__actions",children:A===0?v.jsx("button",{className:"add-btn",onClick:()=>a(f,T,"specialItems"),children:"+"}):v.jsxs("div",{className:"quantity-controls",children:[v.jsx("button",{className:"qty-btn",onClick:()=>l(f.id,y,"specialItems"),children:"-"}),v.jsx("span",{className:"qty-count",children:A}),v.jsx("button",{className:"qty-btn",onClick:()=>{var N;return a(f,{label:y,price:((N=T[y])==null?void 0:N.price)||f.price,collection:"specialItems"})},children:"+"})]})})]},`${f.id}`)})})]})):null}function fD({categories:n=[],selectedCategory:e,setSelectedCategory:t}){return n.length?v.jsx("div",{className:"category-list",children:n.map((r,i)=>{const a=typeof r=="string"?r:r.name,l=typeof r=="object"&&r.image;return v.jsxs("button",{onClick:()=>t(c=>c===a?null:a),className:`category-btn fade-in ${e===a?"active":""}`,style:{animationDelay:`${i*.1}s`},children:[l&&v.jsx("img",{className:"category-btn__img",src:l,alt:a,width:"50"}),v.jsx("p",{children:a})]},a)})}):null}const pD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAYNSURBVGhD1Vo9TyRHEJ2Z5RYjIV2GEYGxBMYSgS8gP0iwiJwAoSNfRkCwASGSTUJqzA9ADh2tnQBHgqUNEewJIWFA3AkCAiSvEOJLsOv3aqpaveO1fMcO7GxJj/7Yme56XVX9NQS1Wi0MIPPz8xESgmXL5xL5Dg8vRkdHJSWGh4fzms+PjIxImoTV81l9npD3CbY3PT1t/Ujq6WUIWaf11NUgEpKQkpIXvIcdAXakyhgBU8QU62wAqfcUb1Tv2tL2rQ/27SMyHT0ilNAsYhASimQjRsIgihmBYrH4+eXl5Zvb29ulh4eHYrVafQ/8jfadsA6/bd7c3CxVKpXpvb29Ib4/ODhoxIyUQQYQEB3UWjmPhE8mtgZSIaAP+USsMSPi3ILKQ6nC/f39Zqzqpwvfvbi4eIP26sgkLFNHxtORMCPUEyE8P5XGvEZl9NbW1now8j8lR7wZgaXes030Ye4mKfvW/usIeWQcESnYD0rCXnQEFJ3n5+fj7FT7T13YNl2UfRFKyvSoIwP4ZFyGqT1QR4KNqRWWtL8nF/T1M12X/SsaWcYRMQLCSNMQLwRbW1tWDhCUXw4NDf2Wy+W+Yfm5BK774fj4eBzu/AHFWlwbp5hBg56enhoGOa6nS3kxYTBrdHJmeUpX+j9h34eHh1+piwm4DOgaZusOjRG7k5HxX2g1CRPqQF1ML2/yERcT3X1r2AOcmeifWSBhgmm67MVMHRGFMw8r3QL3nIH9scIJgIPsWcQnE1sDELPxQU5/+m7mhNO/6Qo0JGIbv84suVRSqBuXAuhpRIxMTAIQllxd9Z3MyvX1NXcAFgaOiCMBZNoaJtwaNQh8YSNEshwbSbm6uiqo3kIkgnm4mHB1DLu6ur5H2haSz+e/QxJCf9l9yIoICbHg9EdR9FrLmRdsl16XSqWXWhQyEhs86KjVUpODg4Pa7OysgPm0RXfJstKbWwVwq9StgY6CcrksYD5t6ejoeMWUG9yIO12tfNadbRoCnb9AjDAbRmBD/6qFYdjPmnYS6PwKsS15F+xtSuQltlQS6PzDYOe5/YYVjxXGAM4NWoqF5eXlZcnPzMwE6FTyJr29vYJmBGQ+QyKXDty2R5hVmiKyuroaLC4uaunjZG5uLpiYmNDS48SI0LVCjBxns4r80n4isy7P5y+wCQt3d3f/aiZO6FrJKXZnZ8dZaWFhIRgYGJC8SXd3t+CxwjM9FsavwaHKsuyzcAL7nWZJU7a3t2tjY2MC5tMWXu6p/rIgUkLsenlT0VYCnd/pOhJw0xgA3BqXpaaNBGenTbeOIFNjYX19/Q+paSM5PT19p1lZR7ifZxrC59a5q+QPacjZ2VmwsrIi+cnJyX+tI80I3OpPbFF4fg8Q7DJz2Vk9z5t1jaPMC2baH6gz9QfcUZeQu6w0b9ifSngcp76AI2KzFqVaKBQqCKBftJxZubu7+1WzdKs4o5dzZCV3WhsbG5m6YUyKWYPhoCFh98DuOsiQ5yWYvpc5we5BToUK+9SQ4/U8iRgrIUKm/M6n72ZGqBP0Y2zYoIvugNw02r2vI0Iw8HlxrG20XOhSpVKp0Q0j9c9x/RA2FJhJgl9PjcHJyUl/X1/f2yiKWnro4uZwf3//26mpKcYHPzxx3ZC1AzHuPvZQ+Zy5mMJZ5ujoqOUfeqC4+zaiutVZAxADcPSFDOATMbTsgw9duwEJiWedbal3DFZ4lT4ZR4jBT/98zgmAfVlMsH+dnYQIQD0N8f8G8I/3zdp9glPYy+4DEKe/p7QO28YebVz7EygJ0Un1c/84oLpLTMuGERAy9qDCJ+P2ZFw4ebWfJiFujbCr+NH79lFnBRtgTf3BN/3jP0x9yyhkFLwGHRkDLcSTmurzycJ3uVm1zwTsy1yJ8OJBkCBgqYgjAghTfdjcLEnIrOTI0EIMSt4f07epXNJaHHHW4bciRn6JA2DKJ93I64dwJADfEvKfQgTywkEyfmUDyxDWsBHx4RShUqqY/AsGSTK1Oi075Vn2lU8sA/5g+v8V5IMiafIHg2MO/BchgygBODJMk0obVGmBP/pGQlPrz9fDYEI9IUH4D73WUcZJ0wQDAAAAAElFTkSuQmCC",mD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK/SURBVHgBzZhNbxJBGMf/M922JGrEeFF7WU2aWKQEEj0aqQevtBfP9QNo6cnoRTh48FTrFyhnL+XqSTjXBNryltjonoxHFGuksIzP8NZSdsvwtvBLlp2dGXb/eZ6ZZ54Zhj5IiZRbg8vPIEIAozt0AaG32hmYIQADEOkakPQxTxx9wFQ65UVeNyE2qLhOlxvqFElgnAPRJbZk9Op8oZiGJWYjDHwDQ0KiYr1E2Yo5FPkgh9ghs+sYEfQxcmNtzcu8aat2blWZEbkwjYvPoxQiabyPpzIiE4aKmEORjdBtC2OFb1kJ6nDTgThY5dB24RAC5soyW07gvBg5Y2pjcE0POcUKTm4HWKAon9puorjwxlkhEuaew/xO+0n+NOPId0yIlrvqlpFWwQRhmKl/nw1rlXffPqBwfIS7lxbx8s5zDEoF5WuaCTNoE26UkEL2flMMY0oriy2zcIU4megRpoMgp1XXj6lA+KV/dEwFQtfQR0pQOP6KUvVPR13ruVQtYe9Xqus/D64GoAZzM1oUhWJvPPnyFD/KP1W7Y2H+Bj7d/6jcX7qpiKlAFKVlpG2VBrGVVV7kXqPw96jujreLr7rab5F1FElrlIGlVWeU1YuvaJcvbFdHpGlqm0lMBTzBK6j0lcGPiwr+JXkzl0hgoogY6TC0ehFmlJaFIAbg8fWHWHDdrE/jQaEEKyrv7dUtK3K7FHBW4Tgi5mX3nslSe7k+QVlWOB1zjJZVOsTIsUPuWoOD1FDdlGMF58VIZOpnorYJB6B9WcTHfPHOOgv2aU8zQ3sbjAmyQNjDPNvoEmgDbbIoKnO5h9IxOgwSsk5CLAOtbb4p98OUl67I0Y7R8J7eF7ATIlFKXOk0Qp/FHGXwTE79vo5E6IqRiO2zA3UoMWfJikKIThKCVGweFp26sXHKIA+LkCaTx8so77d2iyr8B6Fv/i4/597HAAAAAElFTkSuQmCC",gD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIKSURBVHgBzZjJTcNAFIb/N3BFMldOpgFIKiCpAOgARAGECggVQAqIkg5IB5AKsjSATzlHyjke/hnbyiLHSxbbn5TF9tjzaZ7teW8EOdCjkcOfGpS6h0gNWrvcdteaeNzn8dgYvj+Uen2AHEiWRpRwKfDKv0/8OMjOnGIDLJcfFPPSGkuKhEOJNv++4lBE+mlSkiDSoEgPm2E4FI/he6TQOO6gQrxIiyI/RxaBvZ5SI3v9LDJ6MmnzhE+cEl4/TmgjTGzwwIbfKArfbzJkv9iWCZ+YU4QmiTmFrik0NxurMJ2dvRcsYnDYby/asCMTjsofyiIMVzAywaiUh4jtX0oflQjfvzQj00AV4HynGKI7VAGtG4pfNVQBZgEmTC6qgXuOfCkB8PICzGbJba6ugG4XOXHOkRcjkiazJ0bGvIqzj06zCSwWyW0uLrAHc+EsPYJJJctnbJ6mMaoAPYzMEFVAxM5NuTL4k8FqQtlcglYoE637JlEPZm1m7SgTrW3/Vsamfqa+KUekH5Uvq0xvuXxG8M4pEi8alQ0Ze++wpkGR+P7belG3UarYcLEBiqG9XYvHVpRhEXfK2qklt7ed7Z1J5W0trKFcHA+zQvEkNzexL1q16yxbDzNrN3c7jsMXr1ffJWL7RAZs0m4yeJEH5F0SAfqU6By8JBIrNp3em3w1dbEoWJeZRNViFv4BR9XKFZuL/aIAAAAASUVORK5CYII=",am={add_icon_green:mD,add_icon_white:pD,remove_icon_red:gD},yD=(n,e,t,r)=>{var a,l,c,d;const i=[t,{code:e,...r||{}}];if((l=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&l.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);vo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(d=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&d.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},nw={},Ym=(n,e,t,r)=>{vo(t)&&nw[t]||(vo(t)&&(nw[t]=new Date),yD(n,e,t,r))},Ex=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Xm=(n,e,t)=>{n.loadNamespaces(e,Ex(n,t))},rw=(n,e,t,r)=>{if(vo(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Xm(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,Ex(n,r))},vD=(n,e,t={})=>!e.languages||!e.languages.length?(Ym(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var a;if(((a=t.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),vo=n=>typeof n=="string",_D=n=>typeof n=="object"&&n!==null,wD=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ED={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},TD=n=>ED[n],SD=n=>n.replace(wD,TD);let Jm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:SD};const xD=(n={})=>{Jm={...Jm,...n}},ID=()=>Jm;let Tx;const bD=n=>{Tx=n},CD=()=>Tx,PD={type:"3rdParty",init(n){xD(n.options.react),bD(n)}},AD=P.createContext();class RD{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const kD=(n,e)=>{const t=P.useRef();return P.useEffect(()=>{t.current=n},[n,e]),t.current},Sx=(n,e,t,r)=>n.getFixedT(e,t,r),ND=(n,e,t,r)=>P.useCallback(Sx(n,e,t,r),[n,e,t,r]),ft=(n,e={})=>{var M,B,Y,D;const{i18n:t}=e,{i18n:r,defaultNS:i}=P.useContext(AD)||{},a=t||r||CD();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new RD),!a){Ym(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(L,F)=>vo(F)?F:_D(F)&&vo(F.defaultValue)?F.defaultValue:Array.isArray(L)?L[L.length-1]:L,k=[C,{},!1];return k.t=C,k.i18n={},k.ready=!1,k}(M=a.options.react)!=null&&M.wait&&Ym(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...ID(),...a.options.react,...e},{useSuspense:c,keyPrefix:d}=l;let f=i||((B=a.options)==null?void 0:B.defaultNS);f=vo(f)?[f]:f||["translation"],(D=(Y=a.reportNamespaces).addUsedNamespaces)==null||D.call(Y,f);const m=(a.isInitialized||a.initializedStoreOnce)&&f.every(C=>vD(C,a,l)),y=ND(a,e.lng||null,l.nsMode==="fallback"?f:f[0],d),_=()=>y,T=()=>Sx(a,e.lng||null,l.nsMode==="fallback"?f:f[0],d),[x,R]=P.useState(_);let A=f.join();e.lng&&(A=`${e.lng}${A}`);const j=kD(A),I=P.useRef(!0);P.useEffect(()=>{const{bindI18n:C,bindI18nStore:k}=l;I.current=!0,!m&&!c&&(e.lng?rw(a,e.lng,f,()=>{I.current&&R(T)}):Xm(a,f,()=>{I.current&&R(T)})),m&&j&&j!==A&&I.current&&R(T);const L=()=>{I.current&&R(T)};return C&&(a==null||a.on(C,L)),k&&(a==null||a.store.on(k,L)),()=>{I.current=!1,a&&(C==null||C.split(" ").forEach(F=>a.off(F,L))),k&&a&&k.split(" ").forEach(F=>a.store.off(F,L))}},[a,A]),P.useEffect(()=>{I.current&&m&&R(_)},[a,d,m]);const N=[x,a,m];if(N.t=x,N.i18n=a,N.ready=m,m||!m&&!c)return N;throw new Promise(C=>{e.lng?rw(a,e.lng,f,()=>C()):Xm(a,f,()=>C())})};function OD({products:n,selectedSizes:e,sizeErrors:t,cartItems:r,handleSizeSelect:i,handleAddToCart:a,removeFromCart:l,renderDescription:c}){const{t:d}=ft(),[f,m]=P.useState(!1);if(!(n!=null&&n.length))return v.jsx("p",{children:d("productList.noProduct")});const y=f?n:n.slice(0,5);return v.jsxs("div",{className:"menu-items-wrapper",children:[v.jsx("div",{className:"menu-items-container",children:y.map((_,T)=>{var N,M;const x=e[_.id],R=t[_.id],A=(_.sizes||[]).reduce((B,Y)=>(Y.label&&Y.price&&(B[Y.label]={price:Y.price}),B),{}),j=x?`${_.id}_${x}`:null,I=j&&((N=r[j])!=null&&N.quantity)?r[j].quantity:0;return v.jsxs("div",{className:"food-item fade-in",style:{animationDelay:`${T*.05}s`},children:[v.jsxs("div",{className:"food-item-image-container",children:[v.jsx("img",{className:"food-item-image",src:_.image,alt:_.name}),I?v.jsxs("div",{className:"food-item-counter",children:[v.jsx("img",{onClick:()=>l(_.id,x,"products"),src:am.remove_icon_red,alt:"remove"}),v.jsx("p",{children:I}),v.jsx("img",{onClick:()=>a(_,A,"products"),src:am.add_icon_green,alt:"add"})]}):v.jsx("img",{className:"add",onClick:()=>a(_,A,"products"),src:am.add_icon_white,alt:"add"})]}),v.jsxs("div",{className:"food-item-info",children:[v.jsx("div",{className:"food-item-name-only",children:v.jsx("p",{children:_.name})}),v.jsx("div",{className:"food-item-desc",children:c(_)}),v.jsxs("div",{className:"price-and-sizes",children:[v.jsx("p",{className:"food-item-price",children:x?`$${(M=A[x])==null?void 0:M.price.toFixed(2)}`:d("productList.priceLabel")}),v.jsx("div",{className:"food-item-sizes",children:Object.entries(A).map(([B])=>v.jsx("button",{className:`size-btn ${x===B?"selected":""} ${R?"error-border":""}`,onClick:()=>i(_.id,B),children:B},B))})]})]})]},`${_.id}-${x||"default"}`)})}),n.length>5&&v.jsx("button",{className:"view-toggle-button fade-in",onClick:()=>m(_=>!_),style:{animationDelay:`${y.length*.05}s`},children:d(f?"productList.viewLess":"productList.viewMore")})]})}function DD({showModal:n,setShowModal:e,modalContent:t}){const{t:r}=ft();return n?v.jsx("div",{className:"menu-modal fade-in-modal",onClick:()=>e(!1),children:v.jsxs("div",{className:"menu-modal-content scale-in",onClick:i=>i.stopPropagation(),children:[v.jsx("h3",{className:"menu-modal-title",children:t.title}),v.jsx("p",{className:"menu-modal-description",children:t.description}),v.jsx("button",{className:"menu-modal-close",onClick:()=>e(!1),children:r("buttons.close")})]})}):null}function VD(){const{slug:n}=sn(),[e,t]=P.useState(null),[r,i]=P.useState([]),[a,l]=P.useState([]),[c,d]=P.useState(null),[f,m]=P.useState({}),[y,_]=P.useState({}),[T,x]=P.useState(!1),[R,A]=P.useState({title:"",description:""}),[j,I]=P.useState("basic"),{cartItems:N,addToCart:M,removeFromCart:B}=P.useContext(Jh);if(P.useEffect(()=>{(async()=>{try{const V=ct(Ke,"ReVerse",n),ye=await Tn(V);if(!ye.exists())return;const Re=ye.data();t(Re),I(Re.plan||"basic");const Ee=(await Oi(Bn(Ke,"ReVerse",n,"specialItems"))).docs.map(z=>({id:z.id,...z.data()}));l(Ee);const Q=Bn(V,"products"),ne=(await Oi(Q)).docs.map(z=>({id:z.id,...z.data()}));i(ne)}catch(V){console.error("Error fetching menu data:",V)}})()},[n]),!e)return null;const Y=c?r.filter($=>$.category===c):r,D=($,V)=>{m(ye=>({...ye,[$]:V})),_(ye=>({...ye,[$]:!1}))},C=($,V,ye)=>{const Re=f[$.id];if(Object.keys(V).length&&!Re){_(Ee=>({...Ee,[$.id]:!0}));return}const ve=V[Re];M($,{label:Re,price:(ve==null?void 0:ve.price)||$.price,collection:ye})},k=($,V)=>{const ye=$.split(" ");return ye.length<=V?$:ye.slice(0,V).join(" ")+"..."},L=($,V)=>{A({title:$,description:V}),x(!0)},F=$=>{const V=$.description||"",Re=V.trim().split(" ").length>3,ve=k(V,3);return v.jsx("p",{onClick:()=>Re&&L($.name,V),style:{cursor:Re?"pointer":"default",color:"#444"},className:"menu-item__desc",children:ve})};return v.jsxs("section",{id:"menu",className:"menu-section",children:[v.jsx(dD,{title:e.menuHeaderTitle,description:e.menuHeaderDesc}),j==="premium"&&v.jsx(hD,{items:a,selectedSizes:f,sizeErrors:y,cartItems:N,handleSizeSelect:D,handleAddToCart:C,removeFromCart:B,renderDescription:F,specialTitle:e.specialTitle},"special-items"),v.jsx(fD,{categories:e.categories,selectedCategory:c,setSelectedCategory:d}),v.jsx("hr",{}),e.topDishesTitle&&v.jsx("h3",{children:e.topDishesTitle}),v.jsx(OD,{products:Y,selectedSizes:f,sizeErrors:y,cartItems:N,handleSizeSelect:D,handleAddToCart:C,removeFromCart:B,renderDescription:F}),v.jsx(DD,{showModal:T,setShowModal:x,modalContent:R})]})}function xx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=xx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function _o(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=xx(n))&&(r&&(r+=" "),r+=e);return r}function LD(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}LD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Hu=n=>typeof n=="number"&&!isNaN(n),Io=n=>typeof n=="string",Vi=n=>typeof n=="function",jD=n=>Io(n)||Hu(n),Zm=n=>Io(n)||Vi(n)?n:null,MD=(n,e)=>n===!1||Hu(n)&&n>0?n:e,eg=n=>P.isValidElement(n)||Io(n)||Vi(n)||Hu(n);function FD(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function UD({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:l,preventExitTransition:c,done:d,nodeRef:f,isIn:m,playToast:y}){let _=t?`${n}--${l}`:n,T=t?`${e}--${l}`:e,x=P.useRef(0);return P.useLayoutEffect(()=>{let R=f.current,A=_.split(" "),j=I=>{I.target===f.current&&(y(),R.removeEventListener("animationend",j),R.removeEventListener("animationcancel",j),x.current===0&&I.type!=="animationcancel"&&R.classList.remove(...A))};R.classList.add(...A),R.addEventListener("animationend",j),R.addEventListener("animationcancel",j)},[]),P.useEffect(()=>{let R=f.current,A=()=>{R.removeEventListener("animationend",A),r?FD(R,d,i):d()};m||(c?A():(x.current=1,R.className+=` ${T}`,R.addEventListener("animationend",A)))},[m]),rt.createElement(rt.Fragment,null,a)}}function iw(n,e){return{content:Ix(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function Ix(n,e,t=!1){return P.isValidElement(n)&&!Io(n.type)?P.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Vi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function BD({closeToast:n,theme:e,ariaLabel:t="close"}){return rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $D({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:a,controlledProgress:l,progress:c,rtl:d,isIn:f,theme:m}){let y=i||l&&c===0,_={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(_.transform=`scaleX(${c})`);let T=_o("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),x=Vi(a)?a({rtl:d,type:r,defaultClassName:T}):_o(T,a),R={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&t()}};return rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),rt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:x,style:_,...R}))}var zD=1,bx=()=>`${zD++}`;function HD(n,e,t){let r=1,i=0,a=[],l=[],c=e,d=new Map,f=new Set,m=I=>(f.add(I),()=>f.delete(I)),y=()=>{l=Array.from(d.values()),f.forEach(I=>I())},_=({containerId:I,toastId:N,updateId:M})=>{let B=I?I!==n:n!==1,Y=d.has(N)&&M==null;return B||Y},T=(I,N)=>{d.forEach(M=>{var B;(N==null||N===M.props.toastId)&&((B=M.toggle)==null||B.call(M,I))})},x=I=>{var N,M;(M=(N=I.props)==null?void 0:N.onClose)==null||M.call(N,I.removalReason),I.isActive=!1},R=I=>{if(I==null)d.forEach(x);else{let N=d.get(I);N&&x(N)}y()},A=()=>{i-=a.length,a=[]},j=I=>{var N,M;let{toastId:B,updateId:Y}=I.props,D=Y==null;I.staleId&&d.delete(I.staleId),I.isActive=!0,d.set(B,I),y(),t(iw(I,D?"added":"updated")),D&&((M=(N=I.props).onOpen)==null||M.call(N))};return{id:n,props:c,observe:m,toggle:T,removeToast:R,toasts:d,clearQueue:A,buildToast:(I,N)=>{if(_(N))return;let{toastId:M,updateId:B,data:Y,staleId:D,delay:C}=N,k=B==null;k&&i++;let L={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(N).filter(([$,V])=>V!=null)),toastId:M,updateId:B,data:Y,isIn:!1,className:Zm(N.className||c.toastClassName),progressClassName:Zm(N.progressClassName||c.progressClassName),autoClose:N.isLoading?!1:MD(N.autoClose,c.autoClose),closeToast($){d.get(M).removalReason=$,R(M)},deleteToast(){let $=d.get(M);if($!=null){if(t(iw($,"removed")),d.delete(M),i--,i<0&&(i=0),a.length>0){j(a.shift());return}y()}}};L.closeButton=c.closeButton,N.closeButton===!1||eg(N.closeButton)?L.closeButton=N.closeButton:N.closeButton===!0&&(L.closeButton=eg(c.closeButton)?c.closeButton:!0);let F={content:I,props:L,staleId:D};c.limit&&c.limit>0&&i>c.limit&&k?a.push(F):Hu(C)?setTimeout(()=>{j(F)},C):j(F)},setProps(I){c=I},setToggle:(I,N)=>{let M=d.get(I);M&&(M.toggle=N)},isToastActive:I=>{var N;return(N=d.get(I))==null?void 0:N.isActive},getSnapshot:()=>l}}var An=new Map,Su=[],tg=new Set,WD=n=>tg.forEach(e=>e(n)),Cx=()=>An.size>0;function qD(){Su.forEach(n=>Ax(n.content,n.options)),Su=[]}var KD=(n,{containerId:e})=>{var t;return(t=An.get(e||1))==null?void 0:t.toasts.get(n)};function Px(n,e){var t;if(e)return!!((t=An.get(e))!=null&&t.isToastActive(n));let r=!1;return An.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function GD(n){if(!Cx()){Su=Su.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||jD(n))An.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=An.get(n.containerId);e?e.removeToast(n.id):An.forEach(t=>{t.removeToast(n.id)})}}var QD=(n={})=>{An.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Ax(n,e){eg(n)&&(Cx()||Su.push({content:n,options:e}),An.forEach(t=>{t.buildToast(n,e)}))}function YD(n){var e;(e=An.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function Rx(n,e){An.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function XD(n){let e=n.containerId||1;return{subscribe(t){let r=HD(e,n,WD);An.set(e,r);let i=r.observe(t);return qD(),()=>{i(),An.delete(e)}},setProps(t){var r;(r=An.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=An.get(e))==null?void 0:t.getSnapshot()}}}function JD(n){return tg.add(n),()=>{tg.delete(n)}}function ZD(n){return n&&(Io(n.toastId)||Hu(n.toastId))?n.toastId:bx()}function Wu(n,e){return Ax(n,e),e.toastId}function Zh(n,e){return{...e,type:e&&e.type||n,toastId:ZD(e)}}function ef(n){return(e,t)=>Wu(e,Zh(n,t))}function fe(n,e){return Wu(n,Zh("default",e))}fe.loading=(n,e)=>Wu(n,Zh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function eV(n,{pending:e,error:t,success:r},i){let a;e&&(a=Io(e)?fe.loading(e,i):fe.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,m,y)=>{if(m==null){fe.dismiss(a);return}let _={type:f,...l,...i,data:y},T=Io(m)?{render:m}:m;return a?fe.update(a,{..._,...T}):fe(T.render,{..._,...T}),y},d=Vi(n)?n():n;return d.then(f=>c("success",r,f)).catch(f=>c("error",t,f)),d}fe.promise=eV;fe.success=ef("success");fe.info=ef("info");fe.error=ef("error");fe.warning=ef("warning");fe.warn=fe.warning;fe.dark=(n,e)=>Wu(n,Zh("default",{theme:"dark",...e}));function tV(n){GD(n)}fe.dismiss=tV;fe.clearWaitingQueue=QD;fe.isActive=Px;fe.update=(n,e={})=>{let t=KD(n,e);if(t){let{props:r,content:i}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:bx()};a.toastId!==n&&(a.staleId=n);let l=a.render||i;delete a.render,Wu(l,a)}};fe.done=n=>{fe.update(n,{progress:1})};fe.onChange=JD;fe.play=n=>Rx(!0,n);fe.pause=n=>Rx(!1,n);function nV(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=P.useRef(XD(n)).current;i(n);let a=(e=P.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(c){if(!a)return[];let d=new Map;return n.newestOnTop&&a.reverse(),a.forEach(f=>{let{position:m}=f.props;d.has(m)||d.set(m,[]),d.get(m).push(f)}),Array.from(d,f=>c(f[0],f[1]))}return{getToastToRender:l,isToastActive:Px,count:a==null?void 0:a.length}}function rV(n){let[e,t]=P.useState(!1),[r,i]=P.useState(!1),a=P.useRef(null),l=P.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:f,onClick:m,closeOnClick:y}=n;YD({id:n.toastId,containerId:n.containerId,fn:t}),P.useEffect(()=>{if(n.pauseOnFocusLoss)return _(),()=>{T()}},[n.pauseOnFocusLoss]);function _(){document.hasFocus()||j(),window.addEventListener("focus",A),window.addEventListener("blur",j)}function T(){window.removeEventListener("focus",A),window.removeEventListener("blur",j)}function x(D){if(n.draggable===!0||n.draggable===D.pointerType){I();let C=a.current;l.canCloseOnClick=!0,l.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(l.start=D.clientX,l.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(l.start=D.clientY,l.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function R(D){let{top:C,bottom:k,left:L,right:F}=a.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=L&&D.clientX<=F&&D.clientY>=C&&D.clientY<=k?j():A()}function A(){t(!0)}function j(){t(!1)}function I(){l.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",B)}function N(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",B)}function M(D){let C=a.current;if(l.canDrag&&C){l.didMove=!0,e&&j(),n.draggableDirection==="x"?l.delta=D.clientX-l.start:l.delta=D.clientY-l.start,l.start!==D.clientX&&(l.canCloseOnClick=!1);let k=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;C.style.transform=`translate3d(${k},0)`,C.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function B(){N();let D=a.current;if(l.canDrag&&l.didMove&&D){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let Y={onPointerDown:x,onPointerUp:R};return c&&d&&(Y.onMouseEnter=j,n.stacked||(Y.onMouseLeave=A)),y&&(Y.onClick=D=>{m&&m(D),l.canCloseOnClick&&f(!0)}),{playToast:A,pauseToast:j,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:Y}}var iV=typeof window<"u"?P.useLayoutEffect:P.useEffect,tf=({theme:n,type:e,isLoading:t,...r})=>rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function sV(n){return rt.createElement(tf,{...n},rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function oV(n){return rt.createElement(tf,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function aV(n){return rt.createElement(tf,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function lV(n){return rt.createElement(tf,{...n},rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function uV(){return rt.createElement("div",{className:"Toastify__spinner"})}var ng={info:oV,warning:sV,success:aV,error:lV,spinner:uV},cV=n=>n in ng;function dV({theme:n,type:e,isLoading:t,icon:r}){let i=null,a={theme:n,type:e};return r===!1||(Vi(r)?i=r({...a,isLoading:t}):P.isValidElement(r)?i=P.cloneElement(r,a):t?i=ng.spinner():cV(e)&&(i=ng[e](a))),i}var hV=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:a}=rV(n),{closeButton:l,children:c,autoClose:d,onClick:f,type:m,hideProgressBar:y,closeToast:_,transition:T,position:x,className:R,style:A,progressClassName:j,updateId:I,role:N,progress:M,rtl:B,toastId:Y,deleteToast:D,isIn:C,isLoading:k,closeOnClick:L,theme:F,ariaLabel:$}=n,V=_o("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":B},{"Toastify__toast--close-on-click":L}),ye=Vi(R)?R({rtl:B,position:x,type:m,defaultClassName:V}):_o(V,R),Re=dV(n),ve=!!M||!d,Ee={closeToast:_,type:m,theme:F},Q=null;return l===!1||(Vi(l)?Q=l(Ee):P.isValidElement(l)?Q=P.cloneElement(l,Ee):Q=BD(Ee)),rt.createElement(T,{isIn:C,done:D,position:x,preventExitTransition:t,nodeRef:r,playToast:a},rt.createElement("div",{id:Y,tabIndex:0,onClick:f,"data-in":C,className:ye,...i,style:A,ref:r,...C&&{role:N,"aria-label":$}},Re!=null&&rt.createElement("div",{className:_o("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},Re),Ix(c,n,!e),Q,!n.customProgressBar&&rt.createElement($D,{...I&&!ve?{key:`p-${I}`}:{},rtl:B,theme:F,delay:d,isRunning:e,isIn:C,closeToast:_,hide:y,type:m,className:j,controlledProgress:ve,progress:M||0})))},fV=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),pV=UD(fV("bounce",!0)),mV={position:"top-right",transition:pV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function qu(n){let e={...mV,...n},t=n.stacked,[r,i]=P.useState(!0),a=P.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=nV(e),{className:f,style:m,rtl:y,containerId:_,hotKeys:T}=e;function x(A){let j=_o("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":y});return Vi(f)?f({position:A,rtl:y,defaultClassName:j}):_o(j,Zm(f))}function R(){t&&(i(!0),fe.play())}return iV(()=>{var A;if(t){let j=a.current.querySelectorAll('[data-in="true"]'),I=12,N=(A=e.position)==null?void 0:A.includes("top"),M=0,B=0;Array.from(j).reverse().forEach((Y,D)=>{let C=Y;C.classList.add("Toastify__toast--stacked"),D>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=N?"top":"bot");let k=M*(r?.2:1)+(r?0:I*D);C.style.setProperty("--y",`${N?k:k*-1}px`),C.style.setProperty("--g",`${I}`),C.style.setProperty("--s",`${1-(r?B:0)}`),M+=C.offsetHeight,B+=.025})}},[r,d,t]),P.useEffect(()=>{function A(j){var I;let N=a.current;T(j)&&((I=N.querySelector('[tabIndex="0"]'))==null||I.focus(),i(!1),fe.pause()),j.key==="Escape"&&(document.activeElement===N||N!=null&&N.contains(document.activeElement))&&(i(!0),fe.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[T]),rt.createElement("section",{ref:a,className:"Toastify",id:_,onMouseEnter:()=>{t&&(i(!1),fe.pause())},onMouseLeave:R,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((A,j)=>{let I=j.length?{...m}:{...m,pointerEvents:"none"};return rt.createElement("div",{tabIndex:-1,className:x(A),"data-stacked":t,style:I,key:`c-${A}`},j.map(({content:N,props:M})=>rt.createElement(hV,{...M,stacked:t,collapseAll:R,isIn:c(M.toastId,M.containerId),key:`t-${M.key}`},N)))}))}const gV=({onClose:n,settings:e,reservationId:t,slug:r})=>{var T;const[i,a]=P.useState(""),[l,c]=P.useState(!1),[d,f]=P.useState(!1),{t:m}=ft();P.useEffect(()=>{const x=setTimeout(()=>f(!0),10);return()=>clearTimeout(x)},[]);const y=()=>({"Vodafone Cash":e.vodafoneNumber?m("modal.instructions.vodafone",{number:e.vodafoneNumber}):null,PayPal:e.paypalAccount?m("modal.instructions.paypal",{account:e.paypalAccount}):null,Stripe:e.stripeLink?m("modal.instructions.stripe",{link:e.stripeLink}):null,Fawry:e.fawryCode?m("modal.instructions.fawry",{code:e.fawryCode}):null})[i]||null,_=async()=>{if(!i){c(!0),fe.error(m("modal.error"));return}const x=ct(Ke,"ReVerse",r,"bookTable",t);await Ds(x,{paymentMethod:i}),fe.success(m("modal.success")),n()};return v.jsxs("div",{className:"modal-overlay",children:[v.jsxs("div",{className:`modal-content ${d?"fade-scale-in":""}`,children:[v.jsx("h3",{className:"modal-title",children:m("modal.title")}),v.jsx("p",{className:"modal-text",children:m("modal.depositNotice",{amount:e.depositAmount})}),v.jsx("label",{className:"modal-label",children:m("modal.selectMethod")}),v.jsxs("select",{className:`modal-select ${l&&!i?"error-border":""}`,value:i,onChange:x=>{a(x.target.value),c(!1)},children:[v.jsx("option",{value:"",children:m("modal.chooseMethod")}),(T=e.paymentOptions)==null?void 0:T.map((x,R)=>v.jsx("option",{value:x,children:x},R))]}),i&&y()&&v.jsx("p",{className:"payment-instructions",children:y()}),v.jsxs("div",{className:"modal-buttons",children:[v.jsx("button",{onClick:_,className:"confirm-btn",children:m("modal.confirm")}),v.jsx("button",{onClick:n,className:"cancel-btn",children:m("modal.cancel")})]})]}),v.jsx(qu,{position:"top-center"})]})};function yV({slug:n}){const[e,t]=P.useState(null),[r,i]=P.useState("2"),[a,l]=P.useState(""),[c,d]=P.useState("08:00 PM"),[f,m]=P.useState(""),[y,_]=P.useState(!1),[T,x]=P.useState(null),R=P.useRef(null),{t:A}=ft();P.useEffect(()=>{(async()=>{const N=ct(Ke,"ReVerse",n),M=await Tn(N);if(M.exists()){const B=M.data().reservationSettings;t(B)}})()},[n]);const j=async I=>{if(I.preventDefault(),!f||!a||!c){fe.error(A("reservation.errors.requiredFields"));return}try{const N=Bn(ct(Ke,"ReVerse",n),"bookTable"),M=await Kh(N,{name:f,tableSize:r,date:a,time:c,depositAmount:e.depositAmount,createdAt:Ht.now(),status:"pending"});x(M.id),_(!0),i("2"),l(""),d("08:00 PM"),m("")}catch(N){console.error("Reservation error:",N),fe.error(A("reservation.errors.general"))}};return e?v.jsxs("section",{id:"book",className:"reservation-section",ref:R,children:[v.jsxs("h2",{className:"reservation-title fade-up",children:["",A("reservation.title"),""]}),v.jsxs("div",{className:"reservation-wrapper",children:[v.jsxs("div",{className:"left-side fade-left",children:[v.jsx("img",{className:"reservation-image",src:e.reservationImage,alt:"Restaurant"}),v.jsxs("p",{className:"reservation-info",children:[v.jsxs("strong",{children:[A("reservation.info.openingHours"),":"]}),v.jsx("br",{}),e.openingHours]}),v.jsxs("p",{className:"reservation-info",children:[v.jsxs("strong",{children:[A("reservation.info.additionalInfo"),":"]}),v.jsx("br",{}),e.additionalInfo]})]}),v.jsx("div",{className:"right-side fade-right",children:v.jsxs("form",{onSubmit:j,children:[v.jsxs("label",{className:"reservation-label",children:[A("reservation.labels.yourName"),":"]}),v.jsx("input",{className:"reservation-input",type:"text",value:f,onChange:I=>m(I.target.value),required:!0}),v.jsxs("label",{className:"reservation-label",children:[A("reservation.labels.tableSize"),":"]}),v.jsx("select",{value:r,onChange:I=>i(I.target.value),children:[2,4,6,8,10,12].map(I=>v.jsx("option",{value:I,children:I},I))}),v.jsxs("label",{className:"reservation-label",children:[A("reservation.labels.chooseADay"),":"]}),v.jsx("input",{className:"reservation-input",type:"date",value:a,onChange:I=>l(I.target.value),required:!0}),v.jsxs("label",{className:"reservation-label",children:[A("reservation.labels.chooseATime"),":"]}),v.jsx("select",{value:c,onChange:I=>d(I.target.value),children:["01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM","06:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM","08:30 PM","09:00 PM"].map(I=>v.jsx("option",{value:I,children:I},I))}),v.jsx("button",{className:"reservation-button",type:"submit",children:A("buttons.submit")})]})})]}),y&&v.jsx(gV,{onClose:()=>_(!1),settings:e,reservationId:T,slug:n}),v.jsx(qu,{})]}):null}const vV=()=>{const{slug:n}=sn(),e=ai();return P.useEffect(()=>{const r=new URLSearchParams(e.search).get("scrollTo");if(r){const i=document.getElementById(r);i&&setTimeout(()=>{i.scrollIntoView({behavior:"smooth"})},300)}},[e]),v.jsxs("div",{children:[v.jsx(cD,{slug:n}),v.jsx(VD,{slug:n}),v.jsx(yV,{slug:n})]})},ky=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),nf=P.createContext({});function _V(){return P.useContext(nf).visualElement}const Ku=P.createContext(null),Ao=typeof document<"u",ah=Ao?P.useLayoutEffect:P.useEffect,kx=P.createContext({strict:!1});function wV(n,e,t,r){const i=_V(),a=P.useContext(kx),l=P.useContext(Ku),c=P.useContext(ky).reducedMotion,d=P.useRef();r=r||a.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:i,props:t,presenceId:l?l.id:void 0,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current;return ah(()=>{f&&f.render()}),P.useEffect(()=>{f&&f.animationState&&f.animationState.animateChanges()}),ah(()=>()=>f&&f.notify("Unmount"),[]),f}function xa(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function EV(n,e,t){return P.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):xa(t)&&(t.current=r))},[e])}function xu(n){return typeof n=="string"||Array.isArray(n)}function rf(n){return typeof n=="object"&&typeof n.start=="function"}const TV=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function sf(n){return rf(n.animate)||TV.some(e=>xu(n[e]))}function Nx(n){return!!(sf(n)||n.variants)}function SV(n,e){if(sf(n)){const{initial:t,animate:r}=n;return{initial:t===!1||xu(t)?t:void 0,animate:xu(r)?r:void 0}}return n.inherit!==!1?e:{}}function xV(n){const{initial:e,animate:t}=SV(n,P.useContext(nf));return P.useMemo(()=>({initial:e,animate:t}),[sw(e),sw(t)])}function sw(n){return Array.isArray(n)?n.join(" "):n}const xi=n=>({isEnabled:e=>n.some(t=>!!e[t])}),Iu={measureLayout:xi(["layout","layoutId","drag"]),animation:xi(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:xi(["exit"]),drag:xi(["drag","dragControls"]),focus:xi(["whileFocus"]),hover:xi(["whileHover","onHoverStart","onHoverEnd"]),tap:xi(["whileTap","onTap","onTapStart","onTapCancel"]),pan:xi(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:xi(["whileInView","onViewportEnter","onViewportLeave"])};function IV(n){for(const e in n)e==="projectionNodeConstructor"?Iu.projectionNodeConstructor=n[e]:Iu[e].Component=n[e]}function of(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const ru={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let bV=1;function CV(){return of(()=>{if(ru.hasEverUpdated)return bV++})}const Ny=P.createContext({});class PV extends rt.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:t}=this.props;return e&&e.setProps(t),null}componentDidUpdate(){}render(){return this.props.children}}const Ox=P.createContext({}),AV=Symbol.for("motionComponentSymbol");function RV({preloadedFeatures:n,createVisualElement:e,projectionNodeConstructor:t,useRender:r,useVisualState:i,Component:a}){n&&IV(n);function l(d,f){const m={...P.useContext(ky),...d,layoutId:kV(d)},{isStatic:y}=m;let _=null;const T=xV(d),x=y?void 0:CV(),R=i(d,y);if(!y&&Ao){T.visualElement=wV(a,R,m,e);const A=P.useContext(kx).strict,j=P.useContext(Ox);T.visualElement&&(_=T.visualElement.loadFeatures(m,A,n,x,t||Iu.projectionNodeConstructor,j))}return P.createElement(PV,{visualElement:T.visualElement,props:m},_,P.createElement(nf.Provider,{value:T},r(a,d,x,EV(R,T.visualElement,f),R,y,T.visualElement)))}const c=P.forwardRef(l);return c[AV]=a,c}function kV({layoutId:n}){const e=P.useContext(Ny).id;return e&&n!==void 0?e+"-"+n:n}function NV(n){function e(r,i={}){return RV(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const OV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","text","tspan","use","view"];function Oy(n){return typeof n!="string"||n.includes("-")?!1:!!(OV.indexOf(n)>-1||/[A-Z]/.test(n))}const lh={};function DV(n){Object.assign(lh,n)}const uh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nl=new Set(uh);function Dx(n,{layout:e,layoutId:t}){return nl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!lh[n]||n==="opacity")}const oi=n=>!!(n!=null&&n.getVelocity),VV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LV=(n,e)=>uh.indexOf(n)-uh.indexOf(e);function jV({transform:n,transformKeys:e},{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},i,a){let l="";e.sort(LV);for(const c of e)l+=`${VV[c]||c}(${n[c]}) `;return t&&!n.z&&(l+="translateZ(0)"),l=l.trim(),a?l=a(n,i?"":l):r&&i&&(l="none"),l}function Vx(n){return n.startsWith("--")}const MV=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Lx=(n,e)=>t=>Math.max(Math.min(t,e),n),iu=n=>n%1?Number(n.toFixed(5)):n,bu=/(-)?([\d]*\.?[\d])+/g,rg=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,FV=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gu(n){return typeof n=="string"}const Ro={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},su=Object.assign(Object.assign({},Ro),{transform:Lx(0,1)}),_d=Object.assign(Object.assign({},Ro),{default:1}),Qu=n=>({test:e=>Gu(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),hs=Qu("deg"),ii=Qu("%"),Le=Qu("px"),UV=Qu("vh"),BV=Qu("vw"),ow=Object.assign(Object.assign({},ii),{parse:n=>ii.parse(n)/100,transform:n=>ii.transform(n*100)}),Dy=(n,e)=>t=>!!(Gu(t)&&FV.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),jx=(n,e,t)=>r=>{if(!Gu(r))return r;const[i,a,l,c]=r.match(bu);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},yo={test:Dy("hsl","hue"),parse:jx("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ii.transform(iu(e))+", "+ii.transform(iu(t))+", "+iu(su.transform(r))+")"},$V=Lx(0,255),lm=Object.assign(Object.assign({},Ro),{transform:n=>Math.round($V(n))}),_s={test:Dy("rgb","red"),parse:jx("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+lm.transform(n)+", "+lm.transform(e)+", "+lm.transform(t)+", "+iu(su.transform(r))+")"};function zV(n){let e="",t="",r="",i="";return n.length>5?(e=n.substr(1,2),t=n.substr(3,2),r=n.substr(5,2),i=n.substr(7,2)):(e=n.substr(1,1),t=n.substr(2,1),r=n.substr(3,1),i=n.substr(4,1),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ig={test:Dy("#"),parse:zV,transform:_s.transform},Pn={test:n=>_s.test(n)||ig.test(n)||yo.test(n),parse:n=>_s.test(n)?_s.parse(n):yo.test(n)?yo.parse(n):ig.parse(n),transform:n=>Gu(n)?n:n.hasOwnProperty("red")?_s.transform(n):yo.transform(n)},Mx="${c}",Fx="${n}";function HV(n){var e,t,r,i;return isNaN(n)&&Gu(n)&&((t=(e=n.match(bu))===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0)+((i=(r=n.match(rg))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function Ux(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0;const r=n.match(rg);r&&(t=r.length,n=n.replace(rg,Mx),e.push(...r.map(Pn.parse)));const i=n.match(bu);return i&&(n=n.replace(bu,Fx),e.push(...i.map(Ro.parse))),{values:e,numColors:t,tokenised:n}}function Bx(n){return Ux(n).values}function $x(n){const{values:e,numColors:t,tokenised:r}=Ux(n),i=e.length;return a=>{let l=r;for(let c=0;c<i;c++)l=l.replace(c<t?Mx:Fx,c<t?Pn.transform(a[c]):iu(a[c]));return l}}const WV=n=>typeof n=="number"?0:n;function qV(n){const e=Bx(n);return $x(n)(e.map(WV))}const Li={test:HV,parse:Bx,createTransformer:$x,getAnimatableNone:qV},KV=new Set(["brightness","contrast","saturate","opacity"]);function GV(n){let[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(bu)||[];if(!r)return n;const i=t.replace(r,"");let a=KV.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const QV=/([a-z-]*)\(.*?\)/g,sg=Object.assign(Object.assign({},Li),{getAnimatableNone:n=>{const e=n.match(QV);return e?e.map(GV).join(" "):n}}),aw={...Ro,transform:Math.round},zx={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,size:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,rotate:hs,rotateX:hs,rotateY:hs,rotateZ:hs,scale:_d,scaleX:_d,scaleY:_d,scaleZ:_d,skew:hs,skewX:hs,skewY:hs,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:su,originX:ow,originY:ow,originZ:Le,zIndex:aw,fillOpacity:su,strokeOpacity:su,numOctaves:aw};function Vy(n,e,t,r){const{style:i,vars:a,transform:l,transformKeys:c,transformOrigin:d}=n;c.length=0;let f=!1,m=!1,y=!0;for(const _ in e){const T=e[_];if(Vx(_)){a[_]=T;continue}const x=zx[_],R=MV(T,x);if(nl.has(_)){if(f=!0,l[_]=R,c.push(_),!y)continue;T!==(x.default||0)&&(y=!1)}else _.startsWith("origin")?(m=!0,d[_]=R):i[_]=R}if(e.transform||(f||r?i.transform=jV(n,t,y,r):i.transform&&(i.transform="none")),m){const{originX:_="50%",originY:T="50%",originZ:x=0}=d;i.transformOrigin=`${_} ${T} ${x}`}}const Ly=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function Hx(n,e,t){for(const r in e)!oi(e[r])&&!Dx(r,t)&&(n[r]=e[r])}function YV({transformTemplate:n},e,t){return P.useMemo(()=>{const r=Ly();return Vy(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function XV(n,e,t){const r=n.style||{},i={};return Hx(i,r,n),Object.assign(i,YV(n,e,t)),n.transformValues?n.transformValues(i):i}function JV(n,e,t){const r={},i=XV(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),r.style=i,r}const ZV=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],eL=["whileTap","onTap","onTapStart","onTapCancel"],tL=["onPan","onPanStart","onPanSessionStart","onPanEnd"],nL=["whileInView","onViewportEnter","onViewportLeave","viewport"],rL=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...nL,...eL,...ZV,...tL]);function ch(n){return rL.has(n)}let Wx=n=>!ch(n);function iL(n){n&&(Wx=e=>e.startsWith("on")?!ch(e):n(e))}try{iL(require("@emotion/is-prop-valid").default)}catch{}function sL(n,e,t){const r={};for(const i in n)(Wx(i)||t===!0&&ch(i)||!e&&!ch(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function lw(n,e,t){return typeof n=="string"?n:Le.transform(e+t*n)}function oL(n,e,t){const r=lw(e,n.x,n.width),i=lw(t,n.y,n.height);return`${r} ${i}`}const aL={offset:"stroke-dashoffset",array:"stroke-dasharray"},lL={offset:"strokeDashoffset",array:"strokeDasharray"};function uL(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?aL:lL;n[a.offset]=Le.transform(-r);const l=Le.transform(e),c=Le.transform(t);n[a.array]=`${l} ${c}`}function jy(n,{attrX:e,attrY:t,originX:r,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,m){Vy(n,d,f,m),n.attrs=n.style,n.style={};const{attrs:y,style:_,dimensions:T}=n;y.transform&&(T&&(_.transform=y.transform),delete y.transform),T&&(r!==void 0||i!==void 0||_.transform)&&(_.transformOrigin=oL(T,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),a!==void 0&&uL(y,a,l,c,!1)}const qx=()=>({...Ly(),attrs:{}});function cL(n,e){const t=P.useMemo(()=>{const r=qx();return jy(r,e,{enableHardwareAcceleration:!1},n.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};Hx(r,n.style,n),t.style={...r,...t.style}}return t}function dL(n=!1){return(t,r,i,a,{latestValues:l},c)=>{const f=(Oy(t)?cL:JV)(r,l,c),y={...sL(r,typeof t=="string",n),...f,ref:a};return i&&(y["data-projection-id"]=i),P.createElement(t,y)}}const Kx=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Gx(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const Qx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Yx(n,e,t,r){Gx(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(Qx.has(i)?i:Kx(i),e.attrs[i])}function My(n){const{style:e}=n,t={};for(const r in e)(oi(e[r])||Dx(r,n))&&(t[r]=e[r]);return t}function Xx(n){const e=My(n);for(const t in n)if(oi(n[t])){const r=t==="x"||t==="y"?"attr"+t.toUpperCase():t;e[r]=n[t]}return e}function Fy(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}const Cu=n=>Array.isArray(n),hL=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Jx=n=>Cu(n)?n[n.length-1]||0:n;function Md(n){const e=oi(n)?n.get():n;return hL(e)?e.toValue():e}function fL({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,a){const l={latestValues:pL(r,i,a,n),renderState:e()};return t&&(l.mount=c=>t(r,c,l)),l}const Zx=n=>(e,t)=>{const r=P.useContext(nf),i=P.useContext(Ku),a=()=>fL(n,e,r,i);return t?a():of(a)};function pL(n,e,t,r){const i={},a=r(n);for(const _ in a)i[_]=Md(a[_]);let{initial:l,animate:c}=n;const d=sf(n),f=Nx(n);e&&f&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const y=m?c:l;return y&&typeof y!="boolean"&&!rf(y)&&(Array.isArray(y)?y:[y]).forEach(T=>{const x=Fy(n,T);if(!x)return;const{transitionEnd:R,transition:A,...j}=x;for(const I in j){let N=j[I];if(Array.isArray(N)){const M=m?N.length-1:0;N=N[M]}N!==null&&(i[I]=N)}for(const I in R)i[I]=R[I]}),i}const mL={useVisualState:Zx({scrapeMotionValuesFromProps:Xx,createRenderState:qx,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}jy(t,r,{enableHardwareAcceleration:!1},n.transformTemplate),Yx(e,t)}})},gL={useVisualState:Zx({scrapeMotionValuesFromProps:My,createRenderState:Ly})};function yL(n,{forwardMotionProps:e=!1},t,r,i){return{...Oy(n)?mL:gL,preloadedFeatures:t,useRender:dL(e),createVisualElement:r,projectionNodeConstructor:i,Component:n}}var St;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(St||(St={}));function af(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function og(n,e,t,r){P.useEffect(()=>{const i=n.current;if(t&&i)return af(i,e,t,r)},[n,e,t,r])}function vL({whileFocus:n,visualElement:e}){const{animationState:t}=e,r=()=>{t&&t.setActive(St.Focus,!0)},i=()=>{t&&t.setActive(St.Focus,!1)};og(e,"focus",n?r:void 0),og(e,"blur",n?i:void 0)}function eI(n){return typeof PointerEvent<"u"&&n instanceof PointerEvent?n.pointerType==="mouse":n instanceof MouseEvent}function tI(n){return!!n.touches}function _L(n){return e=>{const t=e instanceof MouseEvent;(!t||t&&e.button===0)&&n(e)}}const wL={pageX:0,pageY:0};function EL(n,e="page"){const r=n.touches[0]||n.changedTouches[0]||wL;return{x:r[e+"X"],y:r[e+"Y"]}}function TL(n,e="page"){return{x:n[e+"X"],y:n[e+"Y"]}}function Uy(n,e="page"){return{point:tI(n)?EL(n,e):TL(n,e)}}const nI=(n,e=!1)=>{const t=r=>n(r,Uy(r));return e?_L(t):t},SL=()=>Ao&&window.onpointerdown===null,xL=()=>Ao&&window.ontouchstart===null,IL=()=>Ao&&window.onmousedown===null,bL={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},CL={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function rI(n){return SL()?n:xL()?CL[n]:IL()?bL[n]:n}function Ra(n,e,t,r){return af(n,rI(e),nI(t,e==="pointerdown"),r)}function dh(n,e,t,r){return og(n,rI(e),t&&nI(t,e==="pointerdown"),r)}function iI(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const uw=iI("dragHorizontal"),cw=iI("dragVertical");function sI(n){let e=!1;if(n==="y")e=cw();else if(n==="x")e=uw();else{const t=uw(),r=cw();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function oI(){const n=sI(!0);return n?(n(),!1):!0}function dw(n,e,t){return(r,i)=>{!eI(r)||oI()||(n.animationState&&n.animationState.setActive(St.Hover,e),t&&t(r,i))}}function PL({onHoverStart:n,onHoverEnd:e,whileHover:t,visualElement:r}){dh(r,"pointerenter",n||t?dw(r,!0,n):void 0,{passive:!n}),dh(r,"pointerleave",e||t?dw(r,!1,e):void 0,{passive:!e})}const aI=(n,e)=>e?n===e?!0:aI(n,e.parentElement):!1;function By(n){return P.useEffect(()=>()=>n(),[])}function lI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}var hh=function(){};const fh=(n,e,t)=>Math.min(Math.max(t,n),e),um=.001,AL=.01,RL=10,kL=.05,NL=1;function OL({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,a,l=1-e;l=fh(kL,NL,l),n=fh(AL,RL,n/1e3),l<1?(i=f=>{const m=f*l,y=m*n,_=m-t,T=ag(f,l),x=Math.exp(-y);return um-_/T*x},a=f=>{const y=f*l*n,_=y*t+t,T=Math.pow(l,2)*Math.pow(f,2)*n,x=Math.exp(-y),R=ag(Math.pow(f,2),l);return(-i(f)+um>0?-1:1)*((_-T)*x)/R}):(i=f=>{const m=Math.exp(-f*n),y=(f-t)*n+1;return-um+m*y},a=f=>{const m=Math.exp(-f*n),y=(t-f)*(n*n);return m*y});const c=5/n,d=VL(i,a,c);if(n=n*1e3,isNaN(d))return{stiffness:100,damping:10,duration:n};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const DL=12;function VL(n,e,t){let r=t;for(let i=1;i<DL;i++)r=r-n(r)/e(r);return r}function ag(n,e){return n*Math.sqrt(1-e*e)}const LL=["duration","bounce"],jL=["stiffness","damping","mass"];function hw(n,e){return e.some(t=>n[t]!==void 0)}function ML(n){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!hw(n,jL)&&hw(n,LL)){const t=OL(n);e=Object.assign(Object.assign(Object.assign({},e),t),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function $y(n){var{from:e=0,to:t=1,restSpeed:r=2,restDelta:i}=n,a=lI(n,["from","to","restSpeed","restDelta"]);const l={done:!1,value:e};let{stiffness:c,damping:d,mass:f,velocity:m,duration:y,isResolvedFromDuration:_}=ML(a),T=fw,x=fw;function R(){const A=m?-(m/1e3):0,j=t-e,I=d/(2*Math.sqrt(c*f)),N=Math.sqrt(c/f)/1e3;if(i===void 0&&(i=Math.min(Math.abs(t-e)/100,.4)),I<1){const M=ag(N,I);T=B=>{const Y=Math.exp(-I*N*B);return t-Y*((A+I*N*j)/M*Math.sin(M*B)+j*Math.cos(M*B))},x=B=>{const Y=Math.exp(-I*N*B);return I*N*Y*(Math.sin(M*B)*(A+I*N*j)/M+j*Math.cos(M*B))-Y*(Math.cos(M*B)*(A+I*N*j)-M*j*Math.sin(M*B))}}else if(I===1)T=M=>t-Math.exp(-N*M)*(j+(A+N*j)*M);else{const M=N*Math.sqrt(I*I-1);T=B=>{const Y=Math.exp(-I*N*B),D=Math.min(M*B,300);return t-Y*((A+I*N*j)*Math.sinh(D)+M*j*Math.cosh(D))/M}}}return R(),{next:A=>{const j=T(A);if(_)l.done=A>=y;else{const I=x(A)*1e3,N=Math.abs(I)<=r,M=Math.abs(t-j)<=i;l.done=N&&M}return l.value=l.done?t:j,l},flipTarget:()=>{m=-m,[e,t]=[t,e],R()}}}$y.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const fw=n=>0,Pu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Lt=(n,e,t)=>-t*n+t*e+n;function cm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function pw({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,l=0;if(!e)i=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;i=cm(d,c,n+1/3),a=cm(d,c,n),l=cm(d,c,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const FL=(n,e,t)=>{const r=n*n,i=e*e;return Math.sqrt(Math.max(0,t*(i-r)+r))},UL=[ig,_s,yo],mw=n=>UL.find(e=>e.test(n)),uI=(n,e)=>{let t=mw(n),r=mw(e),i=t.parse(n),a=r.parse(e);t===yo&&(i=pw(i),t=_s),r===yo&&(a=pw(a),r=_s);const l=Object.assign({},i);return c=>{for(const d in l)d!=="alpha"&&(l[d]=FL(i[d],a[d],c));return l.alpha=Lt(i.alpha,a.alpha,c),t.transform(l)}},lg=n=>typeof n=="number",BL=(n,e)=>t=>e(n(t)),lf=(...n)=>n.reduce(BL);function cI(n,e){return lg(n)?t=>Lt(n,e,t):Pn.test(n)?uI(n,e):hI(n,e)}const dI=(n,e)=>{const t=[...n],r=t.length,i=n.map((a,l)=>cI(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=i[l](a);return t}},$L=(n,e)=>{const t=Object.assign(Object.assign({},n),e),r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=cI(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}};function gw(n){const e=Li.parse(n),t=e.length;let r=0,i=0,a=0;for(let l=0;l<t;l++)r||typeof e[l]=="number"?r++:e[l].hue!==void 0?a++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:a}}const hI=(n,e)=>{const t=Li.createTransformer(e),r=gw(n),i=gw(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?lf(dI(r.parsed,i.parsed),t):l=>`${l>0?e:n}`},zL=(n,e)=>t=>Lt(n,e,t);function HL(n){if(typeof n=="number")return zL;if(typeof n=="string")return Pn.test(n)?uI:hI;if(Array.isArray(n))return dI;if(typeof n=="object")return $L}function WL(n,e,t){const r=[],i=t||HL(n[0]),a=n.length-1;for(let l=0;l<a;l++){let c=i(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]:e;c=lf(d,c)}r.push(c)}return r}function qL([n,e],[t]){return r=>t(Pu(n,e,r))}function KL(n,e){const t=n.length,r=t-1;return i=>{let a=0,l=!1;if(i<=n[0]?l=!0:i>=n[r]&&(a=r-1,l=!0),!l){let d=1;for(;d<t&&!(n[d]>i||d===r);d++);a=d-1}const c=Pu(n[a],n[a+1],i);return e[a](c)}}function fI(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;hh(a===e.length),hh(!r||!Array.isArray(r)||r.length===a-1),n[0]>n[a-1]&&(n=[].concat(n),e=[].concat(e),n.reverse(),e.reverse());const l=WL(e,r,i),c=a===2?qL(n,l):KL(n,l);return t?d=>c(fh(n[0],n[a-1],d)):c}const uf=n=>e=>1-n(1-e),zy=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,GL=n=>e=>Math.pow(e,n),pI=n=>e=>e*e*((n+1)*e-n),QL=n=>{const e=pI(n);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))},mI=1.525,YL=4/11,XL=8/11,JL=9/10,Hy=n=>n,Wy=GL(2),ZL=uf(Wy),gI=zy(Wy),yI=n=>1-Math.sin(Math.acos(n)),qy=uf(yI),e3=zy(qy),Ky=pI(mI),t3=uf(Ky),n3=zy(Ky),r3=QL(mI),i3=4356/361,s3=35442/1805,o3=16061/1805,ph=n=>{if(n===1||n===0)return n;const e=n*n;return n<YL?7.5625*e:n<XL?9.075*e-9.9*n+3.4:n<JL?i3*e-s3*n+o3:10.8*n*n-20.52*n+10.72},a3=uf(ph),l3=n=>n<.5?.5*(1-ph(1-n*2)):.5*ph(n*2-1)+.5;function u3(n,e){return n.map(()=>e||gI).splice(0,n.length-1)}function c3(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function d3(n,e){return n.map(t=>t*e)}function Fd({from:n=0,to:e=1,ease:t,offset:r,duration:i=300}){const a={done:!1,value:n},l=Array.isArray(e)?e:[n,e],c=d3(r&&r.length===l.length?r:c3(l),i);function d(){return fI(c,l,{ease:Array.isArray(t)?t:u3(l,t)})}let f=d();return{next:m=>(a.value=f(m),a.done=m>=i,a),flipTarget:()=>{l.reverse(),f=d()}}}function h3({velocity:n=0,from:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:a}){const l={done:!1,value:e};let c=t*n;const d=e+c,f=a===void 0?d:a(d);return f!==d&&(c=f-e),{next:m=>{const y=-c*Math.exp(-m/r);return l.done=!(y>i||y<-i),l.value=l.done?f:f+y,l},flipTarget:()=>{}}}const yw={keyframes:Fd,spring:$y,decay:h3};function f3(n){if(Array.isArray(n.to))return Fd;if(yw[n.type])return yw[n.type];const e=new Set(Object.keys(n));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Fd:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?$y:Fd}const vI=1/60*1e3,p3=typeof performance<"u"?()=>performance.now():()=>Date.now(),_I=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(p3()),vI);function m3(n){let e=[],t=[],r=0,i=!1,a=!1;const l=new WeakSet,c={schedule:(d,f=!1,m=!1)=>{const y=m&&i,_=y?e:t;return f&&l.add(d),_.indexOf(d)===-1&&(_.push(d),y&&i&&(r=e.length)),d},cancel:d=>{const f=t.indexOf(d);f!==-1&&t.splice(f,1),l.delete(d)},process:d=>{if(i){a=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let f=0;f<r;f++){const m=e[f];m(d),l.has(m)&&(c.schedule(m),n())}i=!1,a&&(a=!1,c.process(d))}};return c}const g3=40;let ug=!0,Au=!1,cg=!1;const ka={delta:0,timestamp:0},Yu=["read","update","preRender","render","postRender"],cf=Yu.reduce((n,e)=>(n[e]=m3(()=>Au=!0),n),{}),pr=Yu.reduce((n,e)=>{const t=cf[e];return n[e]=(r,i=!1,a=!1)=>(Au||v3(),t.schedule(r,i,a)),n},{}),Vs=Yu.reduce((n,e)=>(n[e]=cf[e].cancel,n),{}),dm=Yu.reduce((n,e)=>(n[e]=()=>cf[e].process(ka),n),{}),y3=n=>cf[n].process(ka),wI=n=>{Au=!1,ka.delta=ug?vI:Math.max(Math.min(n-ka.timestamp,g3),1),ka.timestamp=n,cg=!0,Yu.forEach(y3),cg=!1,Au&&(ug=!1,_I(wI))},v3=()=>{Au=!0,ug=!0,cg||_I(wI)},mh=()=>ka;function EI(n,e,t=0){return n-e-t}function _3(n,e,t=0,r=!0){return r?EI(e+-n,e,t):e-(n-e)+t}function w3(n,e,t,r){return r?n>=e+t:n<=-t}const E3=n=>{const e=({delta:t})=>n(t);return{start:()=>pr.update(e,!0),stop:()=>Vs.update(e)}};function TI(n){var e,t,{from:r,autoplay:i=!0,driver:a=E3,elapsed:l=0,repeat:c=0,repeatType:d="loop",repeatDelay:f=0,onPlay:m,onStop:y,onComplete:_,onRepeat:T,onUpdate:x}=n,R=lI(n,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:A}=R,j,I=0,N=R.duration,M,B=!1,Y=!0,D;const C=f3(R);!((t=(e=C).needsInterpolation)===null||t===void 0)&&t.call(e,r,A)&&(D=fI([0,100],[r,A],{clamp:!1}),r=0,A=100);const k=C(Object.assign(Object.assign({},R),{from:r,to:A}));function L(){I++,d==="reverse"?(Y=I%2===0,l=_3(l,N,f,Y)):(l=EI(l,N,f),d==="mirror"&&k.flipTarget()),B=!1,T&&T()}function F(){j.stop(),_&&_()}function $(ye){if(Y||(ye=-ye),l+=ye,!B){const Re=k.next(Math.max(0,l));M=Re.value,D&&(M=D(M)),B=Y?Re.done:l<=0}x==null||x(M),B&&(I===0&&(N??(N=l)),I<c?w3(l,N,f,Y)&&L():F())}function V(){m==null||m(),j=a($),j.start()}return i&&V(),{stop:()=>{y==null||y(),j.stop()}}}function SI(n,e){return e?n*(1e3/e):0}function T3({from:n=0,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:a=750,bounceStiffness:l=500,bounceDamping:c=10,restDelta:d=1,modifyTarget:f,driver:m,onUpdate:y,onComplete:_,onStop:T}){let x;function R(N){return t!==void 0&&N<t||r!==void 0&&N>r}function A(N){return t===void 0?r:r===void 0||Math.abs(t-N)<Math.abs(r-N)?t:r}function j(N){x==null||x.stop(),x=TI(Object.assign(Object.assign({},N),{driver:m,onUpdate:M=>{var B;y==null||y(M),(B=N.onUpdate)===null||B===void 0||B.call(N,M)},onComplete:_,onStop:T}))}function I(N){j(Object.assign({type:"spring",stiffness:l,damping:c,restDelta:d},N))}if(R(n))I({from:n,velocity:e,to:A(n)});else{let N=i*e+n;typeof f<"u"&&(N=f(N));const M=A(N),B=M===t?-1:1;let Y,D;const C=k=>{Y=D,D=k,e=SI(k-Y,mh().delta),(B===1&&k>M||B===-1&&k<M)&&I({from:k,to:M,velocity:e})};j({type:"decay",from:n,velocity:e,timeConstant:a,power:i,restDelta:d,modifyTarget:f,onUpdate:R(N)?C:void 0})}return{stop:()=>x==null?void 0:x.stop()}}const dg=n=>n.hasOwnProperty("x")&&n.hasOwnProperty("y"),vw=n=>dg(n)&&n.hasOwnProperty("z"),wd=(n,e)=>Math.abs(n-e);function S3(n,e){if(lg(n)&&lg(e))return wd(n,e);if(dg(n)&&dg(e)){const t=wd(n.x,e.x),r=wd(n.y,e.y),i=vw(n)&&vw(e)?wd(n.z,e.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(r,2)+Math.pow(i,2))}}const xI=(n,e)=>1-3*e+3*n,II=(n,e)=>3*e-6*n,bI=n=>3*n,gh=(n,e,t)=>((xI(e,t)*n+II(e,t))*n+bI(e))*n,CI=(n,e,t)=>3*xI(e,t)*n*n+2*II(e,t)*n+bI(e),x3=1e-7,I3=10;function b3(n,e,t,r,i){let a,l,c=0;do l=e+(t-e)/2,a=gh(l,r,i)-n,a>0?t=l:e=l;while(Math.abs(a)>x3&&++c<I3);return l}const C3=8,P3=.001;function A3(n,e,t,r){for(let i=0;i<C3;++i){const a=CI(e,t,r);if(a===0)return e;const l=gh(e,t,r)-n;e-=l/a}return e}const Ud=11,Ed=1/(Ud-1);function R3(n,e,t,r){if(n===e&&t===r)return Hy;const i=new Float32Array(Ud);for(let l=0;l<Ud;++l)i[l]=gh(l*Ed,n,t);function a(l){let c=0,d=1;const f=Ud-1;for(;d!==f&&i[d]<=l;++d)c+=Ed;--d;const m=(l-i[d])/(i[d+1]-i[d]),y=c+m*Ed,_=CI(y,n,t);return _>=P3?A3(l,y,n,t):_===0?y:b3(l,c,c+Ed,n,t)}return l=>l===0||l===1?l:gh(a(l),e,r)}function k3({onTap:n,onTapStart:e,onTapCancel:t,whileTap:r,visualElement:i}){const a=n||e||t||r,l=P.useRef(!1),c=P.useRef(null),d={passive:!(e||n||t||T)};function f(){c.current&&c.current(),c.current=null}function m(){return f(),l.current=!1,i.animationState&&i.animationState.setActive(St.Tap,!1),!oI()}function y(x,R){m()&&(aI(i.current,x.target)?n&&n(x,R):t&&t(x,R))}function _(x,R){m()&&t&&t(x,R)}function T(x,R){f(),!l.current&&(l.current=!0,c.current=lf(Ra(window,"pointerup",y,d),Ra(window,"pointercancel",_,d)),i.animationState&&i.animationState.setActive(St.Tap,!0),e&&e(x,R))}dh(i,"pointerdown",a?T:void 0,d),By(f)}var N3={};const O3="production",PI=typeof process>"u"||N3===void 0?O3:"production",_w=new Set;function AI(n,e,t){_w.has(e)||(console.warn(e),_w.add(e))}const hg=new WeakMap,hm=new WeakMap,D3=n=>{const e=hg.get(n.target);e&&e(n)},V3=n=>{n.forEach(D3)};function L3({root:n,...e}){const t=n||document;hm.has(t)||hm.set(t,{});const r=hm.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(V3,{root:n,...e})),r[i]}function j3(n,e,t){const r=L3(e);return hg.set(n,t),r.observe(n),()=>{hg.delete(n),r.unobserve(n)}}function M3({visualElement:n,whileInView:e,onViewportEnter:t,onViewportLeave:r,viewport:i={}}){const a=P.useRef({hasEnteredView:!1,isInView:!1});let l=!!(e||t||r);i.once&&a.current.hasEnteredView&&(l=!1),(typeof IntersectionObserver>"u"?B3:U3)(l,a.current,n,i)}const F3={some:0,all:1};function U3(n,e,t,{root:r,margin:i,amount:a="some",once:l}){P.useEffect(()=>{if(!n||!t.current)return;const c={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof a=="number"?a:F3[a]},d=f=>{const{isIntersecting:m}=f;if(e.isInView===m||(e.isInView=m,l&&!m&&e.hasEnteredView))return;m&&(e.hasEnteredView=!0),t.animationState&&t.animationState.setActive(St.InView,m);const y=t.getProps(),_=m?y.onViewportEnter:y.onViewportLeave;_&&_(f)};return j3(t.current,c,d)},[n,r,i,a])}function B3(n,e,t,{fallback:r=!0}){P.useEffect(()=>{!n||!r||(PI!=="production"&&AI(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=t.getProps();i&&i(null),t.animationState&&t.animationState.setActive(St.InView,!0)}))},[n])}const ws=n=>e=>(n(e),null),$3={inView:ws(M3),tap:ws(k3),focus:ws(vL),hover:ws(PL)};function RI(){const n=P.useContext(Ku);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=P.useId();return P.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}function kI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const yh=n=>n*1e3,z3={linear:Hy,easeIn:Wy,easeInOut:gI,easeOut:ZL,circIn:yI,circInOut:e3,circOut:qy,backIn:Ky,backInOut:n3,backOut:t3,anticipate:r3,bounceIn:a3,bounceInOut:l3,bounceOut:ph},ww=n=>{if(Array.isArray(n)){hh(n.length===4);const[e,t,r,i]=n;return R3(e,t,r,i)}else if(typeof n=="string")return z3[n];return n},H3=n=>Array.isArray(n)&&typeof n[0]!="number",Ew=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Li.test(e)&&!e.startsWith("url(")),co=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Td=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),fm=()=>({type:"keyframes",ease:"linear",duration:.3}),W3=n=>({type:"keyframes",duration:.8,values:n}),Tw={x:co,y:co,z:co,rotate:co,rotateX:co,rotateY:co,rotateZ:co,scaleX:Td,scaleY:Td,scale:Td,opacity:fm,backgroundColor:fm,color:fm,default:Td},q3=(n,e)=>{let t;return Cu(e)?t=W3:t=Tw[n]||Tw.default,{to:e,...t(e)}},K3={...zx,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:sg,WebkitFilter:sg},Gy=n=>K3[n];function Qy(n,e){var t;let r=Gy(n);return r!==sg&&(r=Li),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,e)}function NI(n,e){const t=performance.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(Vs.read(r),n(a-e))};return pr.read(r,!0),()=>Vs.read(r)}function G3({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:d,...f}){return!!Object.keys(f).length}function Q3({ease:n,times:e,yoyo:t,flip:r,loop:i,...a}){const l={...a};return e&&(l.offset=e),a.duration&&(l.duration=yh(a.duration)),a.repeatDelay&&(l.repeatDelay=yh(a.repeatDelay)),n&&(l.ease=H3(n)?n.map(ww):ww(n)),a.type==="tween"&&(l.type="keyframes"),(t||i||r)&&(t?l.repeatType="reverse":i?l.repeatType="loop":r&&(l.repeatType="mirror"),l.repeat=i||t||r||a.repeat),a.type!=="spring"&&(l.type="keyframes"),l}function Y3(n,e){var t,r;return(r=(t=(Yy(n,e)||{}).delay)!==null&&t!==void 0?t:n.delay)!==null&&r!==void 0?r:0}function X3(n){return Array.isArray(n.to)&&n.to[0]===null&&(n.to=[...n.to],n.to[0]=n.from),n}function J3(n,e,t){return Array.isArray(e.to)&&n.duration===void 0&&(n.duration=.8),X3(e),G3(n)||(n={...n,...q3(t,e.to)}),{...e,...Q3(n)}}function Z3(n,e,t,r,i){const a=Yy(r,n)||{};let l=a.from!==void 0?a.from:e.get();const c=Ew(n,t);l==="none"&&c&&typeof t=="string"?l=Qy(n,t):Sw(l)&&typeof t=="string"?l=xw(t):!Array.isArray(t)&&Sw(t)&&typeof l=="string"&&(t=xw(l));const d=Ew(n,l);function f(){const y={from:l,to:t,velocity:e.getVelocity(),onComplete:i,onUpdate:_=>e.set(_)};return a.type==="inertia"||a.type==="decay"?T3({...y,...a}):TI({...J3(a,y,n),onUpdate:_=>{y.onUpdate(_),a.onUpdate&&a.onUpdate(_)},onComplete:()=>{y.onComplete(),a.onComplete&&a.onComplete()}})}function m(){const y=Jx(t);return e.set(y),i(),a.onUpdate&&a.onUpdate(y),a.onComplete&&a.onComplete(),{stop:()=>{}}}return!d||!c||a.type===!1?m:f}function Sw(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function xw(n){return typeof n=="number"?0:Qy("",n)}function Yy(n,e){return n[e]||n.default||n}function Xy(n,e,t,r={}){return e.start(i=>{let a;const l=Z3(n,e,t,r,i),c=Y3(r,n),d=()=>a=l();let f;return c?f=NI(d,yh(c)):d(),()=>{f&&f(),a&&a.stop()}})}const e6=n=>/^\-?\d*\.?\d+$/.test(n),t6=n=>/^0[^.\s]+$/.test(n);function Jy(n,e){n.indexOf(e)===-1&&n.push(e)}function Zy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ou{constructor(){this.subscriptions=[]}add(e){return Jy(this.subscriptions,e),()=>Zy(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const n6=n=>!isNaN(parseFloat(n));class r6{constructor(e){this.version="7.6.16",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ou,this.velocityUpdateSubscribers=new ou,this.renderSubscribers=new ou,this.canTrackVelocity=!1,this.updateAndNotify=(t,r=!0)=>{this.prev=this.current,this.current=t;const{delta:i,timestamp:a}=mh();this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,pr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),r&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>pr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=n6(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?SI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.stopAnimation=e(t)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function $a(n){return new r6(n)}const OI=n=>e=>e.test(n),i6={test:n=>n==="auto",parse:n=>n},DI=[Ro,Le,ii,hs,BV,UV,i6],$l=n=>DI.find(OI(n)),s6=[...DI,Pn,Li],o6=n=>s6.find(OI(n));function a6(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function l6(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function df(n,e,t){const r=n.getProps();return Fy(r,e,t!==void 0?t:r.custom,a6(n),l6(n))}function u6(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,$a(t))}function c6(n,e){const t=df(n,e);let{transitionEnd:r={},transition:i={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const l in a){const c=Jx(a[l]);u6(n,l,c)}}function d6(n,e,t){var r,i;const a=Object.keys(e).filter(c=>!n.hasValue(c)),l=a.length;if(l)for(let c=0;c<l;c++){const d=a[c],f=e[d];let m=null;Array.isArray(f)&&(m=f[0]),m===null&&(m=(i=(r=t[d])!==null&&r!==void 0?r:n.readValue(d))!==null&&i!==void 0?i:e[d]),m!=null&&(typeof m=="string"&&(e6(m)||t6(m))?m=parseFloat(m):!o6(m)&&Li.test(f)&&(m=Qy(d,f)),n.addValue(d,$a(m)),t[d]===void 0&&(t[d]=m),m!==null&&n.setBaseTarget(d,m))}}function h6(n,e){return e?(e[n]||e.default||e).from:void 0}function f6(n,e,t){var r;const i={};for(const a in n){const l=h6(a,e);i[a]=l!==void 0?l:(r=t.getValue(a))===null||r===void 0?void 0:r.get()}return i}function vh(n){return!!(oi(n)&&n.add)}function p6(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>fg(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=fg(n,e,t);else{const i=typeof e=="function"?df(n,e,t.custom):e;r=VI(n,i,t)}return r.then(()=>n.notify("AnimationComplete",e))}function fg(n,e,t={}){var r;const i=df(n,e,t.custom);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const l=i?()=>VI(n,i,t):()=>Promise.resolve(),c=!((r=n.variantChildren)===null||r===void 0)&&r.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=a;return m6(n,e,m+f,y,_,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,m]=d==="beforeChildren"?[l,c]:[c,l];return f().then(m)}else return Promise.all([l(),c(t.delay)])}function VI(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=n.makeTargetAnimatable(e);const f=n.getValue("willChange");r&&(l=r);const m=[],y=i&&((a=n.animationState)===null||a===void 0?void 0:a.getState()[i]);for(const _ in d){const T=n.getValue(_),x=d[_];if(!T||x===void 0||y&&y6(y,_))continue;let R={delay:t,...l};n.shouldReduceMotion&&nl.has(_)&&(R={...R,type:!1,delay:0});let A=Xy(_,T,x,R);vh(f)&&(f.add(_),A=A.then(()=>f.remove(_))),m.push(A)}return Promise.all(m).then(()=>{c&&c6(n,c)})}function m6(n,e,t=0,r=0,i=1,a){const l=[],c=(n.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(n.variantChildren).sort(g6).forEach((f,m)=>{l.push(fg(f,e,{...a,delay:t+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function g6(n,e){return n.sortNodePosition(e)}function y6({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}const ev=[St.Animate,St.InView,St.Focus,St.Hover,St.Tap,St.Drag,St.Exit],v6=[...ev].reverse(),_6=ev.length;function w6(n){return e=>Promise.all(e.map(({animation:t,options:r})=>p6(n,t,r)))}function E6(n){let e=w6(n);const t=S6();let r=!0;const i=(d,f)=>{const m=df(n,f);if(m){const{transition:y,transitionEnd:_,...T}=m;d={...d,...T,..._}}return d};function a(d){e=d(n)}function l(d,f){var m;const y=n.getProps(),_=n.getVariantContext(!0)||{},T=[],x=new Set;let R={},A=1/0;for(let I=0;I<_6;I++){const N=v6[I],M=t[N],B=(m=y[N])!==null&&m!==void 0?m:_[N],Y=xu(B),D=N===f?M.isActive:null;D===!1&&(A=I);let C=B===_[N]&&B!==y[N]&&Y;if(C&&r&&n.manuallyAnimateOnMount&&(C=!1),M.protectedKeys={...R},!M.isActive&&D===null||!B&&!M.prevProp||rf(B)||typeof B=="boolean")continue;const k=T6(M.prevProp,B);let L=k||N===f&&M.isActive&&!C&&Y||I>A&&Y;const F=Array.isArray(B)?B:[B];let $=F.reduce(i,{});D===!1&&($={});const{prevResolvedValues:V={}}=M,ye={...V,...$},Re=ve=>{L=!0,x.delete(ve),M.needsAnimating[ve]=!0};for(const ve in ye){const Ee=$[ve],Q=V[ve];R.hasOwnProperty(ve)||(Ee!==Q?Cu(Ee)&&Cu(Q)?!kI(Ee,Q)||k?Re(ve):M.protectedKeys[ve]=!0:Ee!==void 0?Re(ve):x.add(ve):Ee!==void 0&&x.has(ve)?Re(ve):M.protectedKeys[ve]=!0)}M.prevProp=B,M.prevResolvedValues=$,M.isActive&&(R={...R,...$}),r&&n.blockInitialAnimation&&(L=!1),L&&!C&&T.push(...F.map(ve=>({animation:ve,options:{type:N,...d}})))}if(x.size){const I={};x.forEach(N=>{const M=n.getBaseTarget(N);M!==void 0&&(I[N]=M)}),T.push({animation:I})}let j=!!T.length;return r&&y.initial===!1&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(T):Promise.resolve()}function c(d,f,m){var y;if(t[d].isActive===f)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(T=>{var x;return(x=T.animationState)===null||x===void 0?void 0:x.setActive(d,f)}),t[d].isActive=f;const _=l(m,d);for(const T in t)t[T].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t}}function T6(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!kI(e,n):!1}function ho(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S6(){return{[St.Animate]:ho(!0),[St.InView]:ho(),[St.Hover]:ho(),[St.Tap]:ho(),[St.Drag]:ho(),[St.Focus]:ho(),[St.Exit]:ho()}}const x6={animation:ws(({visualElement:n,animate:e})=>{n.animationState||(n.animationState=E6(n)),rf(e)&&P.useEffect(()=>e.subscribe(n),[e])}),exit:ws(n=>{const{custom:e,visualElement:t}=n,[r,i]=RI(),a=P.useContext(Ku);P.useEffect(()=>{t.isPresent=r;const l=t.animationState&&t.animationState.setActive(St.Exit,!r,{custom:a&&a.custom||e});l&&!r&&l.then(i)},[r])})};class LI{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=mm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=S3(f.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:_}=f,{timestamp:T}=mh();this.history.push({..._,timestamp:T});const{onStart:x,onMove:R}=this.handlers;m||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{if(this.lastMoveEvent=f,this.lastMoveEventInfo=pm(m,this.transformPagePoint),eI(f)&&f.buttons===0){this.handlePointerUp(f,m);return}pr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:_}=this.handlers,T=mm(pm(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,T),_&&_(f,T)},tI(e)&&e.touches.length>1)return;this.handlers=t,this.transformPagePoint=r;const i=Uy(e),a=pm(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=mh();this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,mm(a,this.history)),this.removeListeners=lf(Ra(window,"pointermove",this.handlePointerMove),Ra(window,"pointerup",this.handlePointerUp),Ra(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs.update(this.updatePoint)}}function pm(n,e){return e?{point:e(n.point)}:n}function Iw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function mm({point:n},e){return{point:n,delta:Iw(n,jI(e)),offset:Iw(n,I6(e)),velocity:b6(e,.1)}}function I6(n){return n[0]}function jI(n){return n[n.length-1]}function b6(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=jI(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>yh(e)));)t--;if(!r)return{x:0,y:0};const a=(i.timestamp-r.timestamp)/1e3;if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Jn(n){return n.max-n.min}function pg(n,e=0,t=.01){return Math.abs(n-e)<=t}function bw(n,e,t,r=.5){n.origin=r,n.originPoint=Lt(e.min,e.max,n.origin),n.scale=Jn(t)/Jn(e),(pg(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Lt(t.min,t.max,n.origin)-n.originPoint,(pg(n.translate)||isNaN(n.translate))&&(n.translate=0)}function au(n,e,t,r){bw(n.x,e.x,t.x,r==null?void 0:r.originX),bw(n.y,e.y,t.y,r==null?void 0:r.originY)}function Cw(n,e,t){n.min=t.min+e.min,n.max=n.min+Jn(e)}function C6(n,e,t){Cw(n.x,e.x,t.x),Cw(n.y,e.y,t.y)}function Pw(n,e,t){n.min=e.min-t.min,n.max=n.min+Jn(e)}function lu(n,e,t){Pw(n.x,e.x,t.x),Pw(n.y,e.y,t.y)}function P6(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Lt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Lt(t,n,r.max):Math.min(n,t)),n}function Aw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function A6(n,{top:e,left:t,bottom:r,right:i}){return{x:Aw(n.x,t,i),y:Aw(n.y,e,r)}}function Rw(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function R6(n,e){return{x:Rw(n.x,e.x),y:Rw(n.y,e.y)}}function k6(n,e){let t=.5;const r=Jn(n),i=Jn(e);return i>r?t=Pu(e.min,e.max-r,n.min):r>i&&(t=Pu(n.min,n.max-i,e.min)),fh(0,1,t)}function N6(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const mg=.35;function O6(n=mg){return n===!1?n=0:n===!0&&(n=mg),{x:kw(n,"left","right"),y:kw(n,"top","bottom")}}function kw(n,e,t){return{min:Nw(n,e),max:Nw(n,t)}}function Nw(n,e){var t;return typeof n=="number"?n:(t=n[e])!==null&&t!==void 0?t:0}const Ow=()=>({translate:0,scale:1,origin:0,originPoint:0}),uu=()=>({x:Ow(),y:Ow()}),Dw=()=>({min:0,max:0}),Qt=()=>({x:Dw(),y:Dw()});function Xr(n){return[n("x"),n("y")]}function MI({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function D6({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function V6(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function gm(n){return n===void 0||n===1}function gg({scale:n,scaleX:e,scaleY:t}){return!gm(n)||!gm(e)||!gm(t)}function po(n){return gg(n)||FI(n)||n.z||n.rotate||n.rotateX||n.rotateY}function FI(n){return Vw(n.x)||Vw(n.y)}function Vw(n){return n&&n!=="0%"}function _h(n,e,t){const r=n-t,i=e*r;return t+i}function Lw(n,e,t,r,i){return i!==void 0&&(n=_h(n,i,r)),_h(n,t,r)+e}function yg(n,e=0,t=1,r,i){n.min=Lw(n.min,e,t,r,i),n.max=Lw(n.max,e,t,r,i)}function UI(n,{x:e,y:t}){yg(n.x,e.translate,e.scale,e.originPoint),yg(n.y,t.translate,t.scale,t.originPoint)}function L6(n,e,t,r=!1){var i,a;const l=t.length;if(!l)return;e.x=e.y=1;let c,d;for(let f=0;f<l;f++)c=t[f],d=c.projectionDelta,((a=(i=c.instance)===null||i===void 0?void 0:i.style)===null||a===void 0?void 0:a.display)!=="contents"&&(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ia(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,UI(n,d)),r&&po(c.latestValues)&&Ia(n,c.latestValues));e.x=jw(e.x),e.y=jw(e.y)}function jw(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function fs(n,e){n.min=n.min+e,n.max=n.max+e}function Mw(n,e,[t,r,i]){const a=e[i]!==void 0?e[i]:.5,l=Lt(n.min,n.max,a);yg(n,e[t],e[r],l,e.scale)}const j6=["x","scaleX","originX"],M6=["y","scaleY","originY"];function Ia(n,e){Mw(n.x,e,j6),Mw(n.y,e,M6)}function BI(n,e){return MI(V6(n.getBoundingClientRect(),e))}function F6(n,e,t){const r=BI(n,t),{scroll:i}=e;return i&&(fs(r.x,i.offset.x),fs(r.y,i.offset.y)),r}const U6=new WeakMap;class B6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){if(this.visualElement.isPresent===!1)return;const r=c=>{this.stopAnimation(),t&&this.snapToCursor(Uy(c,"page").point)},i=(c,d)=>{var f;const{drag:m,dragPropagation:y,onDragStart:_}=this.getProps();m&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=sI(m),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(T=>{var x,R;let A=this.getAxisMotionValue(T).get()||0;if(ii.test(A)){const j=(R=(x=this.visualElement.projection)===null||x===void 0?void 0:x.layout)===null||R===void 0?void 0:R.layoutBox[T];j&&(A=Jn(j)*(parseFloat(A)/100))}this.originPoint[T]=A}),_==null||_(c,d),(f=this.visualElement.animationState)===null||f===void 0||f.setActive(St.Drag,!0))},a=(c,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:_}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:T}=d;if(m&&this.currentDirection===null){this.currentDirection=$6(T),this.currentDirection!==null&&(y==null||y(this.currentDirection));return}this.updateAxis("x",d.point,T),this.updateAxis("y",d.point,T),this.visualElement.render(),_==null||_(c,d)},l=(c,d)=>this.stop(c,d);this.panSession=new LI(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a==null||a(e,t)}cancel(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(St.Drag,!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Sd(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=P6(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&xa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=A6(r.layoutBox,e):this.constraints=!1,this.elastic=O6(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=N6(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=F6(r,i.root,this.visualElement.getTransformPagePoint());let l=R6(i.layout.layoutBox,a);if(t){const c=t(D6(l));this.hasMutatedConstraints=!!c,c&&(l=MI(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Xr(m=>{var y;if(!Sd(m,t,this.currentDirection))return;let _=(y=d==null?void 0:d[m])!==null&&y!==void 0?y:{};l&&(_={min:0,max:0});const T=i?200:1e6,x=i?40:1e7,R={type:"inertia",velocity:r?e[m]:0,bounceStiffness:T,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(m,R)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Xy(e,r,0,t)}stopAnimation(){Xr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var t,r;const i="_drag"+e.toUpperCase(),a=this.visualElement.getProps()[i];return a||this.visualElement.getValue(e,(r=(t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])!==null&&r!==void 0?r:0)}snapToCursor(e){Xr(t=>{const{drag:r}=this.getProps();if(!Sd(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[t];a.set(e[t]-Lt(l,c,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!xa(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xr(c=>{const d=this.getAxisMotionValue(c);if(d){const f=d.get();a[c]=k6({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),Xr(c=>{if(!Sd(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Lt(f,m,a[c]))})}addListeners(){var e;if(!this.visualElement.current)return;U6.set(this.visualElement,this);const t=this.visualElement.current,r=Ra(t,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();xa(f)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&((e=a.root)===null||e===void 0||e.updateScroll(),a.updateLayout()),i();const c=af(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Xr(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())});return()=>{c(),r(),l(),d==null||d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=mg,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Sd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $6(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function z6(n){const{dragControls:e,visualElement:t}=n,r=of(()=>new B6(t));P.useEffect(()=>e&&e.subscribe(r),[r,e]),P.useEffect(()=>r.addListeners(),[r])}function H6({onPan:n,onPanStart:e,onPanEnd:t,onPanSessionStart:r,visualElement:i}){const a=n||e||t||r,l=P.useRef(null),{transformPagePoint:c}=P.useContext(ky),d={onSessionStart:r,onStart:e,onMove:n,onEnd:(m,y)=>{l.current=null,t&&t(m,y)}};P.useEffect(()=>{l.current!==null&&l.current.updateHandlers(d)});function f(m){l.current=new LI(m,d,{transformPagePoint:c})}dh(i,"pointerdown",a&&f),By(()=>l.current&&l.current.end())}const W6={pan:ws(H6),drag:ws(z6)};function vg(n){return typeof n=="string"&&n.startsWith("var(--")}const $I=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function q6(n){const e=$I.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function _g(n,e,t=1){const[r,i]=q6(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);return a?a.trim():vg(i)?_g(i,e,t+1):i}function K6(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const a=i.get();if(!vg(a))return;const l=_g(a,r);l&&i.set(l)});for(const i in e){const a=e[i];if(!vg(a))continue;const l=_g(a,r);l&&(e[i]=l,t&&t[i]===void 0&&(t[i]=a))}return{target:e,transitionEnd:t}}const G6=new Set(["width","height","top","left","right","bottom","x","y"]),zI=n=>G6.has(n),Q6=n=>Object.keys(n).some(zI),HI=(n,e)=>{n.set(e,!1),n.set(e)},Fw=n=>n===Ro||n===Le;var Uw;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(Uw||(Uw={}));const Bw=(n,e)=>parseFloat(n.split(", ")[e]),$w=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Bw(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?Bw(a[1],n):0}},Y6=new Set(["x","y","z"]),X6=uh.filter(n=>!Y6.has(n));function J6(n){const e=[];return X6.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const zw={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:$w(4,13),y:$w(5,14)},Z6=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:l}=a,c={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(f=>{c[f]=zw[f](r,a)}),e.render();const d=e.measureViewportBox();return t.forEach(f=>{const m=e.getValue(f);HI(m,c[f]),n[f]=zw[f](d,a)}),n},ej=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(zI);let a=[],l=!1;const c=[];if(i.forEach(d=>{const f=n.getValue(d);if(!n.hasValue(d))return;let m=t[d],y=$l(m);const _=e[d];let T;if(Cu(_)){const x=_.length,R=_[0]===null?1:0;m=_[R],y=$l(m);for(let A=R;A<x;A++)T?hh($l(_[A])===T):T=$l(_[A])}else T=$l(_);if(y!==T)if(Fw(y)&&Fw(T)){const x=f.get();typeof x=="string"&&f.set(parseFloat(x)),typeof _=="string"?e[d]=parseFloat(_):Array.isArray(_)&&T===Le&&(e[d]=_.map(parseFloat))}else y!=null&&y.transform&&(T!=null&&T.transform)&&(m===0||_===0)?m===0?f.set(T.transform(m)):e[d]=y.transform(_):(l||(a=J6(n),l=!0),c.push(d),r[d]=r[d]!==void 0?r[d]:e[d],HI(f,_))}),c.length){const d=c.indexOf("height")>=0?window.pageYOffset:null,f=Z6(e,n,c);return a.length&&a.forEach(([m,y])=>{n.getValue(m).set(y)}),n.render(),Ao&&d!==null&&window.scrollTo({top:d}),{target:f,transitionEnd:r}}else return{target:e,transitionEnd:r}};function tj(n,e,t,r){return Q6(e)?ej(n,e,t,r):{target:e,transitionEnd:r}}const nj=(n,e,t,r)=>{const i=K6(n,e,r);return e=i.target,r=i.transitionEnd,tj(n,e,t,r)},wg={current:null},WI={current:!1};function rj(){if(WI.current=!0,!!Ao)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>wg.current=n.matches;n.addListener(e),e()}else wg.current=!1}function ij(n,e,t){const{willChange:r}=e;for(const i in e){const a=e[i],l=t[i];if(oi(a))n.addValue(i,a),vh(r)&&r.add(i);else if(oi(l))n.addValue(i,$a(a)),vh(r)&&r.remove(i);else if(l!==a)if(n.hasValue(i)){const c=n.getValue(i);!c.hasAnimated&&c.set(a)}else{const c=n.getStaticValue(i);n.addValue(i,$a(c!==void 0?c:a))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const qI=Object.keys(Iu),sj=qI.length,Hw=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oj{constructor({parent:e,props:t,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>pr.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=sf(t),this.isVariantNode=Nx(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(t);for(const m in f){const y=f[m];l[m]!==void 0&&oi(y)&&(y.set(l[m],!1),vh(d)&&d.add(m))}}scrapeMotionValuesFromProps(e){return{}}mount(e){var t;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(t=this.parent)===null||t===void 0?void 0:t.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),WI.current||rj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wg.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,t,r;(e=this.projection)===null||e===void 0||e.unmount(),Vs.update(this.notifyUpdate),Vs.render(this.render),this.valueSubscriptions.forEach(i=>i()),(t=this.removeFromVariantTree)===null||t===void 0||t.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,t){const r=nl.has(e),i=t.onChange(l=>{this.latestValues[e]=l,this.props.onUpdate&&pr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures(e,t,r,i,a,l){const c=[];for(let d=0;d<sj;d++){const f=qI[d],{isEnabled:m,Component:y}=Iu[f];m(e)&&y&&c.push(P.createElement(y,{key:f,...e,visualElement:this}))}if(!this.projection&&a){this.projection=new a(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:f,drag:m,dragConstraints:y,layoutScroll:_}=e;this.projection.setOptions({layoutId:d,layout:f,alwaysMeasureLayout:!!m||y&&xa(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:l,layoutScroll:_})}return c}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let t=0;t<Hw.length;t++){const r=Hw[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=ij(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var t;return(t=this.props.variants)===null||t===void 0?void 0:t[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var t,r;if(e)return(t=this.parent)===null||t===void 0?void 0:t.getVariantContext();if(!this.isControllingVariants){const a=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const i={};for(let a=0;a<aj;a++){const l=KI[a],c=this.props[l];(xu(c)||c===!1)&&(i[l]=c)}return i}addVariantChild(e){var t;const r=this.getClosestVariantNode();if(r)return(t=r.variantChildren)===null||t===void 0||t.add(e),()=>r.variantChildren.delete(e)}addValue(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.latestValues[e]=t.get(),this.bindToMotionValue(e,t)}removeValue(e){var t;this.values.delete(e),(t=this.valueSubscriptions.get(e))===null||t===void 0||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=$a(t),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=Fy(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!oi(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ou),this.events[e].add(t)}notify(e,...t){var r;(r=this.events[e])===null||r===void 0||r.notify(...t)}}const KI=["initial",...ev],aj=KI.length;class GI extends oj{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},a){let l=f6(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),l&&(l=i(l))),a){d6(this,r,l);const c=nj(this,r,l,t);t=c.transitionEnd,r=c.target}return{transition:e,transitionEnd:t,...r}}}function lj(n){return window.getComputedStyle(n)}class uj extends GI{readValueFromInstance(e,t){if(nl.has(t)){const r=Gy(t);return r&&r.default||0}else{const r=lj(e),i=(Vx(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return BI(e,t)}build(e,t,r,i){Vy(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e){return My(e)}renderInstance(e,t,r,i){Gx(e,t,r,i)}}class cj extends GI{getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){var r;return nl.has(t)?((r=Gy(t))===null||r===void 0?void 0:r.default)||0:(t=Qx.has(t)?t:Kx(t),e.getAttribute(t))}measureInstanceViewportBox(){return Qt()}scrapeMotionValuesFromProps(e){return Xx(e)}build(e,t,r,i){jy(e,t,r,i.transformTemplate)}renderInstance(e,t,r,i){Yx(e,t,r,i)}}const dj=(n,e)=>Oy(n)?new cj(e,{enableHardwareAcceleration:!1}):new uj(e,{enableHardwareAcceleration:!0});function Ww(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const zl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Le.test(n))n=parseFloat(n);else return n;const t=Ww(n,e.target.x),r=Ww(n,e.target.y);return`${t}% ${r}%`}},qw="_$css",hj={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=n.includes("var("),a=[];i&&(n=n.replace($I,T=>(a.push(T),qw)));const l=Li.parse(n);if(l.length>5)return r;const c=Li.createTransformer(n),d=typeof l[0]!="number"?1:0,f=t.x.scale*e.x,m=t.y.scale*e.y;l[0+d]/=f,l[1+d]/=m;const y=Lt(f,m,.5);typeof l[2+d]=="number"&&(l[2+d]/=y),typeof l[3+d]=="number"&&(l[3+d]/=y);let _=c(l);if(i){let T=0;_=_.replace(qw,()=>{const x=a[T];return T++,x})}return _}};class fj extends rt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;DV(mj),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ru.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||pr.postRender(()=>{var c;!((c=l.getStack())===null||c===void 0)&&c.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t!=null&&t.group&&t.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function pj(n){const[e,t]=RI(),r=P.useContext(Ny);return rt.createElement(fj,{...n,layoutGroup:r,switchLayoutGroup:P.useContext(Ox),isPresent:e,safeToRemove:t})}const mj={borderRadius:{...zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zl,borderTopRightRadius:zl,borderBottomLeftRadius:zl,borderBottomRightRadius:zl,boxShadow:hj},gj={measureLayout:pj};function yj(n,e,t={}){const r=oi(n)?n:$a(n);return Xy("",r,e,t),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const QI=["TopLeft","TopRight","BottomLeft","BottomRight"],vj=QI.length,Kw=n=>typeof n=="string"?parseFloat(n):n,Gw=n=>typeof n=="number"||Le.test(n);function _j(n,e,t,r,i,a){var l,c,d,f;i?(n.opacity=Lt(0,(l=t.opacity)!==null&&l!==void 0?l:1,wj(r)),n.opacityExit=Lt((c=e.opacity)!==null&&c!==void 0?c:1,0,Ej(r))):a&&(n.opacity=Lt((d=e.opacity)!==null&&d!==void 0?d:1,(f=t.opacity)!==null&&f!==void 0?f:1,r));for(let m=0;m<vj;m++){const y=`border${QI[m]}Radius`;let _=Qw(e,y),T=Qw(t,y);if(_===void 0&&T===void 0)continue;_||(_=0),T||(T=0),_===0||T===0||Gw(_)===Gw(T)?(n[y]=Math.max(Lt(Kw(_),Kw(T),r),0),(ii.test(T)||ii.test(_))&&(n[y]+="%")):n[y]=T}(e.rotate||t.rotate)&&(n.rotate=Lt(e.rotate||0,t.rotate||0,r))}function Qw(n,e){var t;return(t=n[e])!==null&&t!==void 0?t:n.borderRadius}const wj=YI(0,.5,qy),Ej=YI(.5,.95,Hy);function YI(n,e,t){return r=>r<n?0:r>e?1:t(Pu(n,e,r))}function Yw(n,e){n.min=e.min,n.max=e.max}function kr(n,e){Yw(n.x,e.x),Yw(n.y,e.y)}function Xw(n,e,t,r,i){return n-=e,n=_h(n,1/t,r),i!==void 0&&(n=_h(n,1/i,r)),n}function Tj(n,e=0,t=1,r=.5,i,a=n,l=n){if(ii.test(e)&&(e=parseFloat(e),e=Lt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Lt(a.min,a.max,r);n===a&&(c-=e),n.min=Xw(n.min,e,t,c,i),n.max=Xw(n.max,e,t,c,i)}function Jw(n,e,[t,r,i],a,l){Tj(n,e[t],e[r],e[i],e.scale,a,l)}const Sj=["x","scaleX","originX"],xj=["y","scaleY","originY"];function Zw(n,e,t,r){Jw(n.x,e,Sj,t==null?void 0:t.x,r==null?void 0:r.x),Jw(n.y,e,xj,t==null?void 0:t.y,r==null?void 0:r.y)}function eE(n){return n.translate===0&&n.scale===1}function XI(n){return eE(n.x)&&eE(n.y)}function JI(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function tE(n){return Jn(n.x)/Jn(n.y)}class Ij{constructor(){this.members=[]}add(e){Jy(this.members,e),e.scheduleRender()}remove(e){if(Zy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var t,r,i,a,l;(r=(t=e.options).onExitComplete)===null||r===void 0||r.call(t),(l=(i=e.resumingFrom)===null||i===void 0?void 0:(a=i.options).onExitComplete)===null||l===void 0||l.call(a)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nE(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:d,rotateX:f,rotateY:m}=t;d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const bj=(n,e)=>n.depth-e.depth;class Cj{constructor(){this.children=[],this.isDirty=!1}add(e){Jy(this.children,e),this.isDirty=!0}remove(e){Zy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bj),this.isDirty=!1,this.children.forEach(e)}}const rE=["","X","Y","Z"],iE=1e3;let Pj=0;function ZI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l,c={},d=e==null?void 0:e()){this.id=Pj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(kj),this.nodes.forEach(Dj),this.nodes.forEach(Vj)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=l,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0,l&&this.root.registerPotentialNode(l,this);for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cj)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ou),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d==null||d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}registerPotentialNode(l,c){this.potentialNodes.set(l,c)}mount(l,c=!1){var d;if(this.instance)return;this.isSVG=l instanceof SVGElement&&l.tagName!=="svg",this.instance=l;const{layoutId:f,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),(d=this.parent)===null||d===void 0||d.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),c&&(m||f)&&(this.isLayoutDirty=!0),n){let _;const T=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=NI(T,250),ru.hasAnimatedSinceResize&&(ru.hasAnimatedSinceResize=!1,this.nodes.forEach(oE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||m)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeTargetChanged:x,layout:R})=>{var A,j,I,N,M;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=(j=(A=this.options.transition)!==null&&A!==void 0?A:y.getDefaultTransition())!==null&&j!==void 0?j:Uj,{onLayoutAnimationStart:Y,onLayoutAnimationComplete:D}=y.getProps(),C=!this.targetLayout||!JI(this.targetLayout,R)||x,k=!T&&x;if(!((I=this.resumeFrom)===null||I===void 0)&&I.instance||k||T&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,k);const L={...Yy(B,"layout"),onPlay:Y,onComplete:D};y.shouldReduceMotion&&(L.delay=0,L.type=!1),this.startAnimation(L)}else!T&&this.animationProgress===0&&oE(this),this.isLead()&&((M=(N=this.options).onExitComplete)===null||M===void 0||M.call(N));this.targetLayout=R})}unmount(){var l,c;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(l=this.getStack())===null||l===void 0||l.remove(this),(c=this.parent)===null||c===void 0||c.children.delete(this),this.instance=void 0,Vs.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var l;return this.isAnimationBlocked||((l=this.parent)===null||l===void 0?void 0:l.isTreeAnimationBlocked())||!1}startUpdate(){var l;this.isUpdateBlocked()||(this.isUpdating=!0,(l=this.nodes)===null||l===void 0||l.forEach(Lj),this.animationId++)}willUpdate(l=!0){var c,d,f;if(this.root.isUpdateBlocked()){(d=(c=this.options).onExitComplete)===null||d===void 0||d.call(c);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const x=this.path[T];x.shouldResetTransform=!0,x.updateScroll("snapshot")}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const _=(f=this.options.visualElement)===null||f===void 0?void 0:f.getProps().transformTemplate;this.prevTransformTemplateValue=_==null?void 0:_(this.latestValues,""),this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sE);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Bj),this.potentialNodes.clear()),this.nodes.forEach(Oj),this.nodes.forEach(Aj),this.nodes.forEach(Rj),this.clearAllSnapshots(),dm.update(),dm.preRender(),dm.render())}clearAllSnapshots(){this.nodes.forEach(Nj),this.sharedNodes.forEach(jj)}scheduleUpdateProjection(){pr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var l;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(l=this.options.visualElement)===null||l===void 0||l.notify("LayoutMeasure",this.layout.layoutBox,c==null?void 0:c.layoutBox)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){var l;if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!XI(this.projectionDelta),f=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate,m=f==null?void 0:f(this.latestValues,""),y=m!==this.prevTransformTemplateValue;c&&(d||po(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),$j(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Qt();const c=l.measureViewportBox(),{scroll:d}=this.root;return d&&(fs(c.x,d.offset.x),fs(c.y,d.offset.y)),c}removeElementScroll(l){const c=Qt();kr(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:y}=f;if(f!==this.root&&m&&y.layoutScroll){if(m.isRoot){kr(c,l);const{scroll:_}=this.root;_&&(fs(c.x,-_.offset.x),fs(c.y,-_.offset.y))}fs(c.x,m.offset.x),fs(c.y,m.offset.y)}}return c}applyTransform(l,c=!1){const d=Qt();kr(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ia(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),po(m.latestValues)&&Ia(d,m.latestValues)}return po(this.latestValues)&&Ia(d,this.latestValues),d}removeTransform(l){var c;const d=Qt();kr(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!po(m.latestValues))continue;gg(m.latestValues)&&m.updateSnapshot();const y=Qt(),_=m.measurePageBox();kr(y,_),Zw(d,m.latestValues,(c=m.snapshot)===null||c===void 0?void 0:c.layoutBox,y)}return po(this.latestValues)&&Zw(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var l;const c=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout?(this.relativeParent=m,this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),lu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&(!((l=this.relativeParent)===null||l===void 0)&&l.target)?C6(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kr(this.target,this.layout.layoutBox),UI(this.target,this.targetDelta)):kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target?(this.relativeParent=m,this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),lu(this.relativeTargetOrigin,this.target,m.target),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gg(this.parent.latestValues)||FI(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var l;const{isProjectionDirty:c,isTransformDirty:d}=this;this.isProjectionDirty=this.isTransformDirty=!1;const f=this.getLead(),m=!!this.resumingFrom||this!==f;let y=!0;if(c&&(y=!1),m&&d&&(y=!1),y)return;const{layout:_,layoutId:T}=this.options;if(this.isTreeAnimating=!!(!((l=this.parent)===null||l===void 0)&&l.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||T))return;kr(this.layoutCorrected,this.layout.layoutBox),L6(this.layoutCorrected,this.treeScale,this.path,m);const{target:x}=f;if(!x)return;this.projectionDelta||(this.projectionDelta=uu(),this.projectionDeltaWithTransform=uu());const R=this.treeScale.x,A=this.treeScale.y,j=this.projectionTransform;au(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=nE(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==R||this.treeScale.y!==A)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c,d,f;(d=(c=this.options).scheduleRender)===null||d===void 0||d.call(c),l&&((f=this.getStack())===null||f===void 0||f.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){var d,f;const m=this.snapshot,y=(m==null?void 0:m.latestValues)||{},_={...this.latestValues},T=uu();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!c;const x=Qt(),R=(m==null?void 0:m.source)!==((d=this.layout)===null||d===void 0?void 0:d.source),A=(((f=this.getStack())===null||f===void 0?void 0:f.members.length)||0)<=1,j=!!(R&&!A&&this.options.crossfade===!0&&!this.path.some(Fj));this.animationProgress=0,this.mixTargetDelta=I=>{var N;const M=I/1e3;aE(T.x,l.x,M),aE(T.y,l.y,M),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((N=this.relativeParent)===null||N===void 0)&&N.layout)&&(lu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mj(this.relativeTarget,this.relativeTargetOrigin,x,M)),R&&(this.animationValues=_,_j(_,y,this.latestValues,M,j,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(0)}startAnimation(l){var c,d;this.notifyListeners("animationStart"),(c=this.currentAnimation)===null||c===void 0||c.stop(),this.resumingFrom&&((d=this.resumingFrom.currentAnimation)===null||d===void 0||d.stop()),this.pendingAnimation&&(Vs.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{ru.hasAnimatedSinceResize=!0,this.currentAnimation=yj(0,iE,{...l,onUpdate:f=>{var m;this.mixTargetDelta(f),(m=l.onUpdate)===null||m===void 0||m.call(l,f)},onComplete:()=>{var f;(f=l.onComplete)===null||f===void 0||f.call(l),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var l;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(l=this.getStack())===null||l===void 0||l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var l;this.currentAnimation&&((l=this.mixTargetDelta)===null||l===void 0||l.call(this,iE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&eb(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Qt();const y=Jn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const _=Jn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+_}kr(c,d),Ia(c,m),au(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){var d,f,m;this.sharedNodes.has(l)||this.sharedNodes.set(l,new Ij),this.sharedNodes.get(l).add(c),c.promote({transition:(d=c.options.initialPromotionConfig)===null||d===void 0?void 0:d.transition,preserveFollowOpacity:(m=(f=c.options.initialPromotionConfig)===null||f===void 0?void 0:f.shouldPreserveFollowOpacity)===null||m===void 0?void 0:m.call(f,c)})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(c=!0),!c)return;const f={};for(let m=0;m<rE.length;m++){const y="rotate"+rE[m];d[y]&&(f[y]=d[y],l.setStaticValue(y,0))}l==null||l.render();for(const m in f)l.setStaticValue(m,f[m]);l.scheduleRender()}getProjectionStyles(l={}){var c,d,f;const m={};if(!this.instance||this.isSVG)return m;if(this.isVisible)m.visibility="";else return{visibility:"hidden"};const y=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Md(l.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Md(l.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(A.transform=y?y({},""):"none",this.hasProjected=!1),A}const T=_.animationValues||_.latestValues;this.applyTransformsToTarget(),m.transform=nE(this.projectionDeltaWithTransform,this.treeScale,T),y&&(m.transform=y(T,m.transform));const{x,y:R}=this.projectionDelta;m.transformOrigin=`${x.origin*100}% ${R.origin*100}% 0`,_.animationValues?m.opacity=_===this?(f=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=_===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const A in lh){if(T[A]===void 0)continue;const{correct:j,applyTo:I}=lh[A],N=j(T[A],_);if(I){const M=I.length;for(let B=0;B<M;B++)m[I[B]]=N}else m[A]=N}return this.options.layoutId&&(m.pointerEvents=_===this?Md(l.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(sE),this.root.sharedNodes.clear()}}}function Aj(n){n.updateLayout()}function Rj(n){var e,t,r;const i=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:l}=n.layout,{animationType:c}=n.options,d=i.source!==n.layout.source;c==="size"?Xr(T=>{const x=d?i.measuredBox[T]:i.layoutBox[T],R=Jn(x);x.min=a[T].min,x.max=x.min+R}):eb(c,i.layoutBox,a)&&Xr(T=>{const x=d?i.measuredBox[T]:i.layoutBox[T],R=Jn(a[T]);x.max=x.min+R});const f=uu();au(f,a,i.layoutBox);const m=uu();d?au(m,n.applyTransform(l,!0),i.measuredBox):au(m,a,i.layoutBox);const y=!XI(f);let _=!1;if(!n.resumeFrom){const T=n.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:x,layout:R}=T;if(x&&R){const A=Qt();lu(A,i.layoutBox,x.layoutBox);const j=Qt();lu(j,a,R.layoutBox),JI(A,j)||(_=!0)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:m,layoutDelta:f,hasLayoutChanged:y,hasRelativeTargetChanged:_})}else n.isLead()&&((r=(t=n.options).onExitComplete)===null||r===void 0||r.call(t));n.options.transition=void 0}function kj(n){n.isProjectionDirty||(n.isProjectionDirty=!!(n.parent&&n.parent.isProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=!!(n.parent&&n.parent.isTransformDirty))}function Nj(n){n.clearSnapshot()}function sE(n){n.clearMeasurements()}function Oj(n){const{visualElement:e}=n.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function oE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function Dj(n){n.resolveTargetDelta()}function Vj(n){n.calcProjection()}function Lj(n){n.resetRotation()}function jj(n){n.removeLeadSnapshot()}function aE(n,e,t){n.translate=Lt(e.translate,0,t),n.scale=Lt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function lE(n,e,t,r){n.min=Lt(e.min,t.min,r),n.max=Lt(e.max,t.max,r)}function Mj(n,e,t,r){lE(n.x,e.x,t.x,r),lE(n.y,e.y,t.y,r)}function Fj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Uj={duration:.45,ease:[.4,0,.1,1]};function Bj(n,e){let t=n.root;for(let a=n.path.length-1;a>=0;a--)if(n.path[a].instance){t=n.path[a];break}const i=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&n.mount(i,!0)}function uE(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function $j(n){uE(n.x),uE(n.y)}function eb(n,e,t){return n==="position"||n==="preserve-aspect"&&!pg(tE(e),tE(t),.2)}const zj=ZI({attachResizeListener:(n,e)=>af(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ym={current:void 0},Hj=ZI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ym.current){const n=new zj(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),ym.current=n}return ym.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Wj={...x6,...$3,...W6,...gj},Je=NV((n,e)=>yL(n,e,Wj,dj,Hj));function tb(){const n=P.useRef(!1);return ah(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function qj(){const n=tb(),[e,t]=P.useState(0),r=P.useCallback(()=>{n.current&&t(e+1)},[e]);return[P.useCallback(()=>pr.postRender(r),[r]),e]}class Kj extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Gj({children:n,isPresent:e}){const t=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d}=i.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=t;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),P.createElement(Kj,{isPresent:e,childRef:r,sizeRef:i},P.cloneElement(n,{ref:r}))}const vm=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const c=of(Qj),d=P.useId(),f=P.useMemo(()=>({id:d,initial:e,isPresent:t,custom:i,onExitComplete:m=>{c.set(m,!0);for(const y of c.values())if(!y)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),a?void 0:[t]);return P.useMemo(()=>{c.forEach((m,y)=>c.set(y,!1))},[t]),P.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),l==="popLayout"&&(n=P.createElement(Gj,{isPresent:t},n)),P.createElement(Ku.Provider,{value:f},n)};function Qj(){return new Map}const Ta=n=>n.key||"";function Yj(n,e){n.forEach(t=>{const r=Ta(t);e.set(r,t)})}function Xj(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const za=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:l="sync"})=>{i&&(l="wait",AI(!1,"Replace exitBeforeEnter with mode='wait'"));let[c]=qj();const d=P.useContext(Ny).forceRender;d&&(c=d);const f=tb(),m=Xj(n);let y=m;const _=new Set,T=P.useRef(y),x=P.useRef(new Map).current,R=P.useRef(!0);if(ah(()=>{R.current=!1,Yj(m,x),T.current=y}),By(()=>{R.current=!0,x.clear(),_.clear()}),R.current)return P.createElement(P.Fragment,null,y.map(N=>P.createElement(vm,{key:Ta(N),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:l},N)));y=[...y];const A=T.current.map(Ta),j=m.map(Ta),I=A.length;for(let N=0;N<I;N++){const M=A[N];j.indexOf(M)===-1&&_.add(M)}return l==="wait"&&_.size&&(y=[]),_.forEach(N=>{if(j.indexOf(N)!==-1)return;const M=x.get(N);if(!M)return;const B=A.indexOf(N),Y=()=>{x.delete(N),_.delete(N);const D=T.current.findIndex(C=>C.key===N);if(T.current.splice(D,1),!_.size){if(T.current=m,f.current===!1)return;c(),r&&r()}};y.splice(B,0,P.createElement(vm,{key:Ta(M),isPresent:!1,onExitComplete:Y,custom:e,presenceAffectsLayout:a,mode:l},M))}),y=y.map(N=>{const M=N.key;return _.has(M)?N:P.createElement(vm,{key:Ta(N),isPresent:!0,presenceAffectsLayout:a,mode:l},N)}),PI!=="production"&&l==="wait"&&y.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),P.createElement(P.Fragment,null,_.size?y:y.map(N=>P.cloneElement(N)))},Jj=({item:n,product:e})=>{const{addToCart:t,removeFromCart:r}=P.useContext(Jh),{t:i}=ft(),[a,l]=P.useState(!1),c=P.useRef(null);P.useEffect(()=>{const f=m=>{c.current&&!c.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=f=>f.split(" ").slice(0,5).join(" ")+"...";return v.jsxs("div",{className:"cart-item",children:[v.jsx("img",{src:e.image,alt:n.name,className:"cart-item-image"}),v.jsxs("div",{className:"cart-item-info",children:[v.jsx("h4",{className:"cart-item-name",children:n.name}),v.jsx("p",{className:"cart-item-desc",onClick:()=>l(!0),style:{color:"#555",cursor:"pointer",textDecoration:"underline"},children:d(e.description)}),v.jsxs("p",{className:"cart-item-price",children:[i("cart.price"),": $",n.price.toFixed(2)]}),v.jsxs("p",{className:"cart-item-size",children:[i("cart.size"),": ",n.size]}),v.jsxs("div",{className:"cart-item-controls",children:[v.jsx("button",{className:"cart-btn",onClick:()=>r(n.id,n.size,n.collection),children:"-"}),v.jsx("span",{className:"cart-quantity",children:n.quantity}),v.jsx("button",{className:"cart-btn",onClick:()=>t({id:n.id,name:n.name,image:e.image},{label:n.size,price:n.price,collection:n.collection}),children:"+"})]}),v.jsxs("span",{className:"cart-item-total",children:[i("cart.total"),": $",(n.price*n.quantity).toFixed(2)]})]}),v.jsx(za,{children:a&&v.jsx("div",{className:"modal-overlay",children:v.jsxs(Je.div,{className:"modal-content desc-modal",ref:c,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[v.jsx("h4",{className:"modal-title",children:i("cart.fullDescription")}),v.jsx("p",{children:e.description})]},"desc-modal")})}),v.jsx("hr",{className:"cart-item-separator"})]})},Zj=({subtotal:n,dineOption:e,deliveryFee:t,total:r,setDineOption:i})=>{const{t:a}=ft();return v.jsxs("div",{className:"cart-details",children:[v.jsx("h3",{className:"summary-title",children:a("cart.totalTitle")}),v.jsxs("p",{className:"summary-line",children:[a("cart.subtotal"),": $",n.toFixed(2)]}),e==="outside"&&v.jsxs("p",{className:"summary-line",children:[a("cart.deliveryFee"),": $",t.toFixed(2)]}),v.jsxs("p",{className:"summary-total",children:[a("cart.total"),": $",r.toFixed(2)]}),!e&&v.jsxs("div",{className:"dine-option-buttons",children:[v.jsx("button",{onClick:()=>i("inside"),children:a("cart.inside")}),v.jsx("button",{onClick:()=>i("outside"),children:a("cart.outside")})]})]})},eM=({tableNumber:n,setTableNumber:e,notes:t,setNotes:r,setShowCashModal:i,setDineOption:a})=>{const{t:l}=ft(),c=P.useRef(null),[d,f]=P.useState(!1);P.useEffect(()=>{const y=_=>{c.current&&!c.current.contains(_.target)&&a(null)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]);const m=()=>{if(!n||n===""){f(!0);return}f(!1),i(!0)};return v.jsx("div",{className:"modal-overlay",children:v.jsxs(Je.div,{ref:c,className:"modal-content inside-modal",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[v.jsx("h3",{className:"modal-title",children:l("dinein.title")}),v.jsx("p",{className:"para",style:{color:"#666"},children:l("dinein.instruction")}),v.jsxs("label",{children:[v.jsx("p",{style:{marginBottom:"10px"},children:l("dinein.label")}),v.jsx("input",{type:"number",placeholder:l("dinein.placeholder"),value:n,onChange:y=>e(y.target.value),className:d&&!n?"error-border":"",min:"1",max:"20"})]}),v.jsx("textarea",{placeholder:l("dinein.notesPlaceholder"),value:t,onChange:y=>r(y.target.value),className:"order-notes-input"}),d&&v.jsx("p",{className:"error-text",children:l("dinein.errorMsg")}),v.jsx("button",{className:"confirm-btn",onClick:m,children:l("dinein.proceedBtn")})]},"inside-modal")})},tM=({customerInfo:n,setCustomerInfo:e,notes:t,setNotes:r,setShowCashModal:i,setDineOption:a})=>{const{t:l}=ft(),c=P.useRef(null),[d,f]=P.useState(!1);P.useEffect(()=>{const y=_=>{c.current&&!c.current.contains(_.target)&&a(null)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]);const m=()=>{const{name:y,phone:_,address:T}=n;if(!y||!_||!T){f(!0);return}f(!1),i(!0)};return v.jsx("div",{className:"modal-overlay",children:v.jsxs(Je.div,{ref:c,className:"modal-content delivery-modal",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[v.jsx("h3",{className:"modal-title",children:l("delivery.title")}),v.jsx("p",{className:"para",style:{color:"#666"},children:l("delivery.instruction")}),v.jsx("input",{type:"text",placeholder:l("delivery.namePlaceholder"),value:n.name,onChange:y=>e({...n,name:y.target.value}),className:d&&!n.name?"error-border":""}),v.jsx("input",{type:"tel",placeholder:l("delivery.phonePlaceholder"),value:n.phone,onChange:y=>e({...n,phone:y.target.value}),className:d&&!n.phone?"error-border":""}),v.jsx("input",{type:"text",placeholder:l("delivery.addressPlaceholder"),value:n.address,onChange:y=>e({...n,address:y.target.value}),className:d&&!n.address?"error-border":""}),v.jsx("textarea",{placeholder:l("delivery.notesPlaceholder"),value:t,onChange:y=>r(y.target.value),className:"order-notes-input"}),d&&v.jsx("p",{className:"error-text",children:l("delivery.errorMsg")}),v.jsx("button",{className:"confirm-btn",onClick:m,children:l("delivery.proceedBtn")})]},"delivery-modal")})},nM=({onClose:n,onConfirm:e})=>{const{t}=ft();return v.jsx("div",{className:"modal-overlay",onClick:n,children:v.jsxs(Je.div,{className:"modal-content payment-modal",onClick:r=>r.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[v.jsx("h3",{className:"modal-title",children:t("payment.title")}),v.jsxs("button",{className:"confirm-btn",onClick:e,children:[" ",t("payment.cash")]}),v.jsx("button",{className:"cancel-btn",onClick:n,children:t("payment.cancel")})]},"payment-modal")})},rM=()=>{const{t:n}=ft(),{cartItems:e,addToCart:t,removeFromCart:r,clearCart:i}=P.useContext(Jh),[a,l]=P.useState({}),[c,d]=P.useState(!0),[f,m]=P.useState(null),[y,_]=P.useState(1),[T,x]=P.useState(""),[R,A]=P.useState(!1),[j,I]=P.useState({name:"",phone:"",country:"",address:""}),[N,M]=P.useState(null),{slug:B}=sn();P.useEffect(()=>{(async()=>{const F={};for(const $ in e){const V=e[$];if(!V||!V.id)continue;const ye=typeof V.collection=="string"?V.collection:"products";try{const Re=ct(Ke,"ReVerse",B,ye,V.id),ve=await Tn(Re);ve.exists()&&(F[V.id]={id:ve.id,...ve.data()})}catch(Re){console.error("Error fetching product:",Re)}}l(F),d(!1)})()},[e,B]),P.useEffect(()=>{(async()=>{const F=ct(Ke,"ReVerse",B),$=await Tn(F);$.exists()&&M($.data())})()},[B]);const Y=3,D=Object.values(e).reduce((L,F)=>L+F.price*F.quantity,0),C=D+(f==="outside"?Y:0),k=async()=>{const L={items:Object.values(e).map(F=>({id:F.id,name:F.name,price:F.price,quantity:F.quantity,size:F.size})),dineOption:f,...f==="inside"?{tableNumber:y}:{customerInfo:j},notes:T,total:C,paymentMethod:"cash",paymentStatus:"pending",createdAt:qN(),isSeen:!1};try{await Kh(Bn(Ke,"ReVerse",B,"orders"),L),i(),x(""),A(!1),fe.success("Your order has been received and is now being prepared!")}catch(F){console.error("Error placing order:",F),fe.error("An error occurred while submitting your order. Please try again!")}};return c?v.jsx("p",{children:"Loading..."}):v.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"cart-page",children:[v.jsx(qu,{position:"top-center",autoClose:3e3}),v.jsx("h2",{className:"cart-title",children:"Your Cart"}),Object.keys(e).length===0?v.jsxs("div",{className:"cart-empty",children:[v.jsx("p",{children:n("cart.emptyMessage")}),v.jsx("hr",{})]}):v.jsxs(v.Fragment,{children:[Object.entries(e).map(([L,F])=>{const $=a[F.id];return v.jsx(Jj,{item:F,product:$,addToCart:t,removeFromCart:r},L)}),v.jsxs("div",{className:"cart-bottom",children:[v.jsxs("div",{className:"cart-summary-section",children:[(N==null?void 0:N.checkoutImage)&&v.jsxs("div",{className:"cart-image-box",children:[v.jsx("img",{src:N.checkoutImage,alt:"Checkout"}),(N==null?void 0:N.CartText)&&v.jsx("p",{children:N.CartText})]}),v.jsx(Zj,{subtotal:D,deliveryFee:Y,total:C,dineOption:f,setDineOption:m})]}),v.jsx("div",{className:"cart-forms",children:v.jsxs(za,{mode:"wait",children:[f==="inside"&&v.jsx(eM,{tableNumber:y,setTableNumber:_,notes:T,setNotes:x,setShowCashModal:A,setDineOption:m},"inside-form"),f==="outside"&&v.jsx(tM,{customerInfo:j,setCustomerInfo:I,notes:T,setNotes:x,setShowCashModal:A,setDineOption:m},"delivery-form")]})})]}),R&&v.jsx(za,{mode:"wait",children:v.jsx(nM,{onConfirm:k,onClose:()=>A(!1)},"payment-modal")})]})]})},iM=({onClose:n,onOpenContact:e,onOpenAdmin:t,slug:r})=>{const{t:i}=ft(),a=Zn(),l=P.useRef(),[c,d]=P.useState(!1),f=()=>{d(!0),setTimeout(()=>{n()},300)};P.useEffect(()=>{const _=T=>{l.current&&!l.current.contains(T.target)&&f()};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const m=_=>{a(`/reverse/${r}${_}`),f()},y=_=>{const T=document.getElementById(_);T?(T.scrollIntoView({behavior:"smooth"}),f()):(a(`/reverse/${r}?scrollTo=${_}`),f())};return console.log(" SideMenu mounted with slug:",r),v.jsx("div",{className:`side-overlay ${c?"fade-out":"fade-in"}`,children:v.jsxs("div",{ref:l,className:`sidemenu ${c?"slide-out":""}`,children:[v.jsx("button",{className:"close-btn",onClick:f,children:""}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>m(""),children:i("sidemenu.home")})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>m("/cart"),children:i("sidemenu.cart")})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>y("menu"),children:i("sidemenu.products")})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>y("book"),children:i("sidemenu.book_table")})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>y("footer"),children:i("sidemenu.about_us")})}),v.jsx("li",{children:v.jsx("button",{onClick:t,children:i("sidemenu.admin")})}),v.jsx("li",{children:v.jsx("button",{onClick:e,children:i("sidemenu.contact")})})]})]})})};function sM({onClose:n}){const{t:e}=ft(),[t,r]=P.useState(""),[i,a]=P.useState(""),[l,c]=P.useState(""),[d,f]=P.useState(!1),[m,y]=P.useState(!1),[_,T]=P.useState(""),[x,R]=P.useState(!1),A=Zn(),{slug:j}=sn(),I=()=>{r(""),a(""),f(!1)};P.useEffect(()=>{j&&c(j)},[j]),P.useEffect(()=>{const B=Py(Or,async Y=>{if(Y){const D=localStorage.getItem("slug");if(D)try{const C=ct(Ke,"ReVerse",D),k=await Tn(C);if(k.exists()){const L=k.data();T(L.adminName||"Admin"),c(D),y(!0)}else fe.error(e("errors.storedProjectNotFound")),M()}catch{fe.error(e("errors.sessionCheck")),M()}}});return()=>B()},[]),P.useEffect(()=>{const B=localStorage.getItem("slug");m&&j&&B&&j!==B&&(fe.info(e("messages.projectSwitched")),M())},[j,m]);const N=async B=>{if(B.preventDefault(),!d){fe.error(e("errors.privacyPolicy"));return}try{const Y=await qO(Or,t,i),D=ct(Ke,"ReVerse",l),C=await Tn(D);if(C.exists()){const k=C.data();k.adminEmail===t?(fe.success(e("messages.loginSuccess")),I(),T(k.adminName||"Admin"),y(!0),localStorage.setItem("slug",l)):(fe.error(e("errors.notAuthorized")),I(),await go(Or))}else fe.error(e("errors.projectNotFound")),I(),await go(Or)}catch{fe.error(e("errors.loginFailed")),I()}},M=async()=>{await go(Or),y(!1),T(""),I(),localStorage.removeItem("slug"),fe.success(e("messages.loggedOut"))};return m?v.jsx("div",{className:"admin-overlay",children:v.jsxs("div",{className:"admin-container",children:[v.jsx("button",{className:"admin-close-btn",onClick:n,children:""}),x?v.jsxs("div",{className:"logout-confirm",children:[v.jsx("p",{className:"confirm-text",children:e("confirm.logout")}),v.jsxs("div",{className:"confirm-actions",children:[v.jsx("button",{className:"admin-btn danger",onClick:M,children:e("buttons.yes")}),v.jsx("button",{className:"admin-btn",onClick:()=>R(!1),children:e("buttons.no")})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"admin-title",children:e("adminO.hello",{name:_})}),v.jsx("p",{className:"admin-subtitle",children:e("adminO.nowYouCan")}),v.jsxs("div",{className:"admin-actions",children:[l&&v.jsx("button",{className:"admin-btn primary",onClick:()=>A(`/reverse/${l}/adminClientH`),children:e("buttons.goToAdmin")}),v.jsx("p",{className:"admin-or",children:e("buttons.or")}),v.jsx("button",{className:"admin-btn danger",onClick:()=>R(!0),children:e("buttons.logout")})]})]})]})}):v.jsx("div",{className:"admin-overlay",children:v.jsxs("div",{className:"admin-container",children:[v.jsx("button",{className:"admin-close-btn",onClick:n,children:""}),v.jsx("p",{children:e("adminO.welcome")}),v.jsx("p",{children:e("adminO.loginPrompt")}),v.jsxs("form",{onSubmit:N,className:"admin-form",children:[v.jsx("input",{type:"email",placeholder:e("placeholders.email"),value:t,onChange:B=>r(B.target.value)}),v.jsx("input",{type:"password",placeholder:e("placeholders.password"),value:i,onChange:B=>a(B.target.value)}),v.jsxs("p",{children:[e("adminO.willLogInto")," ",v.jsx("strong",{children:l})]}),v.jsxs("label",{className:"admin-agree",children:[v.jsx("input",{type:"checkbox",checked:d,onChange:B=>f(B.target.checked)}),e("privacy.agree")]}),v.jsx("button",{type:"submit",children:e("buttons.login")})]})]})})}var nb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cE=rt.createContext&&rt.createContext(nb),oM=["attr","size","title"];function aM(n,e){if(n==null)return{};var t=lM(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lM(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function wh(){return wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wh.apply(this,arguments)}function dE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Eh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(t),!0).forEach(function(r){uM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uM(n,e,t){return e=cM(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cM(n){var e=dM(n,"string");return typeof e=="symbol"?e:e+""}function dM(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rb(n){return n&&n.map((e,t)=>rt.createElement(e.tag,Eh({key:t},e.attr),rb(e.child)))}function Jt(n){return e=>rt.createElement(hM,wh({attr:Eh({},n.attr)},e),rb(n.child))}function hM(n){var e=t=>{var{attr:r,size:i,title:a}=n,l=aM(n,oM),c=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),rt.createElement("svg",wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Eh(Eh({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&rt.createElement("title",null,a),n.children)};return cE!==void 0?rt.createElement(cE.Consumer,null,t=>e(t)):e(nb)}function fM(n){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function tv(n){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function hf(n){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function pM(n){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function mM(n){return Jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(n)}function gM(n){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function yM(n){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"},child:[]}]})(n)}function vM(n){return Jt({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(n)}function ib(n){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function _M(n){return Jt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function wM(n){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(n)}function EM(n){return Jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function TM(n){return Jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(n)}function SM(n){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(n)}function xM(n){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(n)}function IM(n){return Jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(n)}function bM(n){return Jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(n)}function CM(n){return Jt({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(n)}const PM=({onClose:n,slug:e})=>{const[t,r]=P.useState(null),{t:i}=ft(),[a,l]=P.useState(!1);P.useEffect(()=>{(async()=>{var f;try{const m=ct(Ke,"ReVerse",e),y=await Tn(m);if(y.exists()){const T=((f=y.data().footerSettings)==null?void 0:f.socialLinks)||{};r(T),setTimeout(()=>l(!0),10)}}catch(m){console.error(" Error fetching contact info:",m)}})()},[e]);const c=(t==null?void 0:t.facebook)||(t==null?void 0:t.instagram)||(t==null?void 0:t.whatsapp);return v.jsx("div",{className:"contact-modal",children:v.jsxs("div",{className:`contact-container ${a?"fade-in-slide":""}`,children:[v.jsx("button",{className:"contact-close-btn",onClick:n,children:""}),t?v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"contact-greeting",children:[i("contact.greeting")," ",v.jsx("span",{children:i("contact.contactVia")})]}),c?v.jsxs("div",{className:"contact-icons",children:[t.facebook&&v.jsx("a",{href:t.facebook,target:"_blank",rel:"noreferrer",children:v.jsx(fM,{className:"contact-icon facebook"})}),t.instagram&&v.jsx("a",{href:t.instagram,target:"_blank",rel:"noreferrer",children:v.jsx(tv,{className:"contact-icon instagram"})}),t.whatsapp&&v.jsx("a",{href:`https://wa.me/${t.whatsapp}`,target:"_blank",rel:"noreferrer",children:v.jsx(hf,{className:"contact-icon whatsapp"})})]}):v.jsx("p",{className:"contact-nodata",children:i("contact.noData")})]}):v.jsx("p",{className:"contact-loading",children:i("contact.loading")})]})})},sb=({language:n,setLanguage:e})=>v.jsxs("div",{className:"language-switcher",children:[v.jsx("button",{className:n==="ar"?"active":"",onClick:()=>e("ar"),children:"AR"}),v.jsx("button",{className:n==="en"?"active":"",onClick:()=>e("en"),children:"EN"})]});function ob(){const{t:n,i18n:e}=ft(),{slug:t}=sn(),r=Zn(),[i,a]=P.useState(null),[l,c]=P.useState(!1),[d,f]=P.useState(!1),[m,y]=P.useState(!1),[_,T]=P.useState(localStorage.getItem("language")||"en");P.useEffect(()=>{(async()=>{try{const A=ct(Ke,"ReVerse",t),j=await Tn(A);j.exists()?a(j.data()):console.error("Restaurant not found")}catch(A){console.error("Error fetching data:",A)}})()},[t]);const x=R=>{T(R),localStorage.setItem("language",R),e.changeLanguage(R)};return i?v.jsxs(v.Fragment,{children:[v.jsxs("nav",{className:"navbar fade-in-footer",children:[v.jsx("img",{className:"logo",src:i.logo,alt:"logo",width:"100"}),v.jsxs("div",{className:"menusec",children:[v.jsx(sb,{language:_,setLanguage:x}),v.jsx("button",{onClick:()=>r(`/reverse/${t}/cart`),children:n("navbar.cart")}),v.jsx("button",{onClick:()=>c(!0),children:""})]})]}),l&&v.jsx(iM,{slug:t,onClose:()=>c(!1),onOpenContact:()=>y(!0),onOpenAdmin:()=>f(!0)}),d&&v.jsx(sM,{slug:t,onClose:()=>f(!1),adminEmail:i.adminEmail,onOpenAdmin:()=>{console.log(" Open Admin Component")}}),m&&v.jsx(PM,{slug:t,onClose:()=>y(!1)})]}):null}const AM=({sectionTitle:n,sectionContent:e,onClose:t})=>{const[r,i]=P.useState("fade-in-modal");P.useEffect(()=>()=>{i("fade-out-modal")},[]);const a=()=>{i("fade-out-modal"),setTimeout(()=>{t()},300)};return v.jsx("div",{className:"AboutLa",onClick:a,children:v.jsxs("div",{className:`about-container ${r}`,onClick:l=>l.stopPropagation(),children:[v.jsx("button",{className:"close-btn",onClick:a,"aria-label":"Close About Section",children:""}),v.jsx("h2",{children:n||"Info"}),v.jsx("p",{children:e||"Sorry, we couldn't find the information you're looking for."})]})})},ab=({slug:n})=>{const[e,t]=P.useState(null),[r,i]=P.useState(null),{t:a}=ft();if(P.useEffect(()=>{(async()=>{const _=ct(Ke,"ReVerse",n),T=await Tn(_);T.exists()&&t(T.data().footerSettings)})()},[n]),!e)return null;const{logoText:l,aboutText:c,socialLinks:d,infoSections:f,copyright:m}=e;return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"footer fade-in-footer",id:"footer",children:[v.jsxs("div",{className:"footer-content",children:[v.jsxs("div",{className:"footer-left",children:[l!=null&&l.startsWith("http")?v.jsx("img",{src:l,alt:"Logo",style:{width:"120px"}}):v.jsx("h2",{children:l}),v.jsx("p",{className:"p-one",children:c}),v.jsx("p",{className:"p-two",children:a("footer.contactUs")}),v.jsxs("div",{className:"footer-icons",children:[(d==null?void 0:d.email)&&v.jsx("a",{href:`mailto:${d.email}`,"aria-label":"Email",children:v.jsx(ib,{})}),(d==null?void 0:d.whatsapp)&&v.jsx("a",{href:`https://wa.me/${d.whatsapp}`,target:"_blank",rel:"noreferrer","aria-label":"WhatsApp",children:v.jsx(hf,{})}),(d==null?void 0:d.instagram)&&v.jsx("a",{href:d.instagram,target:"_blank",rel:"noreferrer","aria-label":"Instagram",children:v.jsx(tv,{})})]})]}),v.jsxs("div",{className:"footer-right",children:[v.jsx("h4",{children:a("footer.details")}),v.jsx("ul",{className:"footer-lists",children:Object.keys(f).map(y=>v.jsxs("li",{onClick:()=>i(y),children:[y," >"]},y))})]})]}),v.jsx("hr",{}),v.jsxs("p",{className:"footer-copyright",children:[m," - ",a("footer.developedBy")]})]}),r&&v.jsx(AM,{sectionTitle:r,sectionContent:f[r],onClose:()=>i(null)})]})},RM=()=>{const{t:n}=ft(),{slug:e}=sn(),t=Zn(),[r,i]=P.useState(null),[a,l]=P.useState(!1),[c,d]=P.useState(!1),f=new Audio("/sounds/notify.mp3"),m=P.useRef(null),[y,_]=P.useState({name:"",email:""}),T=I=>{i(I),t(`/reverse/${e}/adminClientH/${I}`)},x=()=>l(!0),R=()=>l(!1),A=async()=>{try{await go(Or),localStorage.removeItem("slug"),fe.success("You have been logged out."),t(`/reverse/${e}`)}catch(I){console.error("Logout error:",I),fe.error("Something went wrong while logging out.")}},j=async()=>{try{const I=Wm(Bn(Ke,"ReVerse",e,"orders"),qm("createdAt","desc")),M=(await Oi(I)).docs.find(B=>!B.data().isSeen);d(!!M),M&&M.id!==m.current&&(f.play().catch(B=>console.warn("   ",B)),m.current=M.id)}catch(I){console.error("Error checking new orders:",I)}};return P.useEffect(()=>{const I=Py(Or,async N=>{if(!N||!localStorage.getItem("slug")){await go(Or),fe.error("Session expired. Please log in again."),t(`/reverse/${e}`);return}try{const M=ct(Ke,"ReVerse",e),B=await Tn(M);if(B.exists()){const Y=B.data();_({name:Y.adminName||"Admin",email:Y.adminEmail||"admin@example.com"})}else await go(Or),fe.error("Project not found!"),t(`/reverse/${e}`)}catch(M){console.error("Error fetching admin info:",M),await go(Or),fe.error("Error while verifying admin!"),t(`/reverse/${e}`)}});return()=>I()},[e]),P.useEffect(()=>{const I=setInterval(()=>{j()},1e4);return()=>clearInterval(I)},[e]),v.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"admin-dashboard",children:[v.jsxs("div",{className:"admin-header",children:[v.jsx("h2",{children:n("admin.title",{slug:e})}),v.jsxs("div",{className:"admin-info",children:[v.jsxs("p",{children:[" ",y.name]}),v.jsxs("p",{children:[" ",y.email]}),v.jsx("button",{className:"logout-btn",onClick:x,children:n("admin.logout")})]})]}),!r&&v.jsxs("div",{className:"button-grid",children:[v.jsxs("button",{onClick:()=>T("add"),children:[" ",n("admin.add")]}),v.jsxs("button",{onClick:()=>T("list"),children:[" ",n("admin.list")]}),v.jsxs("button",{onClick:()=>T("orders"),className:"order-btn",children:[" ",n("admin.orders"),c&&v.jsx("span",{className:"new-order-alert",children:""})]}),v.jsxs("button",{onClick:()=>T("booking"),children:[" ",n("admin.bookings")]})]}),r&&v.jsx("button",{className:"back-btn",onClick:()=>{i(null),t(`/reverse/${e}/adminClientH`)},children:" Back"}),a&&v.jsx("div",{className:"logout-modal",children:v.jsxs("div",{className:"logout-modal-content",children:[v.jsx("p",{children:n("admin.logoutConfirm")}),v.jsxs("div",{className:"logout-modal-buttons",children:[v.jsx("button",{onClick:A,children:n("admin.logoutYes")}),v.jsx("button",{onClick:R,children:n("admin.cancel")})]})]})})]})},kM=()=>{const{slug:n}=sn();return v.jsxs(v.Fragment,{children:[v.jsx(ob,{slug:n}),v.jsx($E,{})," ",v.jsx(ab,{slug:n})]})},NM=()=>{const[n,e]=P.useState(!1),t=P.useRef(null),{t:r,i18n:i}=ft(),a=()=>e(l=>!l);return P.useEffect(()=>{const l=c=>{t.current&&!t.current.contains(c.target)&&e(!1)};return n?document.addEventListener("mousedown",l):document.removeEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[n]),P.useEffect(()=>{document.documentElement.dir=i.language==="ar"?"rtl":"ltr"},[i.language]),v.jsx("nav",{className:"navbar-me",children:v.jsxs(Je.div,{className:"navbar__container",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},children:[v.jsx("div",{className:"navbar__logo",children:v.jsx("img",{src:"https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_100/v1750008470/ReVerseLogo_ettejm.png",alt:"ReVerse Logo"})}),v.jsx("div",{className:"navbar__right",children:v.jsx("div",{className:"navbar__toggle",onClick:a,children:v.jsx(pM,{})})}),v.jsxs("div",{className:`navbar__menu ${n?"open":""}`,ref:t,children:[v.jsx(sb,{language:i.language,setLanguage:l=>i.changeLanguage(l)}),v.jsx("a",{href:"#features",children:r("navbarMe.features")}),v.jsx("a",{href:"#pricing",children:r("navbarMe.pricing")}),v.jsx("a",{href:"#clients",children:r("navbarMe.clients")}),v.jsx("a",{href:"#get-started",className:"navbar__cta",children:r("navbarMe.getStarted")})]})]})})},OM=()=>{const{t:n}=ft();return v.jsx(Je.section,{className:"hero-me",initial:{opacity:.6,scale:1.05},animate:{opacity:1,scale:1},transition:{duration:1,ease:"easeOut"},children:v.jsxs(Je.div,{className:"hero-content",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1,delay:.3,ease:"easeOut"},children:[v.jsx("h1",{children:n("heroMe.title")}),v.jsx("p",{children:n("heroMe.subtitle")}),v.jsx("a",{href:"#get-started",className:"hero-button",children:n("heroMe.button")})]})})};var Eg=new Map,xd=new WeakMap,hE=0,DM=void 0;function VM(n){return n?(xd.has(n)||(hE+=1,xd.set(n,hE.toString())),xd.get(n)):"0"}function LM(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?VM(n.root):n[e]}`).toString()}function jM(n){const e=LM(n);let t=Eg.get(e);if(!t){const r=new Map;let i;const a=new IntersectionObserver(l=>{l.forEach(c=>{var d;const f=c.isIntersecting&&i.some(m=>c.intersectionRatio>=m);n.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=f),(d=r.get(c.target))==null||d.forEach(m=>{m(f,c)})})},n);i=a.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:a,elements:r},Eg.set(e,t)}return t}function MM(n,e,t={},r=DM){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const d=n.getBoundingClientRect();return e(r,{isIntersecting:r,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:i,observer:a,elements:l}=jM(t),c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),Eg.delete(i))}}function ff({threshold:n,delay:e,trackVisibility:t,rootMargin:r,root:i,triggerOnce:a,skip:l,initialInView:c,fallbackInView:d,onChange:f}={}){var m;const[y,_]=P.useState(null),T=P.useRef(f),[x,R]=P.useState({inView:!!c,entry:void 0});T.current=f,P.useEffect(()=>{if(l||!y)return;let N;return N=MM(y,(M,B)=>{R({inView:M,entry:B}),T.current&&T.current(M,B),B.isIntersecting&&a&&N&&(N(),N=void 0)},{root:i,rootMargin:r,threshold:n,trackVisibility:t,delay:e},d),()=>{N&&N()}},[Array.isArray(n)?n.toString():n,y,i,r,a,l,t,d,e]);const A=(m=x.entry)==null?void 0:m.target,j=P.useRef(void 0);!y&&A&&!a&&!l&&j.current!==A&&(j.current=A,R({inView:!!c,entry:void 0}));const I=[_,x.inView,x.entry];return I.ref=I[0],I.inView=I[1],I.entry=I[2],I}const FM=()=>{const{t:n}=ft(),e=[{icon:v.jsx(CM,{}),title:n("features.cards.0.title"),description:n("features.cards.0.description")},{icon:v.jsx(IM,{}),title:n("features.cards.1.title"),description:n("features.cards.1.description")},{icon:v.jsx(gM,{}),title:n("features.cards.2.title"),description:n("features.cards.2.description")},{icon:v.jsx(bM,{}),title:n("features.cards.3.title"),description:n("features.cards.3.description")},{icon:v.jsx(EM,{}),title:n("features.cards.4.title"),description:n("features.cards.4.description")},{icon:v.jsx(_M,{}),title:n("features.cards.5.title"),description:n("features.cards.5.description")},{icon:v.jsx(yM,{}),title:n("features.cards.6.title"),description:n("features.cards.6.description")},{icon:v.jsx(mM,{}),title:n("features.cards.7.title"),description:n("features.cards.7.description")}],[t,r]=ff({triggerOnce:!0,threshold:.2});return v.jsxs("section",{className:"features-section",id:"features",ref:t,children:[v.jsxs(Je.div,{className:"features-header",initial:{opacity:0,y:30},animate:r?{opacity:1,y:0}:{},transition:{duration:.6},children:[v.jsx("h2",{children:n("features.title1")}),v.jsx("p",{children:n("features.description")}),v.jsx("h2",{children:n("features.title2")})]}),v.jsx("div",{className:"features-grid",children:e.map((i,a)=>v.jsxs(Je.div,{className:"feature-card",initial:{opacity:0,y:20},animate:r?{opacity:1,y:0}:{},transition:{duration:.5,delay:a*.1},children:[v.jsx("div",{className:"icon",children:i.icon}),v.jsx("h3",{children:i.title}),v.jsx("p",{children:i.description})]},a))})]})},UM=()=>{const[n,e]=P.useState(null),{t,i18n:r}=ft(),i=d=>{e(d)},a=d=>{const f=r.language==="ar"?`    ${t(`pricing.plans.${d}.title`)}.      `:`Hello, I'm interested in the ${t(`pricing.plans.${d}.title`)} plan. Could you please share more details?`;return`https://wa.me/201024208807?text=${encodeURIComponent(f)}`},[l,c]=ff({triggerOnce:!0,threshold:.2});return v.jsxs(Je.section,{className:"pricing-section",id:"pricing",ref:l,initial:{opacity:0,y:30},animate:c?{opacity:1,y:0}:{},transition:{duration:.6},children:[v.jsx(Je.div,{className:"section-title",initial:{opacity:0},animate:c?{opacity:1}:{},transition:{duration:.5},children:v.jsx("h2",{children:t("pricing.title")})}),v.jsx("div",{className:"pricing-grid",children:["basic","pro","vip"].map((d,f)=>v.jsxs(Je.div,{className:`pricing-card ${n===d?"active":""}`,onClick:()=>i(d),initial:{opacity:0,y:20},animate:c?{opacity:1,y:0}:{},transition:{duration:.5,delay:.2+f*.2},children:[v.jsx("h3",{children:t(`pricing.plans.${d}.title`)}),v.jsxs("p",{className:"price",children:[t(`pricing.plans.${d}.price`),d!=="vip"&&v.jsxs("span",{children:[" /",t("pricing.month")]})]}),v.jsx("a",{href:a(d),target:"_blank",rel:"noopener noreferrer",className:"start-now-btn",onClick:m=>m.stopPropagation(),children:t("pricing.startNow")}),v.jsx("ul",{className:"features-list",children:t(`pricing.plans.${d}.features`,{returnObjects:!0}).map((m,y)=>v.jsx("li",{children:m},y))})]},d))}),v.jsx(Je.p,{className:"cta-text",initial:{opacity:0},animate:c?{opacity:1}:{},transition:{duration:.5,delay:1},children:t("pricing.cta")})]})},fE=[{name:"ReVerse Cafe",image:"https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,h_300,c_fill/v1751506509/Mehbud_Suspended_Ceilings_for_Your_Prestige_s7wqri.jpg",link:"https://rreverse.netlify.app/reverse/re-caffee"},{name:"ReVerse Rest",image:"https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,h_300,c_fill/v1751506509/Pub_Sustainable_Architecture_Design_Ideas_pvbwmn.jpg",link:"https://rreverse.netlify.app/reverse/re-rest"},{name:"Fake Sushi Corner",image:"https://res.cloudinary.com/demo/image/upload/f_auto,q_auto,w_400,h_300,c_fill/sample.jpg",link:"https://sushi-corner.reversesite.com"},{name:"Fake Coffee Spot",image:"https://res.cloudinary.com/demo/image/upload/f_auto,q_auto,w_400,h_300,c_fill/sample.jpg",link:"https://coffee-spot.reversesite.com"}],BM=()=>{const[n,e]=P.useState(!1),{t}=ft(),r=n?fE:fE.slice(0,2),[i,a]=ff({triggerOnce:!0,threshold:.2});return v.jsxs(Je.section,{className:"clients-section",id:"clients",ref:i,initial:{opacity:0,y:30},animate:a?{opacity:1,y:0}:{},transition:{duration:.6},children:[v.jsx(Je.h2,{className:"clients-title",initial:{opacity:0},animate:a?{opacity:1}:{},transition:{duration:.5},children:t("clients.title")}),v.jsx(Je.p,{className:"clients-subtext",initial:{opacity:0},animate:a?{opacity:1}:{},transition:{duration:.5,delay:.2},children:t("clients.description")}),v.jsx("div",{className:`clients-scroll ${n?"":"centered-scroll"}`,children:r.map((l,c)=>v.jsxs(Je.a,{href:l.link,className:"client-card",target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:a?{opacity:1,y:0}:{},transition:{duration:.5,delay:.3+c*.1},children:[v.jsx("img",{src:l.image,alt:l.name}),v.jsx("p",{children:l.name})]},c))}),v.jsxs(Je.div,{className:"clients-buttons",initial:{opacity:0},animate:a?{opacity:1}:{},transition:{duration:.5,delay:.5},children:[v.jsx("a",{href:"#pricing",className:"btn-orange",children:t("clients.cta")}),v.jsx("button",{className:"btn-outline",onClick:()=>e(!n),children:t(n?"clients.hide":"clients.viewMore")})]})]})},$M=()=>{const{t:n}=ft(),e=[{icon:v.jsx(xM,{}),title:n("footerMe.features.fast.title"),description:n("footerMe.features.fast.desc")},{icon:v.jsx(vM,{}),title:n("footerMe.features.pricing.title"),description:n("footerMe.features.pricing.desc")},{icon:v.jsx(SM,{}),title:n("footerMe.features.ui.title"),description:n("footerMe.features.ui.desc")},{icon:v.jsx(TM,{}),title:n("footerMe.features.responsive.title"),description:n("footerMe.features.responsive.desc")},{icon:v.jsx(wM,{}),title:n("footerMe.features.support.title"),description:n("footerMe.features.support.desc")}],[t,r]=ff({triggerOnce:!0,threshold:.2});return v.jsxs(Je.footer,{className:"footer-section",ref:t,initial:{opacity:0,y:40},animate:r?{opacity:1,y:0}:{},transition:{duration:.8},children:[v.jsx(Je.h2,{className:"footer-title",initial:{opacity:0},animate:r?{opacity:1}:{},transition:{duration:.5},children:n("footerMe.title")}),v.jsx(Je.p,{className:"footer-subtext",initial:{opacity:0},animate:r?{opacity:1}:{},transition:{duration:.5,delay:.2},children:n("footerMe.description")}),v.jsx("div",{className:"footer-grid",children:e.map((i,a)=>v.jsxs(Je.div,{className:"footer-card",initial:{opacity:0,y:20},animate:r?{opacity:1,y:0}:{},transition:{duration:.5,delay:.3+a*.15},children:[v.jsx("div",{className:"icon",children:i.icon}),v.jsx("h3",{children:i.title}),v.jsx("p",{children:i.description})]},a))}),v.jsxs(Je.div,{className:"footer-cta",id:"get-started",initial:{opacity:0,y:30},animate:r?{opacity:1,y:0}:{},transition:{duration:.6,delay:1},children:[v.jsx("h3",{children:n("footerMe.cta.title")}),v.jsx("p",{children:n("footerMe.cta.description")}),v.jsx("a",{href:"https://wa.me/201024208807?text=Hello%2C%20I'm%20interested%20in%20learning%20more%20about%20your%20services%20at%20ReVerse.%20Could%20you%20please%20provide%20more%20information%3F",className:"footer-btn",target:"_blank",rel:"noopener noreferrer",children:n("footerMe.cta.button")})]}),v.jsxs(Je.div,{className:"footer-icons",initial:{opacity:0,y:10},animate:r?{opacity:1,y:0}:{},transition:{duration:.5,delay:1.2},children:[v.jsx("a",{href:"https://wa.me/201024208807",target:"_blank",rel:"noopener noreferrer",children:v.jsx(hf,{})}),v.jsx("a",{href:"https://instagram.com/reverse.saas",target:"_blank",rel:"noopener noreferrer",children:v.jsx(tv,{})}),v.jsx("a",{href:"mailto:reemdarwish07@gmail.com",children:v.jsx(ib,{})})]}),v.jsxs(Je.p,{className:"footer-copy",initial:{opacity:0},animate:r?{opacity:1}:{},transition:{duration:.5,delay:1.3},children:[" ",new Date().getFullYear()," ReVerse. ",n("footerMe.copyright")]})]})},zM=()=>v.jsxs("div",{children:[v.jsx(NM,{}),v.jsx(OM,{}),v.jsx(FM,{}),v.jsx(UM,{}),v.jsx(BM,{}),v.jsx($M,{})]}),pE=({children:n})=>{const{slug:e}=sn();return v.jsx(wx,{slug:e,children:n})},HM=()=>{const{slug:n}=sn();return v.jsxs(v.Fragment,{children:[v.jsx(ob,{slug:n}),v.jsx($E,{})," ",v.jsx(ab,{slug:n})]})};function WM(){const{t:n}=ft(),{slug:e}=sn(),[t,r]=P.useState(""),[i,a]=P.useState(""),[l,c]=P.useState(""),[d,f]=P.useState(""),[m,y]=P.useState(""),[_,T]=P.useState(""),[x,R]=P.useState(""),[A,j]=P.useState(!1),[I,N]=P.useState([]),[M,B]=P.useState(!1),[Y,D]=P.useState(null),[C,k]=P.useState(null),[L,F]=P.useState(window.innerWidth<768);P.useEffect(()=>{const Q=()=>{F(window.innerWidth<768)};return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const $=Q=>{if(!Q)return"";const ae=Q.split(" ");return ae.length<=2?Q:ae.slice(0,2).join(" ")+" ..."};P.useEffect(()=>{(async()=>{const ae=ct(Ke,"ReVerse",e),ne=await Tn(ae);if(ne.exists()){const z=ne.data();if(z.specialTitle){a(z.specialTitle);const pe=(await Oi(Bn(Ke,"ReVerse",e,"specialItems"))).docs.map(Se=>({id:Se.id,...Se.data()}));N(pe)}}})()},[e]);const V=async Q=>{if(!Q)return;j(!0),fe.info("Uploading image...");const ae=new FormData;ae.append("file",Q),ae.append("upload_preset","react_upload");try{const z=await(await fetch("https://api.cloudinary.com/v1_1/dwupyymoc/image/upload",{method:"POST",body:ae})).json(),Z=z.public_id,Se=`https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,dpr_auto/v${z.version}/${Z}.jpg`;y(Se),fe.success("Image uploaded!")}catch{fe.error("Upload failed")}finally{j(!1)}},ye=async()=>{if(i){fe.error("Special title already exists. Delete it first.");return}if(!t.trim()){fe.error("Please enter special title");return}try{await Ds(ct(Ke,"ReVerse",e),{specialTitle:t}),a(t),fe.success("Special title added")}catch{fe.error("Failed to save title")}},Re=async()=>{if(!i){fe.error("You must add a special title first");return}if(I.length>=3){fe.error("You can only add up to 3 special items");return}if(!l||!d||!m||!x){fe.error("Fill all fields");return}try{const Q={name:l,description:d,image:m,oldPrice:_?parseFloat(_):null,price:parseFloat(x),sizes:[{label:"Standard",price:parseFloat(x)}]},ae=await Kh(Bn(Ke,"ReVerse",e,"specialItems"),Q);N(ne=>[...ne,{id:ae.id,...Q}]),c(""),f(""),y(""),T(""),R(""),fe.success("Special item added")}catch{fe.error("Failed to add item")}},ve=async Q=>{try{await Ua(ct(Ke,"ReVerse",e,"specialItems",Q.id)),N(ae=>ae.filter(ne=>ne.id!==Q.id)),D(null),fe.success("Item deleted")}catch{fe.error("Delete failed")}},Ee=async()=>{try{const Q=await Oi(Bn(Ke,"ReVerse",e,"specialItems"));for(const ae of Q.docs)await Ua(ct(Ke,"ReVerse",e,"specialItems",ae.id));await Ds(ct(Ke,"ReVerse",e),{specialTitle:""}),N([]),a(""),B(!1),fe.success("Special section deleted")}catch{fe.error("Failed to delete section")}};return v.jsxs("div",{className:"special-wrapper",children:[v.jsx("h2",{children:n("special.addSpecialItems")}),i?v.jsxs("div",{className:"special-title-box",children:[v.jsx("h3",{children:i}),v.jsx("button",{className:"special-delete-btn",onClick:()=>B(!0),children:n("buttons.delete")})]}):v.jsxs("div",{className:"add-product-form",children:[v.jsx("input",{className:"input-text",placeholder:n("special.sectionTitlePlaceholder"),value:t,onChange:Q=>r(Q.target.value)}),v.jsx("button",{className:"submit-btn",onClick:ye,children:n("special.saveTitle")})]}),i&&v.jsxs("div",{className:"add-product-form",children:[v.jsx("input",{className:"input-text",placeholder:n("special.name"),value:l,onChange:Q=>c(Q.target.value)}),v.jsx("textarea",{className:"textarea",placeholder:n("special.description"),value:d,onChange:Q=>f(Q.target.value)}),v.jsx("input",{className:"input-price",placeholder:n("special.oldPrice"),value:_,onChange:Q=>T(Q.target.value),type:"number"}),v.jsx("input",{className:"input-price",placeholder:n("special.price"),value:x,onChange:Q=>R(Q.target.value),type:"number"}),v.jsx("input",{className:"input-file",type:"file",onChange:Q=>V(Q.target.files[0])}),m&&v.jsxs("div",{className:"image-preview",children:[v.jsx("img",{src:m,className:"preview-img",alt:"Preview"}),v.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>y(""),children:n("special.changeImage")})]}),v.jsx("button",{className:"submit-btn",onClick:Re,disabled:A,children:n("special.addItem")}),v.jsx("div",{className:"special-items-list",children:I.map((Q,ae)=>v.jsx("div",{className:"special-item-card",children:v.jsxs("div",{className:"special-item-content",children:[v.jsx("img",{src:Q.image,alt:Q.name,className:"special-item-img"}),v.jsxs("div",{className:"special-item-details",children:[v.jsx("strong",{children:Q.name}),v.jsx("span",{style:{fontSize:"13px",color:"gray",cursor:L?"pointer":"default",whiteSpace:L?"nowrap":"normal",overflow:L?"hidden":"visible",textOverflow:L?"ellipsis":"unset"},onClick:()=>L&&k(Q.id),children:L?$(Q.description):Q.description})]}),v.jsxs("span",{className:"special-item-price",children:[Q.oldPrice&&v.jsxs("s",{children:["$",Q.oldPrice]}),v.jsxs("b",{children:["$",Q.price]})]}),v.jsxs("div",{children:[C===Q.id&&v.jsx("div",{className:"description-modal-overlay",onClick:()=>k(null),children:v.jsxs("div",{className:"description-modal",onClick:ne=>ne.stopPropagation(),children:[v.jsx("strong",{children:n("special.fullDescription")}),v.jsx("p",{style:{marginTop:"6px"},children:Q.description})]})}),v.jsx("button",{className:"special-delete-btn",onClick:()=>D(Q),children:"X"})]})]})},ae))})]}),M&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-box",children:[v.jsxs("p",{children:["Are you sure you want to delete the entire section"," ",v.jsxs("strong",{children:['"',i,'"']}),"?"]}),v.jsxs("div",{className:"modal-buttons",children:[v.jsx("button",{onClick:Ee,style:{background:"red",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:"Yes"}),v.jsx("button",{onClick:()=>B(!1),style:{background:"gray",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer"},children:"No"})]})]})}),Y&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-box",children:[v.jsxs("p",{children:["Are you sure you want to delete"," ",v.jsxs("strong",{children:['"',Y.name,'"']}),"?"]}),v.jsxs("div",{className:"modal-buttons",children:[v.jsx("button",{className:"yes",onClick:()=>ve(Y),children:"Yes"}),v.jsx("button",{className:"no",onClick:()=>D(null),children:"No"})]})]})})]})}function qM(){const{t:n}=ft(),{slug:e}=sn();if(!e)return null;const r=`https://wa.me/201024208807?text=${encodeURIComponent(`Hello, I want to upgrade the plan for my restaurant: ${e}`)}`;return v.jsxs("div",{className:"upgrade-notice",children:[v.jsx("h3",{className:"upgrade-title",children:n("upgrade.specialItemsTitle")}),v.jsx("p",{className:"upgrade-text",children:n("upgrade.description")}),v.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"upgrade-btn",children:[v.jsx(hf,{className:"whatsapp-icon"}),n("upgrade.contactBtn")]})]})}function pf(n){return Jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(n)}function KM({name:n,description:e,sizes:t,useUnifiedSize:r,unifiedPrice:i,category:a,categoriesList:l,uploadedImageURL:c,imageFile:d,isImageUploading:f,setName:m,setDescription:y,setSizes:_,setUseUnifiedSize:T,setUnifiedPrice:x,setCategory:R,setImageFile:A,setUploadedImageURL:j,handleImageUpload:I,handleSubmit:N}){Zn();const{t:M}=ft();return v.jsxs("form",{onSubmit:N,className:"add-product-form",children:[v.jsx("p",{className:"form-label",children:M("addProduct.uploadImage")}),v.jsx("input",{type:"file",accept:"image/*",className:"input-file",onChange:B=>{const Y=B.target.files[0];A(Y),I(Y)}}),c&&v.jsxs("div",{className:"image-preview",children:[v.jsx("img",{src:c,alt:"Uploaded Preview",className:"preview-img"}),v.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>{j(""),A(null)},children:M("addCategory.changeImage")})]}),v.jsx("p",{className:"form-label",children:M("addProduct.name")}),v.jsx("input",{type:"text",placeholder:M("addProduct.namePlaceholder"),value:n,onChange:B=>m(B.target.value),className:"input-text"}),v.jsx("p",{className:"form-label",children:M("addProduct.description")}),v.jsx("textarea",{placeholder:M("addProduct.descriptionPlaceholder"),value:e,onChange:B=>y(B.target.value),className:"textarea"}),v.jsx("p",{className:"form-label",children:M("addProduct.sizesTitle")}),["S","M","L"].map(B=>v.jsxs("div",{className:"size-option",children:[v.jsxs("label",{className:"checkbox-label",children:[v.jsx("input",{type:"checkbox",checked:t[B].selected,disabled:r,onChange:()=>_(Y=>({...Y,[B]:{...Y[B],selected:!Y[B].selected,price:Y[B].selected?Y[B].price:""}}))}),B]}),t[B].selected&&!r&&v.jsx("input",{type:"number",placeholder:`${M("addProduct.priceFor")} ${B}`,value:t[B].price,onChange:Y=>_(D=>({...D,[B]:{...D[B],price:Y.target.value}})),className:"input-price"})]},B)),v.jsx("p",{className:"form-label",children:M("addProduct.category")}),v.jsxs("select",{value:a,onChange:B=>R(B.target.value),className:"select-category",children:[v.jsx("option",{value:"",children:M("addProduct.selectCategory")}),l.map((B,Y)=>v.jsx("option",{value:B.name,children:B.name},Y))]}),v.jsx("button",{type:"submit",className:"submit-btn",children:M("addProduct.submit")})]})}function GM({categoryImageURL:n,newCategoryName:e,setNewCategoryName:t,setCategoryImageURL:r,handleCategoryImageUpload:i,handleAddCategory:a,categorySectionRef:l}){const c=Zn(),{t:d}=ft();return v.jsxs("div",{className:"add-category-wrapper",ref:l,children:[v.jsx("button",{style:{display:"none"},className:"close-category-btn",onClick:()=>c(-1),children:""}),v.jsx("h3",{className:"add-category-title",children:d("addCategory.title")}),v.jsxs("p",{className:"add-category-note",children:[d("addCategory.note")," ",v.jsx("strong",{children:"1:1"})]}),v.jsx("input",{className:"add-category-input",type:"file",accept:"image/*",onChange:f=>{const m=f.target.files[0];m&&i(m)}}),n&&v.jsxs("div",{className:"category-preview",children:[v.jsx("img",{src:n,alt:d("addCategory.previewAlt"),className:"category-preview-img"}),v.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>r(""),children:d("addCategory.changeImage")})]}),v.jsx("input",{className:"add-category-name",type:"text",placeholder:d("addCategory.namePlaceholder"),value:e,onChange:f=>t(f.target.value)}),v.jsx("button",{type:"button",className:"add-category-submit",onClick:()=>{if(!(e!=null&&e.trim())||!n){!(e!=null&&e.trim())&&!n?fe.error(d("addCategory.errors.nameAndImage")):e!=null&&e.trim()?fe.error(d("addCategory.errors.imageOnly")):fe.error(d("addCategory.errors.nameOnly"));return}a()},children:d("addCategory.submit")})]})}function QM(){const{t:n}=ft(),[e,t]=P.useState(""),[r,i]=P.useState(""),[a,l]=P.useState({S:{selected:!1,price:""},M:{selected:!1,price:""},L:{selected:!1,price:""}}),[c,d]=P.useState(!1),[f,m]=P.useState(""),[y,_]=P.useState(""),[T,x]=P.useState(null),[R,A]=P.useState(""),[j,I]=P.useState(!1),[N,M]=P.useState([]),B=P.useRef(null),[Y,D]=P.useState(""),[C,k]=P.useState(""),{slug:L}=sn(),F=Zn(),[$,V]=P.useState("basic");P.useEffect(()=>{(async()=>{try{const ae=ct(Ke,"ReVerse",L),ne=await Tn(ae);if(ne.exists()){const z=ne.data();M(z.categories||[]),V(z.plan||"basic")}else fe.error("Categories not found.")}catch{fe.error("Failed to fetch categories.")}})()},[L]);const ye=async Q=>{if(!Q)return;I(!0),fe.info("Uploading image... Please wait");const ae=new FormData;ae.append("file",Q),ae.append("upload_preset","react_upload");try{const z=await(await fetch("https://api.cloudinary.com/v1_1/dwupyymoc/image/upload",{method:"POST",body:ae})).json(),Z=z.public_id,Se=`https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,dpr_auto/v${z.version}/${Z}.jpg`;A(Se),fe.success("Image uploaded successfully!")}catch{fe.error("Image upload failed.")}finally{I(!1)}},Re=async Q=>{I(!0),fe.info("Uploading category image...");const ae=new FormData;ae.append("file",Q),ae.append("upload_preset","react_upload");try{const z=await(await fetch("https://api.cloudinary.com/v1_1/dwupyymoc/image/upload",{method:"POST",body:ae})).json(),Z=z.public_id,Se=`https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,dpr_auto/v${z.version}/${Z}.jpg`;k(Se),fe.success("Category image uploaded!")}catch{fe.error("Image upload failed.")}finally{I(!1)}},ve=async()=>{if(!Y.trim()||!C){fe.error("Please enter category name and upload an image.");return}try{const Q=ct(Ke,"ReVerse",L),ae=await Tn(Q);let ne=[];ae.exists()&&(ne=ae.data().categories||[]);const z=[...ne,{name:Y,image:C}];await Ds(Q,{categories:z}),fe.success("Category added successfully!"),M(z),D(""),k("")}catch{fe.error("Failed to add category.")}},Ee=async Q=>{if(Q.preventDefault(),j){fe.warn("Please wait until image finishes uploading.");return}const ae=c?[{label:"Standard",price:parseFloat(f)}]:Object.entries(a).filter(([ne,z])=>z.selected&&z.price).map(([ne,z])=>({label:ne,price:parseFloat(z.price)}));if(!e.trim()||!r.trim()||!y||!R||ae.length===0||c&&!f){fe.error("Please fill in all fields and set the size price.");return}try{const ne={name:e,description:r,sizes:ae,category:y,image:R},z=Bn(Ke,"ReVerse",L,"products");await Kh(z,ne),fe.success("Product added successfully!"),t(""),i(""),l({S:{selected:!1,price:""},M:{selected:!1,price:""},L:{selected:!1,price:""}}),d(!1),m(""),_(""),x(null),A("")}catch{fe.error("Failed to add product.")}};return v.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},children:[v.jsxs("button",{type:"button",className:"back-btn",onClick:()=>F(-1),children:[v.jsx(pf,{className:"back-icon"}),n("addProduct.back")]}),v.jsxs("div",{className:"nav-buttons",children:[v.jsx("button",{onClick:()=>document.getElementById("add-product-section").scrollIntoView({behavior:"smooth"}),children:n("addProduct.tabs.product")}),v.jsx("button",{onClick:()=>document.getElementById("add-category-section").scrollIntoView({behavior:"smooth"}),children:n("addProduct.tabs.category")}),v.jsx("button",{onClick:()=>document.getElementById("add-special-section").scrollIntoView({behavior:"smooth"}),children:n("addProduct.tabs.special")})]}),v.jsx("div",{id:"add-product-section",children:v.jsx(KM,{name:e,description:r,sizes:a,useUnifiedSize:c,unifiedPrice:f,category:y,categoriesList:N,uploadedImageURL:R,imageFile:T,isImageUploading:j,setName:t,setDescription:i,setSizes:l,setUseUnifiedSize:d,setUnifiedPrice:m,setCategory:_,setImageFile:x,setUploadedImageURL:A,handleImageUpload:ye,handleSubmit:Ee})}),v.jsx("div",{id:"add-category-section",children:v.jsx(GM,{categoryImageURL:C,newCategoryName:Y,setNewCategoryName:D,setCategoryImageURL:k,handleCategoryImageUpload:Re,handleAddCategory:ve,categorySectionRef:B})}),v.jsx("div",{id:"add-special-section",children:$==="premium"?v.jsx(WM,{slug:L}):v.jsx(qM,{slug:L})})]})}function YM(){const{t:n}=ft(),{slug:e}=sn(),[t,r]=P.useState([]),[i,a]=P.useState(null),[l,c]=P.useState({}),d=async()=>{try{const y=ct(Ke,"ReVerse",e),_=await Tn(y);if(_.exists()){const T=_.data();r(T.categories||[])}else fe.error("No categories found.")}catch{fe.error("Failed to fetch categories.")}},f=async()=>{try{const y=Bn(Ke,"ReVerse",e,"products"),T=(await Oi(y)).docs.map(R=>R.data()),x={};T.forEach(R=>{const A=R.category;A&&(x[A]=(x[A]||0)+1)}),c(x)}catch{fe.error("Failed to fetch product counts.")}},m=async y=>{try{const _=t.filter((x,R)=>R!==y),T=ct(Ke,"ReVerse",e);await Ds(T,{categories:_}),r(_),fe.success("Category deleted."),a(null)}catch{fe.error("Delete failed.")}};return P.useEffect(()=>{d(),f()},[e]),v.jsxs("div",{style:{padding:"20px"},children:[v.jsx("h2",{style:{marginBottom:"10px"},children:n("categories.title")}),t.length===0?v.jsx("p",{children:n("categories.noCategories")}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:t.map((y,_)=>v.jsxs("div",{style:{display:"flex",alignItems:"center",border:"1px solid #eee",borderRadius:"8px",padding:"10px",gap:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[v.jsx("img",{src:y.image,alt:y.name,style:{width:"70px",height:"70px",objectFit:"cover",borderRadius:"4px"}}),v.jsxs("div",{style:{flexGrow:1},children:[v.jsx("strong",{children:y.name}),v.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[l[y.name]||0," product(s)"]})]}),v.jsx("button",{onClick:()=>a(_),style:{background:"#eee",border:"1px solid #ccc",padding:"4px 10px",borderRadius:"4px",cursor:"pointer"},children:"X"}),i===_&&v.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#fff4f4",border:"1px solid #ffcccc",borderRadius:"6px",display:"flex",gap:"10px",alignItems:"center",flex:1},children:[v.jsxs("span",{style:{fontSize:"12px"},children:["Are you sure you want to delete"," ",v.jsxs("strong",{children:['"',y.name,'"']}),"?"]}),v.jsx("button",{onClick:()=>m(_),style:{background:"red",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px"},children:"Yes"}),v.jsx("button",{onClick:()=>a(null),style:{background:"gray",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px"},children:"No"})]})]},_))})]})}function XM(){const{t:n}=ft(),{slug:e}=sn(),[t,r]=P.useState([]),[i,a]=P.useState(""),[l,c]=P.useState(null),[d,f]=P.useState(null),[m,y]=P.useState(window.innerWidth<768),_=Zn();P.useEffect(()=>{const I=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const T=async()=>{try{const I=Bn(Ke,"ReVerse",e,"products"),M=(await Oi(I)).docs.map(B=>({id:B.id,...B.data()}));r(M)}catch{fe.error("Failed to fetch products.")}},x=async I=>{try{await Ua(ct(Ke,"ReVerse",e,"products",I)),fe.success("Item deleted."),T(),c(null)}catch{fe.error("Delete failed.")}};P.useEffect(()=>{T()},[e]);const R=[...new Set(t.map(I=>I.category))],A=i?t.filter(I=>I.category===i):t,j=I=>{if(!I)return"";const N=I.split(" ");return N.length<=3?I:N.slice(0,3).join(" ")+" ..."};return v.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"product-list-container",children:[v.jsxs("button",{type:"button",className:"back-btn",onClick:()=>_(-1),children:[v.jsx(pf,{className:"back-icon"}),n("orders.back")]}),v.jsx("h2",{className:"product-list-title",children:n("products.title")}),v.jsxs("div",{className:"filter-container",children:[v.jsx("label",{className:"filter-label",children:n("products.filterByCategory")}),v.jsxs("select",{value:i,onChange:I=>a(I.target.value),children:[v.jsx("option",{value:"",children:"All"}),R.map((I,N)=>v.jsx("option",{value:I,children:I},N))]})]}),A.length===0?v.jsx("p",{children:n("products.noProducts")}):v.jsx("div",{className:"product-cards-wrapper",children:A.map(I=>v.jsxs("div",{className:"product-card",children:[v.jsxs("div",{className:`product-card-inner ${m?"mobile":""}`,children:[v.jsx("img",{src:I.image,alt:I.name,className:"product-image"}),v.jsxs("div",{className:"product-info",children:[v.jsx("strong",{children:I.name}),v.jsx("span",{className:"product-description-preview",onClick:()=>f(I.id),children:j(I.description)})]}),v.jsx("span",{children:"-"}),v.jsx("span",{children:Array.isArray(I.sizes)?I.sizes.map(N=>`${N.label} ($${N.price})`).join(", "):"-"}),v.jsx("span",{children:I.category}),v.jsx("div",{children:v.jsx("button",{onClick:()=>c(I.id),className:"delete-btn",children:"X"})})]}),l===I.id&&v.jsxs("div",{className:"confirm-delete-box",children:[v.jsxs("span",{className:"delete-warning-text",children:["Are you sure you want to delete"," ",v.jsxs("strong",{children:['"',I.name,'"']}),"?"]}),v.jsx("button",{onClick:()=>x(I.id),className:"btn-delete-yes",children:"Yes"}),v.jsx("button",{onClick:()=>c(null),className:"btn-delete-no",children:"No"})]}),d===I.id&&v.jsx("div",{className:"overlay",onClick:()=>f(null),children:v.jsxs("div",{className:"description-modal",onClick:N=>N.stopPropagation(),children:[v.jsx("strong",{children:n("products.fullDescription")})," ",I.description]})})]},I.id))}),v.jsx("hr",{className:"divider-line"}),v.jsx(YM,{})]})}const JM=()=>{const{t:n}=ft(),{slug:e}=sn(),t=Zn(),[r,i]=P.useState([]),[a,l]=P.useState(null),[c,d]=P.useState("all"),[f,m]=P.useState("all"),y=I=>{l(a===I?null:I)},_=()=>{new Audio("/sounds/notify.mp3").play().catch(N=>{console.warn("   :",N)})},T=async()=>{try{const I=Wm(Bn(Ke,"ReVerse",e,"orders"),qm("createdAt","desc")),M=(await Oi(I)).docs.map(B=>({id:B.id,isSeen:B.data().isSeen||!1,...B.data()}));if(i(M),M.length>80){const B=M.slice(80);for(const Y of B)await Ua(ct(Ke,"ReVerse",e,"orders",Y.id))}}catch(I){console.error("Error fetching orders:",I)}},x=async(I,N)=>{await Ds(ct(Ke,"ReVerse",e,"orders",I),{status:N}),T()},R=async I=>{await Ua(ct(Ke,"ReVerse",e,"orders",I)),fe.success("Order deleted successfully "),T()};P.useEffect(()=>{let I=!1;const N=Wm(Bn(Ke,"ReVerse",e,"orders"),qm("createdAt","desc")),M=WN(N,B=>{if(!I){I=!0;return}B.docChanges().forEach(Y=>{Y.type==="added"&&(fe.info(" New Order"),_(),T())})});return()=>M()},[e]),P.useEffect(()=>{T()},[e]);const A=r.filter(I=>{var B;const N=c==="all"||((B=I.status)==null?void 0:B.toLowerCase().trim())===c,M=f==="all"||I.dineOption===f;return N&&M}),j=I=>({backgroundColor:I?"#ccc":"#f1f1f1",padding:"6px 10px",borderRadius:"8px",border:"1px solid #ccc",marginRight:"6px",fontSize:"14px",cursor:"pointer"});return v.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"orders-container",children:[v.jsxs("button",{type:"button",className:"back-btn",onClick:()=>t(-1),children:[v.jsx(pf,{className:"back-icon"}),n("orders.back")]}),v.jsxs("h2",{className:"orders-title",children:["Welcome to Admin Panel for: ",e]}),v.jsxs("h3",{className:"orders-count",children:["Orders: ",A.length]}),v.jsx("p",{className:"orders-note",children:n("orders.note")}),v.jsxs("div",{className:"orders-filter",children:[v.jsx("b",{children:"Filter by Status:"})," ",["all","pending","preparing","ready","delivered","cancelled"].map(I=>v.jsx("button",{onClick:()=>d(I),style:j(c===I),children:I.charAt(0).toUpperCase()+I.slice(1)},I))]}),v.jsxs("div",{className:"orders-type-filter",children:[v.jsx("b",{children:"Order Type:"})," ",["all","inside","outside"].map(I=>v.jsx("button",{onClick:()=>m(I),style:j(f===I),children:I==="inside"?"Inside":I==="outside"?"Delivery":"All"},I))]}),v.jsx(za,{children:A.map((I,N)=>{var D;const M=I.items||[],B=I.total||0,Y=I.customerInfo||{};return v.jsxs(Je.div,{className:`order-card ${I.isSeen?"":"unseen-order"}`,layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:[v.jsxs("div",{onClick:()=>{y(I.id),I.isSeen||Ds(ct(Ke,"ReVerse",e,"orders",I.id),{isSeen:!0})},className:"order-header",children:[N+1,". items ",M.length,"  Date :"," ",(D=I.createdAt)!=null&&D.seconds?new Date(I.createdAt.seconds*1e3).toLocaleString():""," "," ",I.status||"*"]}),a===I.id&&v.jsxs(Je.div,{className:"order-details",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[v.jsx("hr",{}),M.map((C,k)=>v.jsxs("p",{children:[" ",C.name," | ",C.size," | quantity : ",C.quantity," | $",C.price,C.notes&&v.jsxs(v.Fragment,{children:["   Notes: ",C.notes]})]},k)),I.notes&&v.jsxs("p",{className:"order-notes",children:[" Notes: ",I.notes]}),v.jsxs("p",{children:[v.jsx("b",{children:" Total:"})," $",B.toFixed(2)]}),I.dineOption==="outside"&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:[n("orders.name"),": ",Y.name]}),v.jsxs("p",{children:[n("orders.address"),": ",Y.address]}),v.jsxs("p",{children:[n("orders.phone"),": ",Y.phone]})]}),I.dineOption==="inside"&&v.jsxs("p",{children:[n("orders.tableNumber")," : ",I.tableNumber]}),I.note&&v.jsxs("p",{children:[" ",n("orders.note"),": ",I.note]}),v.jsxs("p",{children:[" ",n("orders.payment"),":"," ",I.paymentMethod==="online"&&(I.paymentStatus==="paid"?" Paid Online":" Unpaid - Online Selected"),I.paymentMethod==="cash"&&" Cash on Delivery",!I.paymentMethod&&""]}),v.jsxs("div",{className:"order-status-controls",children:[v.jsxs("b",{children:[" ",n("orders.changeStatus"),":"]}),v.jsx("br",{}),["preparing","pending","delivered","cancelled"].map(C=>v.jsx("button",{onClick:()=>x(I.id,C),className:"status-btn",children:C.charAt(0).toUpperCase()+C.slice(1)},C))]}),I.status==="cancelled"&&v.jsxs("div",{className:"cancelled-order-box",children:[v.jsx("p",{children:n("orders.cancelled")}),v.jsx("button",{className:"delete",onClick:()=>R(I.id),children:n("orders.delete")})]})]})]},I.id)})}),v.jsx(qu,{position:"top-center",autoClose:2e3})]})},ZM=()=>{const{t:n}=ft(),{slug:e}=sn(),[t,r]=P.useState([]),[i,a]=P.useState("all"),[l,c]=P.useState(""),[d,f]=P.useState(null),[m,y]=P.useState(!1),_=Zn();P.useEffect(()=>{(async()=>{if(!e){console.warn(" slug  ");return}try{const j=ct(Ke,"ReVerse",e),I=Bn(j,"bookTable"),M=(await Oi(I)).docs.map(B=>({id:B.id,...B.data()}));r(M),console.log("    :",M)}catch(j){console.error("    :",j)}})()},[e]);const T=async(A,j)=>{const I=ct(Ke,"ReVerse",e,"bookTable",A);await Ds(I,{status:j}),r(N=>N.map(M=>M.id===A?{...M,status:j}:M))},x=async()=>{const A=ct(Ke,"ReVerse",e,"bookTable",d);await Ua(A),r(j=>j.filter(I=>I.id!==d)),y(!1),f(null)},R=t.filter(A=>{const j=i==="all"||A.status===i,I=!l||A.date===l;return j&&I});return v.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"admin-bookings",children:[v.jsxs("button",{type:"button",className:"back-btn",onClick:()=>_(-1),children:[v.jsx(pf,{className:"back-icon"}),n("bookings.back")]}),v.jsx("h2",{children:n("bookings.title")}),v.jsxs("div",{className:"filters",children:[v.jsxs(Je.select,{onChange:A=>a(A.target.value),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[v.jsx("option",{value:"all",children:n("bookings.filters.all")}),v.jsx("option",{value:"pending",children:n("bookings.filters.pending")}),v.jsx("option",{value:"confirmed",children:n("bookings.filters.confirmed")}),v.jsx("option",{value:"rejected",children:n("bookings.filters.rejected")})]}),v.jsx("input",{type:"date",value:l,onChange:A=>c(A.target.value)})]}),v.jsx(za,{mode:"wait",children:R.length===0?v.jsx(Je.p,{className:"no-bookings",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:n("bookings.noBookings")},"no-bookings"):v.jsx(Je.div,{className:"table-wrapper",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.4},children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:n("bookings.table.name")}),v.jsx("th",{children:n("bookings.table.seats")}),v.jsx("th",{children:n("bookings.table.date")}),v.jsx("th",{children:n("bookings.table.time")}),v.jsx("th",{children:n("bookings.table.payment")}),v.jsx("th",{children:n("bookings.table.status")}),v.jsx("th",{children:n("bookings.table.actions")})]})}),v.jsx("tbody",{children:R.map(A=>v.jsxs(Je.tr,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:[v.jsx("td",{children:A.name}),v.jsx("td",{children:A.tableSize}),v.jsx("td",{children:A.date}),v.jsx("td",{children:A.time}),v.jsx("td",{children:A.paymentMethod}),v.jsx("td",{children:v.jsx("span",{className:`status ${A.status}`,children:A.status})}),v.jsxs("td",{children:[v.jsx("button",{onClick:()=>T(A.id,"confirmed"),children:""}),v.jsx("button",{onClick:()=>T(A.id,"rejected"),children:""}),v.jsx("button",{onClick:()=>{f(A.id),y(!0)},children:n("buttons.delete")})]})]},A.id))})]})},"bookings-table")}),m&&v.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:v.jsxs("div",{className:"modal",onClick:A=>A.stopPropagation(),children:[v.jsx("p",{children:"Are you sure you want to delete this booking?"}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{onClick:x,className:"yes-btn",children:"Yes"}),v.jsx("button",{onClick:()=>y(!1),className:"no-btn",children:"No"})]})]})})]})},e5=()=>v.jsx("div",{});function t5({children:n}){const{slug:e}=sn(),[t,r]=P.useState(null);return P.useEffect(()=>{const i=Py(Or,async a=>{if(!a||!e){r(!1);return}const l=ct(Ke,"ReVerse",e),c=await Tn(l);c.exists()&&c.data().adminEmail===a.email?r(!0):r(!1)});return()=>i()},[e]),t===null?null:t?n:v.jsx(yP,{to:`/reverse/${e}`,replace:!0})}const n5=()=>{const n=ai();return v.jsx(za,{mode:"wait",children:v.jsxs(_P,{location:n,children:[v.jsx(hr,{path:"/",element:v.jsx(zM,{})}),v.jsxs(hr,{path:"/reverse/:slug",element:v.jsx(pE,{children:v.jsx(kM,{})}),children:[v.jsx(hr,{index:!0,element:v.jsx(vV,{})}),v.jsx(hr,{path:"cart",element:v.jsx(rM,{})})]}),v.jsxs(hr,{path:"/reverse/:slug/adminClientH/*",element:v.jsx(pE,{children:v.jsx(t5,{children:v.jsx(HM,{})})}),children:[v.jsx(hr,{index:!0,element:v.jsx(RM,{})}),v.jsx(hr,{path:"add",element:v.jsx(QM,{})}),v.jsx(hr,{path:"list",element:v.jsx(XM,{})}),v.jsx(hr,{path:"orders",element:v.jsx(JM,{})}),v.jsx(hr,{path:"booking",element:v.jsx(ZM,{})}),v.jsx(hr,{path:"payMethod",element:v.jsx(e5,{})})]})]},n.pathname)})},Be=n=>typeof n=="string",Hl=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},mE=n=>n==null?"":""+n,r5=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},i5=/###/g,gE=n=>n&&n.indexOf("###")>-1?n.replace(i5,"."):n,yE=n=>!n||Be(n),cu=(n,e,t)=>{const r=Be(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(yE(n))return{};const a=gE(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return yE(n)?{}:{obj:n,k:gE(r[i])}},vE=(n,e,t)=>{const{obj:r,k:i}=cu(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=cu(n,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=cu(n,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=t},s5=(n,e,t,r)=>{const{obj:i,k:a}=cu(n,e,Object);i[a]=i[a]||[],i[a].push(t)},Th=(n,e)=>{const{obj:t,k:r}=cu(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},o5=(n,e,t)=>{const r=Th(n,t);return r!==void 0?r:Th(e,t)},lb=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Be(n[r])||n[r]instanceof String||Be(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):lb(n[r],e[r],t):n[r]=e[r]);return n},ma=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const l5=n=>Be(n)?n.replace(/[&<>"'\/]/g,e=>a5[e]):n;class u5{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const c5=[" ",",","?","!",";"],d5=new u5(20),h5=(n,e,t)=>{e=e||"",t=t||"";const r=c5.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const i=d5.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(n);if(!a){const l=n.indexOf(t);l>0&&!i.test(n.substring(0,l))&&(a=!0)}return a},Tg=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let d=a;d<r.length;++d)if(d!==a&&(c+=t),c+=r[d],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;a+=d-a+1;break}i=l}return i},Ru=n=>n==null?void 0:n.replace("_","-"),f5={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class Sh{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||f5,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Be(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Sh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Sh(this.logger,e)}}var Zr=new Sh;class mf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...t])})}}class _E extends mf{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var f,m;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):Be(r)&&a?c.push(...r.split(a)):c.push(r)));const d=Th(this.data,c);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),d||!l||!Be(r)?d:Tg((m=(f=this.data)==null?void 0:f[e])==null?void 0:m[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=t,t=c[1]),this.addNamespaces(t),vE(this.data,c,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Be(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=t,t=c[1]),this.addNamespaces(t);let d=Th(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?lb(d,r,a):d={...d,...r},vE(this.data,c,d),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var ub={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var l;e=((l=this.processors[a])==null?void 0:l.process(e,t,r,i))??e}),e}};const wE={},EE=n=>!Be(n)&&typeof n!="boolean"&&typeof n!="number";class xh extends mf{constructor(e,t={}){super(),r5(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!h5(e,r,i);if(l&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Be(a)?[a]:a};const f=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(i)}return{key:e,namespaces:Be(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],i),f=d[d.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const y=i.lng||this.language,_=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return _?a?{res:`${f}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:y,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${m}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:y,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:c;const T=this.resolve(e,i);let x=T==null?void 0:T.res;const R=(T==null?void 0:T.usedKey)||c,A=(T==null?void 0:T.exactUsedKey)||c,j=["[object Number]","[object Function]","[object RegExp]"],I=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,M=i.count!==void 0&&!Be(i.count),B=xh.hasDefaultValue(i),Y=M?this.pluralResolver.getSuffix(y,i.count,i):"",D=i.ordinal&&M?this.pluralResolver.getSuffix(y,i.count,{ordinal:!1}):"",C=M&&!i.ordinal&&i.count===0,k=C&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Y}`]||i[`defaultValue${D}`]||i.defaultValue;let L=x;N&&!x&&B&&(L=k);const F=EE(L),$=Object.prototype.toString.apply(L);if(N&&L&&F&&j.indexOf($)<0&&!(Be(I)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,L,{...i,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(T.res=V,T.usedParams=this.getUsedParamsDetails(i),T):V}if(l){const V=Array.isArray(L),ye=V?[]:{},Re=V?A:R;for(const ve in L)if(Object.prototype.hasOwnProperty.call(L,ve)){const Ee=`${Re}${l}${ve}`;B&&!x?ye[ve]=this.translate(Ee,{...i,defaultValue:EE(k)?k[ve]:void 0,joinArrays:!1,ns:d}):ye[ve]=this.translate(Ee,{...i,joinArrays:!1,ns:d}),ye[ve]===Ee&&(ye[ve]=L[ve])}x=ye}}else if(N&&Be(I)&&Array.isArray(x))x=x.join(I),x&&(x=this.extendTranslation(x,e,i,r));else{let V=!1,ye=!1;!this.isValidLookup(x)&&B&&(V=!0,x=k),this.isValidLookup(x)||(ye=!0,x=c);const ve=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ye?void 0:x,Ee=B&&k!==x&&this.options.updateMissing;if(ye||V||Ee){if(this.logger.log(Ee?"updateKey":"missingKey",y,f,c,Ee?k:x),l){const z=this.resolve(c,{...i,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ae&&ae[0])for(let z=0;z<ae.length;z++)Q.push(ae[z]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(i.lng||this.language):Q.push(i.lng||this.language);const ne=(z,Z,pe)=>{var Ne;const Se=B&&pe!==x?pe:ve;this.options.missingKeyHandler?this.options.missingKeyHandler(z,f,Z,Se,Ee,i):(Ne=this.backendConnector)!=null&&Ne.saveMissing&&this.backendConnector.saveMissing(z,f,Z,Se,Ee,i),this.emit("missingKey",z,f,Z,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?Q.forEach(z=>{const Z=this.pluralResolver.getSuffixes(z,i);C&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(pe=>{ne([z],c+pe,i[`defaultValue${pe}`]||k)})}):ne(Q,c,k))}x=this.extendTranslation(x,e,i,T,r),ye&&x===c&&this.options.appendNamespaceToMissingKey&&(x=`${f}${m}${c}`),(ye||V)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${m}${c}`:c,V?x:void 0,i))}return a?(T.res=x,T.usedParams=this.getUsedParamsDetails(i),T):x}extendTranslation(e,t,r,i,a){var d,f;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=Be(e)&&(((f=r==null?void 0:r.interpolation)==null?void 0:f.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(m){const T=e.match(this.interpolator.nestingRegexp);y=T&&T.length}let _=r.replace&&!Be(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,r.lng||this.language||i.usedLng,r),m){const T=e.match(this.interpolator.nestingRegexp),x=T&&T.length;y<x&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(a==null?void 0:a[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Be(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&r.applyPostProcessor!==!1&&(e=ub.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,l,c;return Be(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const f=this.extractFromKey(d,t),m=f.key;i=m;let y=f.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const _=t.count!==void 0&&!Be(t.count),T=_&&!t.ordinal&&t.count===0,x=t.context!==void 0&&(Be(t.context)||typeof t.context=="number")&&t.context!=="",R=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(A=>{var j,I;this.isValidLookup(r)||(c=A,!wE[`${R[0]}-${A}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((I=this.utils)!=null&&I.hasLoadedNamespace(c))&&(wE[`${R[0]}-${A}`]=!0,this.logger.warn(`key "${i}" for languages "${R.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(N=>{var Y;if(this.isValidLookup(r))return;l=N;const M=[m];if((Y=this.i18nFormat)!=null&&Y.addLookupKeys)this.i18nFormat.addLookupKeys(M,m,N,A,t);else{let D;_&&(D=this.pluralResolver.getSuffix(N,t.count,t));const C=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(M.push(m+D),t.ordinal&&D.indexOf(k)===0&&M.push(m+D.replace(k,this.options.pluralSeparator)),T&&M.push(m+C)),x){const L=`${m}${this.options.contextSeparator}${t.context}`;M.push(L),_&&(M.push(L+D),t.ordinal&&D.indexOf(k)===0&&M.push(L+D.replace(k,this.options.pluralSeparator)),T&&M.push(L+C))}}let B;for(;B=M.pop();)this.isValidLookup(r)||(a=B,r=this.getResource(N,A,B,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Be(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class TE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zr.create("languageUtils")}getScriptPartFromCode(e){if(e=Ru(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ru(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Be(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Be(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Be(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const SE={zero:0,one:1,two:2,few:3,many:4,other:5},xE={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class p5{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Zr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Ru(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xE;if(!e.match(/-|_/))return xE;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>SE[i]-SE[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const IE=(n,e,t,r=".",i=!0)=>{let a=o5(n,e,t);return!a&&i&&Be(t)&&(a=Tg(n,t,r),a===void 0&&(a=Tg(e,t,r))),a},_m=n=>n.replace(/\$/g,"$$$$");class m5{constructor(e={}){var t;this.logger=Zr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:f,unescapeSuffix:m,unescapePrefix:y,nestingPrefix:_,nestingPrefixEscaped:T,nestingSuffix:x,nestingSuffixEscaped:R,nestingOptionsSeparator:A,maxReplaces:j,alwaysFormat:I}=e.interpolation;this.escape=t!==void 0?t:l5,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?ma(a):l||"{{",this.suffix=c?ma(c):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=m?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=_?ma(_):T||ma("$t("),this.nestingSuffix=x?ma(x):R||ma(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=j||1e3,this.alwaysFormat=I!==void 0?I:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var T;let a,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=x=>{if(x.indexOf(this.formatSeparator)<0){const I=IE(t,d,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(I,void 0,r,{...i,...t,interpolationkey:x}):I}const R=x.split(this.formatSeparator),A=R.shift().trim(),j=R.join(this.formatSeparator).trim();return this.format(IE(t,d,A,this.options.keySeparator,this.options.ignoreJSONStructure),j,r,{...i,...t,interpolationkey:A})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((T=i==null?void 0:i.interpolation)==null?void 0:T.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>_m(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?_m(this.escape(x)):_m(x)}].forEach(x=>{for(c=0;a=x.regex.exec(e);){const R=a[1].trim();if(l=f(R),l===void 0)if(typeof m=="function"){const j=m(e,a,i);l=Be(j)?j:""}else if(i&&Object.prototype.hasOwnProperty.call(i,R))l="";else if(y){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${R} for interpolating ${e}`),l="";else!Be(l)&&!this.useRawValueToEscape&&(l=mE(l));const A=x.safeValue(l);if(e=e.replace(a[0],A),y?(x.regex.lastIndex+=l.length,x.regex.lastIndex-=a[0].length):x.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,l;const c=(d,f)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const y=d.split(new RegExp(`${m}[ ]*{`));let _=`{${y[1]}`;d=y[0],_=this.interpolate(_,l);const T=_.match(/'/g),x=_.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!x||x.length%2!==0)&&(_=_.replace(/'/g,'"'));try{l=JSON.parse(_),f&&(l={...f,...l})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,R),`${d}${m}${_}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!Be(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let f=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const m=i[1].split(this.formatSeparator).map(y=>y.trim());i[1]=m.shift(),d=m,f=!0}if(a=t(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!Be(a))return a;Be(a)||(a=mE(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),f&&(a=d.reduce((m,y)=>this.format(m,y,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const g5=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();t[m]||(t[m]=f),f==="false"&&(t[m]=!1),f==="true"&&(t[m]=!0),isNaN(f)||(t[m]=parseInt(f,10))}})}return{formatName:e,formatOptions:t}},bE=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=n(Ru(r),i),e[l]=c),c(t)}},y5=n=>(e,t,r)=>n(Ru(t),r)(e);class v5{constructor(e={}){this.logger=Zr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?bE:y5;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=bE(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{var y;const{formatName:f,formatOptions:m}=g5(d);if(this.formats[f]){let _=c;try{const T=((y=i==null?void 0:i.formatParams)==null?void 0:y[i.interpolationkey])||{},x=T.locale||T.lng||i.locale||i.lng||r;_=this.formats[f](c,x,{...m,...i,...T})}catch(T){this.logger.warn(T)}return _}else this.logger.warn(`there was no format function for ${f}`);return c},e)}}const _5=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class w5 extends mf{constructor(e,t,r,i={}){var a,l;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Zr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},l={},c={},d={};return e.forEach(f=>{let m=!0;t.forEach(y=>{const _=`${f}|${y}`;!r.reload&&this.store.hasResourceBundle(f,y)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?l[_]===void 0&&(l[_]=!0):(this.state[_]=1,m=!1,l[_]===void 0&&(l[_]=!0),a[_]===void 0&&(a[_]=!0),d[y]===void 0&&(d[y]=!0)))}),m||(c[f]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,t,r){const i=e.split("|"),a=i[0],l=i[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(d=>{s5(d.loaded,[a],l),_5(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{c[f]||(c[f]={});const m=d.loaded[f];m.length&&m.forEach(y=>{c[f][y]===void 0&&(c[f][y]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,t,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(f,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(f&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,l)},a);return}l(f,m)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const f=d(e,t);f&&typeof f.then=="function"?f.then(m=>c(null,m)).catch(c):c(null,f)}catch(f){c(f)}return}return d(e,t,c)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Be(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,i,a,l={},c=()=>{}){var d,f,m,y,_;if((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace&&!((y=(m=this.services)==null?void 0:m.utils)!=null&&y.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((_=this.backend)!=null&&_.create){const T={...l,isUpdate:a},x=this.backend.create.bind(this.backend);if(x.length<6)try{let R;x.length===5?R=x(e,t,r,i,T):R=x(e,t,r,i),R&&typeof R.then=="function"?R.then(A=>c(null,A)).catch(c):c(null,R)}catch(R){c(R)}else x(e,t,r,i,c,T)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const CE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Be(n[1])&&(e.defaultValue=n[1]),Be(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),PE=n=>{var e,t;return Be(n.ns)&&(n.ns=[n.ns]),Be(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Be(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Id=()=>{},E5=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class ku extends mf{constructor(e={},t){if(super(),this.options=PE(e),this.services={},this.logger=Zr,this.modules={external:[]},E5(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Be(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=CE();this.options={...r,...this.options,...PE(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Zr.init(i(this.modules.logger),this.options):Zr.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=v5;const m=new TE(this.options);this.store=new _E(this.options.resources,this.options);const y=this.services;y.logger=Zr,y.resourceStore=this.store,y.languageUtils=m,y.pluralResolver=new p5(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=i(f),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new m5(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new w5(i(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.languageDetector&&(y.languageDetector=i(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=i(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new xh(this.services,this.options),this.translator.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Id),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...m)=>this.store[f](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...m)=>(this.store[f](...m),this)});const c=Hl(),d=()=>{const f=(m,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(y),t(m,y)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,t=Id){var a,l;let r=t;const i=Be(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],d=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(y=>{y!=="cimode"&&c.indexOf(y)<0&&c.push(y)})};i?d(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,f=>d(f)),this.services.backendConnector.load(c,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(f)})}else r(null)}reloadResources(e,t,r){const i=Hl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Id),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ub.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Hl();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...f)=>this.t(...f)),t&&t(c,(...f)=>this.t(...f))},l=c=>{var m,y;!e&&!c&&this.services.languageDetector&&(c=[]);const d=Be(c)?c:c&&c[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Be(c)?[c]:c);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),(y=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||y.call(m,f)),this.loadResources(f,_=>{a(_,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const i=(a,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(c)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const f=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(a)?m=a.map(y=>`${d.keyPrefix}${f}${y}`):m=d.keyPrefix?`${d.keyPrefix}${f}${a}`:a,this.t(m,d)};return Be(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const f=this.services.backendConnector.state[`${c}|${d}`];return f===-1||f===0||f===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,t){const r=Hl();return this.options.ns?(Be(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Hl();Be(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new TE(CE());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new ku(e,t)}cloneInstance(e={},t=Id){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new ku(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((m,y)=>(m[y]={...d[f][y]},m),d[f]),d),{});a.store=new _E(c,i),a.services.resourceStore=a.store}return a.translator=new xh(a.services,i),a.translator.on("*",(c,...d)=>{a.emit(c,...d)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Sn=ku.createInstance();Sn.createInstance=ku.createInstance;Sn.createInstance;Sn.dir;Sn.init;Sn.loadResources;Sn.reloadResources;Sn.use;Sn.changeLanguage;Sn.getFixedT;Sn.t;Sn.exists;Sn.setDefaultNamespace;Sn.hasLoadedNamespace;Sn.loadNamespaces;Sn.loadLanguages;const{slice:T5,forEach:S5}=[];function x5(n){return S5.call(T5.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function I5(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const AE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,b5=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(r.maxAge>0){const l=r.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(l)}`}if(r.domain){if(!AE.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!AE.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},RE={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=b5(n,e,i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var C5={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return RE.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;t&&typeof document<"u"&&RE.create(t,n,r,i,a)}},P5={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(t=l[c].substring(d+1))}}return t}},A5={name:"hash",lookup(n){var i;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const c=l.split("&");for(let d=0;d<c.length;d++){const f=c[d].indexOf("=");f>0&&c[d].substring(0,f)===e&&(r=c[d].substring(f+1))}}if(r)return r;if(!r&&t>-1){const c=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?(i=c[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let ga=null;const kE=()=>{if(ga!==null)return ga;try{if(ga=typeof window<"u"&&window.localStorage!==null,!ga)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{ga=!1}return ga};var R5={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&kE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&kE()&&window.localStorage.setItem(t,n)}};let ya=null;const NE=()=>{if(ya!==null)return ya;try{if(ya=typeof window<"u"&&window.sessionStorage!==null,!ya)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{ya=!1}return ya};var k5={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&NE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&NE()&&window.sessionStorage.setItem(t,n)}},N5={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},O5={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},D5={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},V5={name:"subdomain",lookup(n){var i,a;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let cb=!1;try{document.cookie,cb=!0}catch{}const db=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];cb||db.splice(1,1);const L5=()=>({order:db,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class hb{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=x5(t,this.options||{},L5()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(C5),this.addDetector(P5),this.addDetector(R5),this.addDetector(k5),this.addDetector(N5),this.addDetector(O5),this.addDetector(D5),this.addDetector(V5),this.addDetector(A5)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!I5(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}hb.type="languageDetector";const j5={hello:"Hello ",nowYouCan:"Now You Can",welcome:"Hi Admin!",loginPrompt:"Please enter your information to log in.",willLogInto:"You will log into"},M5={login:"Login",goToAdmin:"Go to Admin Panel",logout:"Logout",yes:"Yes",no:"No",or:"or",submit:"Place Order",close:"Close",delete:"Delete"},F5={email:"Email",password:"Password"},U5={agree:"I agree to the Privacy Policy"},B5={logout:"Are you sure you want to log out?"},$5={privacyPolicy:"Please agree to the privacy policy!",storedProjectNotFound:"Stored project not found",sessionCheck:"Error while checking saved session",notAuthorized:"You do not have permission to access this project!",projectNotFound:"This project does not exist!",loginFailed:"Login failed!"},z5={loginSuccess:"Login successful!",loggedOut:"You have been logged out.",projectSwitched:"You switched to a different project. Please log in again."},H5={title:"BOOK A TABLE",labels:{yourName:"Your Name",tableSize:"Choose Table Size",chooseADay:"Choose a Day",chooseATime:"Choose a Time"},info:{openingHours:"Opening Hours",additionalInfo:"Additional Info"},errors:{requiredFields:"Please fill all required fields.",general:"Something went wrong."}},W5={title:"Complete Your Payment",depositNotice:"A deposit of {{amount}}$ is required to confirm your reservation.",selectMethod:"Select Payment Method:",chooseMethod:"Choose Method",confirm:"Confirm",cancel:"Cancel",error:"Please select a payment method.",success:"Reservation confirmed successfully!",instructions:{vodafone:"Send the deposit to: {{number}}",paypal:"Send the deposit to: {{account}}",stripe:"Pay via Stripe: {{link}}",fawry:"Fawry Code: {{code}}"}},q5={greeting:"Hi!",contactVia:"You can contact us via:",noData:"There is no data available",loading:"Uploading Data..."},K5={contactUs:"Contact Us",details:"Details",developedBy:"Developed by ReVerse"},G5={menu:"Menu",cart:"Cart",contact_us:"Contact Us",admin_login:"Admin Login"},Q5={home:"Home",cart:"Cart",products:"Products",book_table:"Book a Table",about_us:"About Us",admin:"Admin",contact:"Lets Contact"},Y5={title:"Add Category",note:"Preferred image ratio is 1:1 (square)",previewAlt:"Category Preview",changeImage:"Change Image",namePlaceholder:"Category Name",submit:"Add Category",errors:{nameAndImage:"Please enter a category name and upload an image.",nameOnly:"Category name is required.",imageOnly:"Category image is required."}},X5={back:"Back",tabs:{product:"Add Product",category:"Add Category",special:"Special Items"},uploadImage:"Please upload main image:",name:"Product name:",namePlaceholder:"Product Name",description:"Product description:",descriptionPlaceholder:"Description",sizesTitle:"Select sizes and prices:",standard:"Standard",price:"Price",priceFor:"Price for",category:"Product Category:",selectCategory:"Select Category",submit:"Add Product"},J5={addSpecialItems:"Add Special Items",sectionTitlePlaceholder:"Special Section Title",saveTitle:"Save Title",name:"Name",description:"Description",oldPrice:"Old Price",price:"Price",uploadImage:"Upload Image",changeImage:"Change Image",addItem:"Add Item",confirmDeleteSection:"Are you sure you want to delete the entire section",confirmDeleteItem:"Are you sure you want to delete",fullDescription:"Full Description:"},Z5={specialItemsTitle:"Special Items are Premium-only",description:"To access this feature and highlight your top dishes, please upgrade to the Premium Plan.",contactBtn:"Contact Us to Upgrade"},e9={back:"Back",title:"Reservations Management",filters:{all:"All",pending:"Pending",confirmed:"Confirmed",rejected:"Rejected"},table:{name:"Name",seats:"Seats",date:"Date",time:"Time",payment:"Payment",status:"Status",actions:"Actions"},noBookings:"There are no future bookings.",confirmDelete:"Are you sure you want to delete this booking?"},t9={title:"Category List",noCategories:"No categories found.",count:"{{count}} product(s)",confirmDelete:'Are you sure you want to delete "{{name}}"?'},n9={title:"Product List",filterByCategory:"Filter by Category:",noProducts:"No products found.",fullDescription:"Full Description:",confirmDelete:'Are you sure you want to delete "{{name}}"?'},r9={back:"Back",title:"Welcome to Admin Panel for: {{slug}}",count:"Orders: {{count}}",note:"Note that the orders older than the most recent 80 will be automatically deleted to maintain performance.",filterByStatus:"Filter by Status:",orderType:"Order Type:",header:"{{index}}. Items {{count}}  Date: {{date}}  {{status}}",item:" {{name}} | {{size}} | quantity: {{quantity}} | ${{price}}",notes:"Notes",total:"Total",name:"Name",address:"Address",phone:"Phone",tableNumber:"Table Number",payment:"Payment",paidOnline:" Paid Online",unpaidOnline:" Unpaid - Online Selected",cashOnDelivery:" Cash on Delivery",changeStatus:"Order Status:",cancelled:"This order is cancelled",delete:"Delete"},i9={title:"Admin Panel - {{slug}}",name:"Name",email:"Email",logout:"Logout",add:"Add",list:"Product List",orders:"Orders",bookings:"Bookings",back:"Back",logoutConfirm:"Are you sure you want to logout?",logoutYes:"Yes, Logout",cancel:"Cancel"},s9={totalTitle:"Cart Total",subtotal:"Subtotal",deliveryFee:"Delivery Fee",total:"Total",inside:"I'm dining inside",outside:"I want delivery",price:"Price",size:"Size",emptyMessage:"Your cart is currently empty. Please add some products to your cart.",fullDescription:"Product Description"},o9={title:"Delivery Details",instruction:"Please fill these fields",namePlaceholder:"Full Name",phonePlaceholder:"Phone Number",addressPlaceholder:"Address",notesPlaceholder:"Any notes or requests?",errorMsg:"Please fill all required fields.",proceedBtn:"Proceed to Checkout"},a9={title:"Dine-In Details",instruction:"Please fill these fields",label:"Type your table number:",placeholder:"Enter your table number",notesPlaceholder:"Any notes or requests?",errorMsg:"Please select a table number.",proceedBtn:"Proceed to Checkout"},l9={title:"Select Payment Method",cash:"Confirm Cash Payment",cancel:"Cancel"},u9={noProduct:"There is no product",priceLabel:"Price",viewMore:"View More ",viewLess:"View Less "},c9={features:"Features",pricing:"Pricing",clients:"Our Clients",getStarted:"Get Started Now"},d9={title:"Smart Online Ordering System for Restaurants and Cafs",subtitle:"Provide a branded experience for your customers with a custom online ordering and reservation website.",button:"Get Started Now"},h9={title1:"What is ReVerse?",description:"ReVerse is a web-based platform designed for restaurants and cafs, offering customer online ordering and reservation websites. It allows businesses to create a unique brand identity online, manage orders and reservations efficiently through an intuitive admin panel, and enhance customer experience with seamless online interaction.",title2:"Everything you need to run your restaurant online",cards:[{title:"Custom Branding",description:"Create a unique online experience that reflects your brands identity."},{title:"Online Order Management",description:"Manage incoming orders in real-time with instant admin notifications."},{title:"Booking & Reservations",description:"Streamline your reservation process with an integrated booking module."},{title:"Products & Categories Control",description:"Easily organize and update your menu with product and category management."},{title:"Admin Dashboard with Secure Login",description:"Access a secure admin dashboard with Firebase authentication."},{title:"Multilingual Support",description:"Support both English and Arabic to serve a wider customer base."},{title:"Web-Hosted",description:"Your website is hosted online  no need for a separate app."},{title:"Fast 24h Delivery",description:"Get your custom platform up and running within 24 hours."}]},f9={title:"Pricing that fits your business",month:"month",startNow:"Start Now",cta:`Try ReVerse for 1 week  absolutely free. 
If you like it, subscribe anytime!`,plans:{basic:{title:"Basic",price:"$25",features:["Online ordering website","Unlimited orders","Mobile-friendly design"]},pro:{title:"Premium",price:"$50",features:["Highlight top 3 dishes/drinks","Online payments via Stripe","Everything in Basic"]},vip:{title:"VIP Custom",price:"VIP",features:["Custom-built full website","Dedicated account manager","Full ownership & code"]}}},p9={title:"Our Clients",description:"Explore real examples of restaurants and cafes already using ReVerse to power their online ordering and reservations.",cta:"Get Started Now",viewMore:"All Clients",hide:"Hide Clients"},m9={title:"Why choose ReVerse?",description:"We provide comprehensive solutions for restaurants and cafs looking to establish a strong online presence.",features:{fast:{title:"Fast Setup",desc:"Get your website up and running in no time with our intuitive platform."},pricing:{title:"Affordable Pricing",desc:"Competitive pricing plans to fit businesses of all sizes."},ui:{title:"Professional UI",desc:"Modern and customizable templates to showcase your brand."},responsive:{title:"Responsive Design",desc:"Websites that look great on any device  from desktop to smartphone."},support:{title:"Dedicated Support",desc:"Our team is here to assist you every step of the way."}},cta:{title:"Ready to boost your business?",description:"Contact us today to get your own Website live in 24h. ReVerse can help your restaurant thrive.",button:"Contact Us"},copyright:"All rights reserved."},g9={adminO:j5,buttons:M5,placeholders:F5,privacy:U5,confirm:B5,errors:$5,messages:z5,reservation:H5,modal:W5,contact:q5,footer:K5,navbar:G5,sidemenu:Q5,addCategory:Y5,addProduct:X5,special:J5,upgrade:Z5,bookings:e9,categories:t9,products:n9,orders:r9,admin:i9,cart:s9,delivery:o9,dinein:a9,payment:l9,productList:u9,navbarMe:c9,heroMe:d9,features:h9,pricing:f9,clients:p9,footerMe:m9},y9={hello:" ",nowYouCan:" ",welcome:"  !",loginPrompt:"    .",willLogInto:"  "},v9={login:" ",goToAdmin:"   ",logout:" ",yes:"",no:"",or:"",submit:" ",close:"",delete:""},_9={email:" ",password:" "},w9={agree:"   "},E9={logout:"      "},T9={privacyPolicy:"    !",storedProjectNotFound:"     ",sessionCheck:"      ",notAuthorized:"      !",projectNotFound:"   !",loginFailed:"  !"},S9={loginSuccess:"   !",loggedOut:"  .",projectSwitched:"    .    ."},x9={title:" ",labels:{yourName:" ",tableSize:"  ",chooseADay:" ",chooseATime:" "},info:{openingHours:" ",additionalInfo:" "},errors:{requiredFields:"    .",general:"     ."}},I9={title:"  ",depositNotice:"       {{amount}}$.",selectMethod:"  :",chooseMethod:" ",confirm:"",cancel:"",error:"   .",success:"   !",instructions:{vodafone:"  : {{number}}",paypal:"  : {{account}}",stripe:"  Stripe: {{link}}",fawry:" : {{code}}"}},b9={greeting:" !",contactVia:"   :",noData:"    ",loading:"  ..."},C9={contactUs:" ",details:"",developedBy:"   ReVerse"},P9={menu:"",cart:"",contact_us:" ",admin_login:" "},A9={home:"",cart:"",products:"",book_table:" ",about_us:" ",admin:"",contact:" "},R9={title:" ",filterByCategory:"  :",noProducts:"    .",fullDescription:" :",confirmDelete:'      "{{name}}"'},k9={back:"",title:"     : {{slug}}",count:" : {{count}}",note:"         80     .",filterByStatus:"  :",orderType:" :",header:"{{index}}.  {{count}}  : {{date}}  : {{status}}",item:" {{name}} | {{size}} | : {{quantity}} | ${{price}}",notes:"",total:"",name:"",address:"",phone:" ",tableNumber:" ",payment:"",paidOnline:"   ",unpaidOnline:"    -   ",cashOnDelivery:"   ",changeStatus:" :",cancelled:"   ",delete:""},N9={title:"   - {{slug}}",name:"",email:" ",logout:" ",add:"",list:" ",orders:"",bookings:"",back:"",logoutConfirm:"      ",logoutYes:"  ",cancel:""},O9={totalTitle:" ",subtotal:" ",deliveryFee:" ",total:"",inside:" ",outside:" ",price:"",size:"",emptyMessage:"   .    .",fullDescription:" "},D9={title:" ",note:"      1:1 ()",previewAlt:" ",changeImage:" ",namePlaceholder:" ",submit:" ",errors:{nameAndImage:"     .",nameOnly:"  .",imageOnly:"  ."}},V9={back:"",tabs:{product:" ",category:" ",special:" "},uploadImage:"   :",name:" :",namePlaceholder:" ",description:" :",descriptionPlaceholder:"",sizesTitle:"  :",standard:" ",price:"",priceFor:" ",category:" :",selectCategory:" ",submit:" "},L9={addSpecialItems:"  ",sectionTitlePlaceholder:"  ",saveTitle:" ",name:"",description:"",oldPrice:" ",price:"",uploadImage:" ",changeImage:" ",addItem:" ",confirmDeleteSection:"       ",confirmDeleteItem:"     ",fullDescription:" :"},j9={specialItemsTitle:"      ",description:"             .",contactBtn:"  "},M9={back:"",title:" ",filters:{all:"",pending:" ",confirmed:" ",rejected:""},table:{name:"",seats:" ",date:"",time:"",payment:"",status:"",actions:""},noBookings:"   .",confirmDelete:"       "},F9={title:" ",noCategories:"  .",count:"{{count}} ()",confirmDelete:'      "{{name}}"'},U9={title:" ",instruction:"   ",namePlaceholder:" ",phonePlaceholder:" ",addressPlaceholder:"",notesPlaceholder:"   ",errorMsg:"    .",proceedBtn:"  "},B9={title:"   ",instruction:"   ",label:"  :",placeholder:"  ",notesPlaceholder:"   ",errorMsg:"   .",proceedBtn:"  "},$9={title:"  ",cash:"  ",cancel:""},z9={noProduct:"   ",priceLabel:"",viewMore:"  ",viewLess:"  "},H9={features:"",pricing:"",clients:"",getStarted:" "},W9={title:"    ",subtitle:"         .",button:" "},q9={title1:"  ReVerse",description:"ReVerse           .                       .",title2:"     ",cards:[{title:"  ",description:"      ."},{title:"  ",description:"       ."},{title:" ",description:"      ."},{title:"  ",description:"     ."},{title:"  ",description:"   Firebase   ."},{title:"  ",description:"     ."},{title:"  ",description:"        ."},{title:"   24 ",description:"     ."}]},K9={title:"  ",month:"",startNow:" ",cta:` ReVerse   .
      !`,plans:{basic:{title:"",price:"$25",features:["  ","  ","  "]},pro:{title:"",price:"$50",features:["   3   ","   Stripe","   "]},vip:{title:"VIP ",price:"VIP",features:["    ","  ","   "]}}},G9={title:"",description:"      ReVerse    .",cta:" ",viewMore:" ",hide:" "},Q9={title:"  ReVerse",description:"          .",features:{fast:{title:" ",desc:"         ."},pricing:{title:" ",desc:"      ."},ui:{title:" ",desc:"      ."},responsive:{title:" ",desc:"         ."},support:{title:" ",desc:"     ."}},cta:{title:"  ",description:"       24 . ReVerse    .",button:" "},copyright:"  ."},Y9={adminO:y9,buttons:v9,placeholders:_9,privacy:w9,confirm:E9,errors:T9,messages:S9,reservation:x9,modal:I9,contact:b9,footer:C9,navbar:P9,sidemenu:A9,products:R9,orders:k9,admin:N9,cart:O9,addCategory:D9,addProduct:V9,special:L9,upgrade:j9,bookings:M9,categories:F9,delivery:U9,dinein:B9,payment:$9,productList:z9,navbarMe:H9,heroMe:W9,features:q9,pricing:K9,clients:G9,footerMe:Q9};Sn.use(hb).use(PD).init({resources:{en:{translation:g9},ar:{translation:Y9}},fallbackLng:"en",interpolation:{escapeValue:!1}});function X9(){const n=Zn();return P.useEffect(()=>{const e=window.location.search.slice(1);e&&n("/"+e)},[]),null}IC.createRoot(document.getElementById("root")).render(v.jsx(zP,{children:v.jsx(v.Fragment,{children:v.jsxs(wx,{children:[v.jsx(X9,{})," ",v.jsx(n5,{}),v.jsx(qu,{})]})})}));
